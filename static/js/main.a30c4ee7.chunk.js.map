{"version":3,"sources":["common/values.ts","common/routing.ts","common/utils.ts","components/info/ChangeCoordinatesCard.tsx","components/info/CoordinatesCard.tsx","components/info/CoordinateInterface.tsx","img/logo-192.png","components/info/InfoDialog.tsx","dist/clientDetect.js","components/tansTheoremUtils.ts","components/tans_theorem/OrbitMarker.tsx","components/tans_theorem/MisiurewiczPointMarker.tsx","components/tans_theorem/MisiurewiczPointInfoCard.tsx","components/tans_theorem/MisiurewiczPointsList.tsx","components/tans_theorem/Searchbar.tsx","components/tans_theorem/PointsInfoCard.tsx","components/tans_theorem/SimilarityAnimationCard.tsx","components/tans_theorem/MisiurewiczModeFragment.tsx","components/tans_theorem/SimilarityMenu.tsx","components/tans_theorem/ZoomBar.tsx","components/tans_theorem/PlayCard.tsx","components/tans_theorem/PreperiodicPointMarker.tsx","components/tans_theorem/DomainInfoCard.tsx","components/tans_theorem/OrbitCard.tsx","components/tans_theorem/OrbitManager.tsx","components/MPoints.ts","shaders/newSmoothJuliaShader.ts","common/settings.ts","components/settings/SettingsDefinitions.tsx","components/settings/SettingsContext.tsx","theme/theme.tsx","shaders/fullVertexShader.js","components/render/WebGLCanvas.tsx","components/render/MinimapViewer.tsx","components/render/JuliaRenderer.tsx","shaders/newSmoothMandelbrotShader.ts","shaders/misiurewiczDomainsMandelbrotShader.ts","components/info/FPSCard.tsx","components/render/MandelbrotRenderer.tsx","serviceWorker.js","components/ServiceWorkerWrapper.tsx","components/settings/SettingsMenu.tsx","App.tsx","index.tsx"],"names":["viewerOrigin","xy","z","theta","defaultMandelbrotStart","defaultJuliaStart","defaultViewerStart","m","j","springsConfigs","default","mass","tension","friction","precision","zoom","rot","user","toFloatDisplay","n","p","toFixed","toFloatDisplayShort","NamedHashURLViewer","name","v","this","ViewerURLManager","vs","updateFromURL","asHashURL","params","currentViewerState","newV","undefined","map","toFloatDisplayDefault","updateViewer","currentLocation","window","location","hash","replace","l","viewerParams","split","filter","length","forEach","s","parsedVals","Number","some","isNaN","x","y","t","error","console","log","useWindowSize","isClient","getSize","useCallback","width","innerWidth","height","innerHeight","useState","windowSize","setWindowSize","useEffect","handleResize","addEventListener","removeEventListener","genericTouchBind","domTarget","controls","setDragging","xyCtrl","setControlXY","zoomCtrl","minZoom","maxZoom","setControlZoom","rotCtrl","setControlRot","zoomMult","getRealZoom","current","handlers","onPinch","event","da","vdva","down","movement","md","ma","delta","first","origin","memo","getValue","a","o","preventDefault","newZ","_","clamp","deg","newZclamp","realZoom","vScale","subV","relMove","addV","vRotate","immediate","config","Math","PI","onWheel","my","active","shiftKey","newT","onDrag","direction","pinching","velocity","cancel","last","vecXY","eventOptions","passive","capture","warpToPoint","Rgb255ColourToFloat","c","r","g","b","e","ChangeCoordinatesCard","props","setXY","setZoom","setTheta","Card","style","zIndex","position","padding","display","flexDirection","flexShrink","Grid","container","alignItems","TextField","size","onChange","target","value","type","defaultValue","inputProps","step","label","justify","min","Button","marginTop","onClick","mandelbrot","CoordinatesCard","marginBottom","Typography","align","fontFamily","fontSize","span","interpolate","CoordinateInterface","Grow","in","show","right","top","margin","DialogTitle","withStyles","theme","createStyles","root","spacing","image","marginRight","closeButton","marginLeft","color","palette","grey","children","classes","onClose","other","disableTypography","className","src","MandelbrotMapsLogo","alt","variant","IconButton","aria-label","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","Alert","elevation","InfoDialog","ctrl","open","setOpen","snackBarOpen","setSnackBarOpen","handleClose","clientData","useMemo","screenSize","screen","nameOffset","verOffset","ix","nVer","navigator","appVersion","nAgt","userAgent","browser","appName","version","parseFloat","majorVersion","parseInt","indexOf","substring","lastIndexOf","toLowerCase","toUpperCase","mobile","test","cookieEnabled","document","cookie","os","clientStrings","id","cs","osVersion","exec","gl","debugInfo","gpuVendor","renderer","system","device","canvas","createElement","getContext","getExtension","getParameter","UNMASKED_VENDOR_WEBGL","UNMASKED_RENDERER_WEBGL","browserVersion","browserRelease","platform","dpr","devicePixelRatio","gpu","clientDetect","Dialog","aria-labelledby","maxWidth","dividers","gutterBottom","Link","href","Divider","Box","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","colSpan","TableBody","Object","entries","k","String","process","data","clipboard","writeText","prompt","writeToClipboard","JSON","stringify","startIcon","Snackbar","autoHideDuration","severity","surveyLink","rel","textDecoration","autoFocus","TOLERANCE","magnitude","sqrt","distance","pow","add","sub","mult","divide","d","square","atan2","r2","cos","sin","orbit","i","orbitEigenvalue","der","W","endOfCycle","startOfCycle","cycleEigenvalue","firstIterateInCycle","magnificationRotationMandelbrot","f","h","withoutH","withH","numericalDerivative","reachAlpha","alpha","olds","push","findIndex","elem","getAlpha","round","multiplier","formatComplexNumber","formatAngle","angle","Wfried","findNearestMisiurewiczPoint","q","minNumber","minp","findPotentialPreperiod","learningRate","F","Fdash","depthFirstSearch","zs","depth","preImagePositive","preImageNegative","similarPoints","prePeriod","period","point","PreperiodicPoint","subscripts","u","uMagnitude","uAngle","aMagnitude","aAngle","similar","magnificationRotationJulia","pre","replaceAll","toString","colorByPreperiod","highestPreperiod","num","in_min","in_max","out_min","out_max","redness","pointWithinBoundingBox","boxCentre","boxWidth","boxHeight","angleRelativeToBox","distanceX","distanceY","horizontalDistance","abs","verticalDistance","complexToScreenCoordinate","OrbitMarker","mandelbrotControl","ASPECT_RATIO","mapWidth","mapHeight","div","left","iterate","bottom","Tooltip","title","placement","handleMandelbrotSelection","focusedPointMandelbrot","setFocusedPointMandelbrot","focusedPointJulia","setFocusedPointJulia","MisiurewiczPointMarker","visibility","centre","show_threshold","withinBoundingBox","offsetX","offsetY","BUTTON_SIZE","useStyles","makeStyles","iconButtonLabel","MisiurewiczPointInfoCard","focusedPoint","setAnimationState","AnimationStatus","SHOW_ORBIT","julia","SELECT_JULIA_POINT","MisiurewiczPointsList","Select","native","chosenPoint","parsePoint","chosenMisiurewicz","setFocusedPoint","MISIUREWICZ_POINTS","Searchbar","backgroundColor","InputLabel","htmlFor","shadeDomains","animationState","PointsInfoCard","SimilarityAnimationCard","cj","steps","Stepper","activeStep","valueOf","orientation","labelProps","optional","Step","StepLabel","fullWidth","TRANSLATE_M","TRANSLATE_J","ZOOM_M","ZOOM_J","zoomM","zoomMandelbrot","ROTATE_M","zoomJ","zoomJulia","ROTATE_J","thetaM","rotateMandelbrot","PLAY","thetaJ","rotateJulia","SimilarityMenu","state","similarPointsJulia","handleMandelbrotPointSelection","NO_ANIMATION","handleJuliaSelection","float","ZoomBar","eigenvalueTheta","rotateAndZoom","mag","setMagState","marks","eigenvalueMagnitude","notch","generateMarks","item","xs","Slider","newValue","max","valueLabelDisplay","PlayCard","React","viewerControl","preperiodicPoint","offset","MARKER_SIZE","MAX_DEPTH","DomainInfoCard","OrbitCard","currentPoint","OrbitManager","orbitInformation","maxIterations","points","orbitList","orbitPs","setState","orbitPoints","Array","keys","tick","setInterval","Component","slice","commaSeperated","MisiurewiczModeFragment","defaultMisiurewiczPoint","mPoint","PreperiodicPointMarker","newSmoothJuliaShader","maxI","AA","B","defaultSettings","showMinimap","showCrosshair","showCoordinates","showMisiurewiczPoints","shadeMisiurewiczDomains","showFPS","useDPR","useAA","colour","settingsWidgets","settings","checked","control","Switch","labelPlacement","SettingsContext","createContext","setSettings","SettingsProvider","Provider","createMuiTheme","MuiSwitch","MuiButton","borderRadius","primary","main","colors","blue","secondary","red","info","shape","contrastBoxShadow","fullscreenVertexArray","numComponents","WebGLCanvas","forwardRef","refAny","canvasRef","useRef","renderRequestRef","bufferInfo","programInfo","setFps","fps","mini","setupCanvas","debug","compileShader","ctx","twgl","fragShader","then","frames","elapsedTime","interval","render","time","prog","buff","viewport","uniforms","resolution","u_zoom","u_c","u_xy","u_maxI","u_theta","u_colour","useProgram","program","requestAnimationFrame","cancelAnimationFrame","ref","cursor","dragging","displayName","MinimapViewer","rest","ButtonBase","boxShadow","overflow","JuliaRenderer","miniCanvasRef","miniFragShader","gtb","useGesture","Consumer","makeCrosshair","stroke","radius","standardCrosshair","miniCrosshair","newSmoothMandelbrotShader","crosshairShape","misiurewiczDomainsMandelbrotShader","FPSCard","userSelect","MandelbrotRenderer","fragShaderMisiurewiczDomain","isLocalhost","Boolean","hostname","match","register","URL","swUrl","fetch","response","contentType","headers","get","status","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ServiceWorkerWrapper","showReload","setShowReload","waitingWorker","setWaitingWorker","onSWUpdate","waiting","anchorOrigin","vertical","horizontal","action","postMessage","settingsButton","popoverCardGrid","paddingTop","paddingBottom","paddingRight","paddingLeft","sliderControl","GroupDivider","GroupTitle","icon","SettingsMenu","anchorEl","setAnchorEl","ResetButton","aria-controls","reset","AboutButton","toggleInfo","Fab","aria-haspopup","currentTarget","Backdrop","Popover","keepMounted","transformOrigin","ExtensionIcon","widgets","PhotoIcon","CompareIcon","getSettingsWidgetsGrouping","FormGroup","widget","FormControlLabel","val","prevState","App","loc","setLoc","handler","to","useHashLocation","updateBrowserHash","history","replaceState","urlManager","updateHash","asFullHashURL","updateM","updateJ","mandelbrotControls","useSpring","onRest","juliaControls","showInfo","setShowInfo","ThemeProvider","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a30c4ee7.chunk.js","sourcesContent":["import { RgbColor } from 'react-colorful';\nimport { ViewerLocation } from './types';\n\n// this multiplier subdivides the screen space into smaller increments\n// to allow for velocity calculations to not immediately decay, due to the\n// otherwise small scale that is being mapped to the screen.\n// export const screenScaleMultiplier = 1e-7;\n// TL;DR this was a workaround - react-spring allows for \"precision\"\n//       to be defined in each spring configuration, which is:\n//       > The smallest velocity before the animation is considered \"not moving\"\nexport const defaultPrecision = 1e-7;\n\nexport const viewerOrigin: ViewerLocation = {\n  xy: [0, 0],\n  z: 1,\n  theta: 0,\n};\n\nexport const defaultMandelbrotStart: ViewerLocation = {\n  xy: [0.2361652, 0.5633767],\n  z: 4,\n  theta: 0.2,\n};\nexport const defaultJuliaStart: ViewerLocation = {\n  xy: [0.4364131, -0.6468786],\n  z: 4,\n  theta: 2.12,\n};\n// indexable viewer start object\nexport const defaultViewerStart: { [k: string]: ViewerLocation } = {\n  m: defaultMandelbrotStart,\n  j: defaultJuliaStart,\n};\n\nexport const springsConfigs = {\n  /** used when the values are animated to a point, includes decay */\n  default: {\n    xy: { mass: 1, tension: 500, friction: 75, precision: defaultPrecision },\n    zoom: { mass: 1, tension: 300, friction: 40 },\n    rot: { mass: 1, tension: 400, friction: 75 },\n  },\n  /** used when a user is interacting with the view */\n  user: {\n    xy: { mass: 1, tension: 2000, friction: 75, precision: defaultPrecision },\n    zoom: { mass: 1, tension: 1200, friction: 75 },\n    rot: { mass: 1, tension: 1200, friction: 75 },\n  },\n  // default and decay are merged to give them single \"non-user\" values\n  // decay: {\n  //   /** used after the user has let go of the view, decaying */\n  //   xy: { mass: 1, tension: 500, friction: 75 },\n  //   zoom: { mass: 1, tension: 300, friction: 50 },\n  //   rot: { mass: 1, tension: 400, friction: 75 },\n  // },\n};\n\nexport const defaultShadingColour: RgbColor = { r: 0, g: 180, b: 255 };\n\n// export const defaultSpringConfig = { mass: 1, tension: 100, friction: 200 };\n\n// export const xyCtrlSpringConfig = { mass: 1, tension: 2000, friction: 100 };\n// export const xyCtrlSpringDecayConfig = { mass: 1, tension: 500, friction: 75 };\n\n// default number of numbers after the decimal point\nexport const defaultFloatFixedPrecision = 7;\nexport const shortFloatFixedPrecision = 2;\n\nexport const toFloatDisplay = (n: number, p: number): number => +n.toFixed(p);\n\nexport const toFloatDisplayDefault = (n: number): number =>\n  toFloatDisplay(n, defaultFloatFixedPrecision);\n\nexport const toFloatDisplayShort = (n: number): number =>\n  toFloatDisplay(n, shortFloatFixedPrecision);\n","import { useCallback, useEffect, useState } from 'react';\nimport { ReactUseStateType, ViewerLocation, XYType } from './types';\nimport {\n  defaultJuliaStart,\n  defaultMandelbrotStart,\n  defaultViewerStart,\n  toFloatDisplayDefault,\n  toFloatDisplayShort,\n} from './values';\n\nexport class NamedHashURLViewer {\n  name: string;\n  v: ViewerLocation;\n\n  constructor(name: string, v: ViewerLocation) {\n    this.name = name;\n    this.v = v;\n  }\n\n  /**\n   * convert a viewer's state into a defined URL representation\n   * @param namedViewer the viewer object to be converted\n   */\n  asHashURL(): string {\n    const { xy, z, theta } = this.v;\n    return `/${this.name}@${xy[0]},${xy[1]},${z},${theta}`;\n  }\n}\n\nexport class ViewerURLManager {\n  vs: {\n    [k: string]: NamedHashURLViewer;\n  };\n\n  constructor() {\n    this.vs = {};\n    this.updateFromURL();\n  }\n\n  asFullHashURL(): string {\n    return `#${this.vs['m'].asHashURL()}${this.vs['j'].asHashURL()}`;\n  }\n\n  updateFromURL(): void {\n    const params = currentViewerState();\n    this.vs['m'] = new NamedHashURLViewer(\n      'm',\n      params['m'] || { ...defaultMandelbrotStart },\n    );\n    this.vs['j'] = new NamedHashURLViewer('j', params['j'] || { ...defaultJuliaStart });\n  }\n\n  updateViewer(name: string, v: Partial<ViewerLocation>): void {\n    // console.log('updateViewer');\n    const { xy, z, theta } = v;\n    // const [[{ xy }], [{ z }], [{ theta }]] = [xyC]\n    // const [xy] = [xyCtrl?.xy];\n    const newV = this.vs[name].v;\n    if (xy !== undefined) newV.xy = xy.map((n) => toFloatDisplayDefault(n)) as XYType;\n    if (z !== undefined) newV.z = toFloatDisplayShort(z);\n    if (theta !== undefined) newV.theta = toFloatDisplayShort(theta);\n\n    this.vs[name].v = newV;\n  }\n\n  updateFromViewer(m: Partial<ViewerLocation>, j: Partial<ViewerLocation>): void {\n    this.updateViewer('m', m);\n    this.updateViewer('j', j);\n  }\n}\n\n// returns the current hash location in a normalized form\n// (excluding the leading '#' symbol)\nexport const currentLocation = (): string => {\n  // console.log(window.location);\n  const l = window.location.hash.replace('#', '') || '';\n  return l;\n};\n\nexport const currentViewerState = (): { [k: string]: ViewerLocation } => {\n  const l = currentLocation();\n  // key 'k' used to index which viewer is parsed\n  const viewerParams: { [k: string]: ViewerLocation } = {};\n  // actually parse the hash\n  try {\n    // separate each viewer's string, remove the empty string from the start\n    // (/abc/123) split => ['', 'abc', '123']\n    const qs = l.split('/').filter((v) => v.length > 0);\n    qs.forEach((s) => {\n      // viewer [name, params] is separated by @ sign\n      // assume this first split must succeed for any input to be parseable\n      const [v, params] = s.split('@');\n      const parsedVals = params.split(',').map(Number);\n      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\n      if (parsedVals.some(isNaN)) {\n        // at least one parsing fail, stop now\n        viewerParams[v] = defaultViewerStart[v];\n      } else {\n        const [x, y, z, t] = parsedVals;\n        viewerParams[v] = { xy: [x, y] as XYType, z: z, theta: t };\n      }\n    });\n  } catch (error) {\n    // uhhhh, something's wrong\n    console.log(error);\n  }\n  return viewerParams;\n};\n\n// non-reloading hash change\nexport const useHashNavigator = (): ((to: string) => void) =>\n  useCallback((to) => window.history.replaceState(null, document.title, to), []);\n\n// https://github.com/molefrog/wouter#customizing-the-location-hook\nexport const useHashLocation = (): ReactUseStateType<string> => {\n  const [loc, setLoc] = useState(currentLocation());\n\n  useEffect(() => {\n    // this function is called whenever the hash changes\n    const handler = () => setLoc(currentLocation());\n\n    // subscribe to hash changes\n    window.addEventListener('hashchange', handler);\n    return () => window.removeEventListener('hashchange', handler);\n  }, []);\n\n  // remember to wrap your function with `useCallback` hook\n  // a tiny but important optimization\n  const navigate = useCallback((to) => (window.location.hash = to), []);\n\n  return [loc, navigate];\n};\n","import _ from 'lodash';\nimport { RefObject, useCallback, useEffect, useState } from 'react';\nimport { RgbColor } from 'react-colorful';\nimport { addV, subV } from 'react-use-gesture';\nimport {\n  FullGestureState,\n  Handlers,\n  StateKey,\n  UseGestureConfig,\n  Vector2,\n} from 'react-use-gesture/dist/types';\nimport { Vector, vRotate, vScale } from 'vec-la-fp';\nimport { RgbFloatColour, ViewerControlSprings, ViewerLocation } from './types';\nimport { springsConfigs } from './values';\n\n// https://usehooks.com/useWindowSize/\nexport function useWindowSize(): { width?: number; height?: number } {\n  const isClient = typeof window === 'object';\n\n  const getSize = useCallback(\n    () => ({\n      width: isClient ? window.innerWidth : undefined,\n      height: isClient ? window.innerHeight : undefined,\n    }),\n    [isClient],\n  );\n\n  const [windowSize, setWindowSize] = useState(getSize);\n\n  useEffect(() => {\n    if (!isClient) {\n      // return false;\n      return () => {\n        // do nothing\n      };\n    }\n\n    function handleResize() {\n      setWindowSize(getSize());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [getSize, isClient]); // Empty array ensures that effect is only run on mount and unmount\n\n  return windowSize;\n}\n\nexport interface GenericTouchBindParams {\n  domTarget: RefObject<HTMLCanvasElement>;\n  controls: ViewerControlSprings;\n  // screenScaleMultiplier: number;\n  // gl: any,\n  setDragging: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport interface GenericTouchBindReturn {\n  handlers: Handlers;\n  config: UseGestureConfig;\n}\n\n// --------------------------------------------------------------------------\n// https://gist.github.com/evdokimovm/0e7163faf7c8fe24e41e6b68461e4feb\n// Convert from degrees to radians.\nconst degToRad = (deg: number): number => (deg * Math.PI) / 180;\n// Math.radians(90); // 1.5707963267948966\n\n// Convert from radians to degrees.\n// eslint-disable-next-line\nconst radToDeg = (rad: number): number => (rad * 180) / Math.PI;\n// Math.degrees(3.141592653589793); // 180\n// --------------------------------------------------------------------------\n\n// a touchbind for re-using across renderers\nexport function genericTouchBind({\n  domTarget,\n  controls,\n  setDragging,\n}: GenericTouchBindParams): GenericTouchBindReturn {\n  const [{ xy }, setControlXY] = controls.xyCtrl;\n  const [{ z, minZoom, maxZoom }, setControlZoom] = controls.zoomCtrl;\n  const [{ theta }, setControlRot] = controls.rotCtrl;\n\n  const zoomMult = { in: 3e-3, out: 1e-3 };\n\n  // used to have screenScaleMultiplier here\n  const getRealZoom = (z: number) => (domTarget.current?.height || 100) * z;\n  // * screenScaleMultiplier;\n\n  return {\n    handlers: {\n      // prevent some browser events such as swipe-based navigation or\n      // pinch-based zoom and instead redirect them to this handler\n      // onDragStart: ({ event }: FullGestureState<StateKey<'drag'>>) =>\n      //   event?.preventDefault(),\n      // onPinchStart: ({ event }: FullGestureState<StateKey<'pinch'>>) =>\n      //   event?.preventDefault(),\n      // onWheelStart: ({ event }: FullGestureState<StateKey<'wheel'>>) =>\n      //   event?.preventDefault(),\n\n      onPinch: ({\n        event,\n        da: [d, a],\n        vdva: [vd, va],\n        down,\n        // delta: [dd, da],\n        movement: [md, ma],\n        delta: [dd, da],\n        first,\n        // initial, // initial [d, a]\n        origin,\n        // movement, //: [mx, my],\n        memo = {\n          xy: xy.getValue(),\n          z: z.getValue(),\n          t: theta.getValue(),\n          a: 0,\n          o: [0, 0] as Vector2,\n        },\n      }: FullGestureState<StateKey<'pinch'>>) => {\n        // disable native browser events\n        event && event.preventDefault();\n\n        if (first) {\n          // remember the angle, location at which the pinch gesture starts\n          // memo.a = a;\n          memo.o = origin;\n        }\n\n        // console.log(subV(origin, initial));\n        // console.log(initial);\n        // console.log(origin);\n        // console.log(md);\n        // console.log(ma);\n        // const zd = md * 1e-2;\n\n        // new zoom is the product of initial zoom and a function of the delta since the pinch\n        //   (initial zoom) exponentially changed by md, with linear and exponential multipliers\n        //     linear multiplier:\n        //     exponential multiplier: scale faster as pinch becomes more distant\n        //     if decreasing, scale must decrease more slowly\n        // const em = 1.33;\n        // const newZ =\n        //   memo.z * (1 + Math.sign(md) * 1e-2 * Math.abs(md) ** (md <= 0 ? 1 / em : em)); //(1 - zdelta * Math.abs(zdelta));\n        const newZ = _.clamp(memo.z + md * 1e-2, 0.5, 100_000) ** (1 + md * 1e-3); //(1 - zdelta * Math.abs(zdelta));\n        // console.log(Math.abs(md * 1e-2));\n        // console.log(\n        //   md.toFixed(2) + ' => ' + 1e-2 * Math.abs(md) ** (md <= 0 ? 0.8 : 1.1),\n        // );\n        console.log(newZ);\n        const newZclamp = _.clamp(newZ, minZoom.getValue(), maxZoom.getValue());\n\n        const realZoom = getRealZoom(newZclamp);\n\n        // get movement of pointer origin for panning\n        const [px, py]: Vector2 = vScale(-2 / realZoom, subV(origin, memo.o));\n        const relMove: Vector2 = [px, -py];\n\n        setControlXY({\n          xy: addV(memo.xy, vRotate(theta.getValue(), relMove)),\n          immediate: false,\n        });\n\n        setControlZoom({\n          z: newZclamp,\n          immediate: false,\n          config: down ? springsConfigs.user.zoom : springsConfigs.default.zoom,\n        });\n\n        setControlRot({\n          theta: memo.t + degToRad(ma),\n          // fixes issues with wrapping around from (0) to (-2pi)\n          immediate: false,\n          config: down ? springsConfigs.user.rot : springsConfigs.default.rot,\n        });\n\n        return memo;\n      },\n\n      onWheel: ({\n        event,\n        movement: [, my],\n        active,\n        shiftKey,\n        memo = { zoom: z.getValue(), t: theta.getValue() },\n      }: FullGestureState<StateKey<'wheel'>>) => {\n        // disable native browser events\n        event && event.preventDefault();\n\n        if (shiftKey) {\n          // if shift is pressed, rotate instead of zoom\n          const newT = memo.t + my * 1.5e-3;\n\n          setControlRot({\n            theta: newT,\n            config: active ? springsConfigs.user.rot : springsConfigs.default.rot,\n            immediate: false,\n          });\n        } else {\n          // set different multipliers based on zoom direction\n          // mouse movement negative = move up the page = zoom in\n          //                                   zoom        in           out\n          const newZ = memo.zoom * (1 - my * (my < 0 ? zoomMult.in : zoomMult.out));\n\n          setControlZoom({\n            z: _.clamp(newZ, minZoom.getValue(), maxZoom.getValue()),\n            config: active ? springsConfigs.user.zoom : springsConfigs.default.zoom,\n            // reset immediate value from warp function\n            immediate: false,\n          });\n        }\n        return memo;\n      },\n\n      onDrag: ({\n        event,\n        down,\n        movement,\n        direction: [dx, dy],\n        velocity,\n        pinching,\n        last,\n        cancel,\n        memo = { xy: xy.getValue(), theta: theta.getValue() },\n      }: FullGestureState<StateKey<'drag'>>) => {\n        // disable native browser events\n        event && event.preventDefault();\n\n        // let pinch handle movement\n        if (pinching) cancel && cancel();\n        // change according to this formula:\n        // move (x, y) in the opposite direction of drag (pan with cursor)\n        // divide by canvas size to scale appropriately\n        // multiply by 2 to correct scaling on viewport (?)\n        // use screen multiplier for more granularity\n        const realZoom = getRealZoom(z.getValue());\n\n        const [px, py]: Vector = vScale(-2 / realZoom, movement);\n        // const relMove: Vector = vScale(2 / realZoom, movement);\n\n        const relMove: Vector = [px, -py];\n        // const relDir: Vector = [dx, -dy];\n\n        const t = theta.getValue();\n\n        const vecXY = addV(memo.xy, vRotate(t, relMove)); // add the displacement to the starting position\n        // const velXY = vScale(velocity, vNorm(vecXY))\n\n        setControlXY({\n          // add to the current position the relative displacement (relMove), rotated by theta,\n          // to maintain the correct displacement direction (without this it would move as if theta=0)\n          xy: vecXY,\n          // immediate: down, // immediately apply if the gesture is active\n          config: down ? springsConfigs.user.xy : springsConfigs.default.xy,\n          // reset immediate value from warp function\n          immediate: false,\n          //  {\n          //   // velocity also needs to be rotated according to theta\n          //   // -@ts-expect-error - velocity should be `[number, number]`, but only `number` allowed\n          //   // velocity: vScale(-velocity / realZoom, vRotate(t, relDir)), // set the velocity (gesture momentum)\n          //   // velocity: vMag(vScale(-velocity / realZoom, vRotate(t, relDir))), // set the velocity (gesture momentum)\n          //   // velocity: velocity / screenScaleMultiplier, // set the velocity (gesture momentum)\n          //   // mass: down ? 1 : 5,\n          //   ...xyCtrlSpringConfig,\n          //   tension: down ? xyCtrlSpringConfig.tension : xyCtrlSpringConfig.tension / 2,\n          //   // -@ts-expect-error - decay is undocumented?\n          //   // decay: true,\n          // },\n        });\n\n        // tell the renderer that it's being dragged on\n        setDragging(down);\n\n        return memo;\n      },\n    },\n    config: {\n      eventOptions: { passive: false, capture: false },\n      domTarget: domTarget,\n      // The config object passed to useGesture has drag, wheel, scroll, pinch and move keys\n      // for specific gesture options. See here for more details.\n      // drag: {\n      //   bounds,\n      //   rubberband: true,\n      // }\n    },\n  };\n}\n\n/**\n * Warps the given controller to a desired viewer location.\n * @param controls The controller to be animated\n * @param location The (partial) viewer location to warp to: xy, zoom, theta\n * @param immediate Should the update happen immediately? (Useful for testing)\n */\nexport const warpToPoint = (\n  controls: ViewerControlSprings,\n  { xy, z, theta }: Partial<ViewerLocation>,\n  immediate = false,\n): void => {\n  // can't do a simple \"if (x)\" check since values could be zero (evaluates to \"false\")\n  if (xy !== undefined) {\n    controls.xyCtrl[1]({\n      // use screen scale multiplier for a simpler API\n      xy: xy,\n      config: springsConfigs.default.xy,\n      immediate: immediate,\n    });\n  }\n  if (z !== undefined) {\n    controls.zoomCtrl[1]({\n      z: z,\n      config: springsConfigs.default.zoom,\n      immediate: immediate,\n    });\n  }\n  if (theta !== undefined) {\n    controls.rotCtrl[1]({\n      theta: theta,\n      config: springsConfigs.default.rot,\n      immediate: immediate,\n    });\n  }\n};\n\n// no longer using screenScaleMultiplier\n// export const screenToReal = (x: number): number => x * screenScaleMultiplier;\n// export const RealToScreen = (x: number): number => x / screenScaleMultiplier;\n\nexport const Rgb255ColourToFloat = (c: RgbColor): RgbFloatColour =>\n  [c.r, c.g, c.b].map((e) => e / 255) as RgbFloatColour;\n","import { Button, Card, Grid, TextField } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport { ChangeCoordinatesCardProps } from '../../common/info';\nimport { warpToPoint } from '../../common/utils';\nimport { defaultMandelbrotStart } from '../../common/values';\n\nconst ChangeCoordinatesCard = (props: ChangeCoordinatesCardProps): JSX.Element => {\n  const [xy, setXY] = useState(defaultMandelbrotStart.xy);\n  const [x, y] = xy;\n  const [zoom, setZoom] = useState(defaultMandelbrotStart.z);\n  const [theta, setTheta] = useState(defaultMandelbrotStart.theta);\n\n  return (\n    <Card\n      style={{\n        width: 'auto',\n        zIndex: 1300,\n        position: 'relative',\n        padding: 8,\n        display: 'flex',\n        flexDirection: 'column',\n        flexShrink: 1,\n        // borderRadius: 100,\n      }}\n    >\n      <Grid container direction=\"column\" alignItems=\"center\">\n        <TextField\n          size=\"small\"\n          style={{ width: '12ch' }}\n          onChange={(e) => setXY(([x, y]) => [Number(e.target.value), y])}\n          type=\"number\"\n          defaultValue={x}\n          inputProps={{ step: 0.01 }}\n          label=\"x\"\n        />\n        <TextField\n          size=\"small\"\n          style={{ width: '12ch' }}\n          onChange={(e) => setXY(([x, y]) => [x, Number(e.target.value)])}\n          type=\"number\"\n          defaultValue={y}\n          inputProps={{ step: 0.01 }}\n          label=\"y\"\n        />\n        <Grid container direction=\"row\" justify=\"space-around\">\n          <TextField\n            size=\"small\"\n            style={{ width: '5ch' }}\n            onChange={(e) => setZoom(Number(e.target.value))}\n            type=\"number\"\n            defaultValue={zoom}\n            inputProps={{ min: 0 }}\n            label=\"zoom\"\n          />\n          <TextField\n            size=\"small\"\n            style={{ width: '5ch' }}\n            onChange={(e) => setTheta(Number(e.target.value))}\n            type=\"number\"\n            defaultValue={theta}\n            inputProps={{ step: 0.1 }}\n            label=\"theta\"\n          />\n        </Grid>\n        <Button\n          style={{ marginTop: 12 }}\n          onClick={() => warpToPoint(props.mandelbrot, { xy: xy, z: zoom, theta: theta })}\n        >\n          Go\n        </Button>\n      </Grid>\n    </Card>\n  );\n};\n\nexport default ChangeCoordinatesCard;\n","import { Card, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { animated } from 'react-spring';\nimport { CoordinatesCardProps } from '../../common/info';\nimport {\n  defaultFloatFixedPrecision,\n  shortFloatFixedPrecision,\n} from '../../common/values';\n\nconst CoordinatesCard = (props: CoordinatesCardProps): JSX.Element => {\n  return (\n    <Card\n      style={{\n        width: 'auto',\n        zIndex: 1300,\n        position: 'relative',\n        padding: '6px 12px',\n        marginBottom: 8,\n        // borderRadius: 100,\n      }}\n    >\n      <Typography align=\"right\" style={{ fontFamily: 'monospace', fontSize: '1.2rem' }}>\n        {/* https://www.typescriptlang.org/docs/handbook/basic-types.html#tuple */}\n        {/* https://www.typescriptlang.org/docs/handbook/2/objects.html#tuple-types */}\n        <animated.span>\n          {props.mandelbrot.xy.interpolate(\n            // @ts-expect-error: Function call broken in TS, waiting till react-spring v9 to fix\n            (x, y) => `${x.toFixed(defaultFloatFixedPrecision)} : x`,\n          )}\n        </animated.span>\n        <br />\n        <animated.span>\n          {props.mandelbrot.xy.interpolate(\n            // @ts-expect-error: Function call broken in TS, waiting till react-spring v9 to fix\n            (x, y) => `${y.toFixed(defaultFloatFixedPrecision)} : y`,\n          )}\n        </animated.span>\n        <br />\n        <animated.span>\n          {props.mandelbrot.zoom.interpolate(\n            (z) => `${z.toFixed(shortFloatFixedPrecision)} : z`,\n          )}\n        </animated.span>\n        <br />\n        <animated.span>\n          {props.mandelbrot.theta.interpolate(\n            (t) => `${t.toFixed(shortFloatFixedPrecision)} : t`,\n          )}\n        </animated.span>\n      </Typography>\n    </Card>\n  );\n};\n\nexport default CoordinatesCard;\n\n// <Card\n//   style={{\n//     width: 'auto',\n//     position: 'absolute',\n//     zIndex: 2,\n//     right: 0,\n//     top: 0,\n//     margin: 20,\n//     padding: 8,\n//     display: settings.coords[0] ? 'block' : 'none',\n//     // borderRadius: 100,\n//   }}\n// >\n//   <Typography align=\"right\">\n//     {/* https://www.typescriptlang.org/docs/handbook/basic-types.html#tuple */}\n//     {/* https://www.typescriptlang.org/docs/handbook/2/objects.html#tuple-types */}\n//     <animated.span>\n//       {mandelbrotControls.xyCtrl[0].xy.interpolate(\n//         // @ts-expect-error: Function call broken in TS, waiting till react-spring v9 to fix\n//         (x, y) => `${(x * screenScaleMultiplier).toFixed(7)} : x`,\n//       )}\n//     </animated.span>\n//     <br />\n//     <animated.span>\n//       {mandelbrotControls.xyCtrl[0].xy.interpolate(\n//         // @ts-expect-error: Function call broken in TS, waiting till react-spring v9 to fix\n//         (x, y) => `${(y * screenScaleMultiplier).toFixed(7)} : y`,\n//       )}\n//     </animated.span>\n//   </Typography>\n// </Card>;\n","import { Grow } from '@material-ui/core';\nimport React from 'react';\nimport { ViewerControlSprings } from '../../common/types';\nimport ChangeCoordinatesCard from './ChangeCoordinatesCard';\nimport CoordinatesCard from './CoordinatesCard';\n\nexport const CoordinateInterface = (props: {\n  mandelbrot: ViewerControlSprings;\n  show: boolean;\n}): JSX.Element => {\n  return (\n    <Grow\n      in={props.show}\n      style={{\n        position: 'absolute',\n        right: 0,\n        top: 0,\n        margin: 20,\n        width: 'auto',\n        zIndex: 1,\n      }}\n    >\n      <div>\n        <CoordinatesCard\n          mandelbrot={{\n            xy: props.mandelbrot.xyCtrl[0].xy,\n            zoom: props.mandelbrot.zoomCtrl[0].z,\n            theta: props.mandelbrot.rotCtrl[0].theta,\n          }}\n        />\n        <ChangeCoordinatesCard mandelbrot={props.mandelbrot} />\n      </div>\n    </Grow>\n  );\n};\n\nexport default CoordinateInterface;\n","export default __webpack_public_path__ + \"static/media/logo-192.ba1bc0bf.png\";","import React, { PropsWithChildren, useMemo, useState } from 'react';\nimport { createStyles, Theme, WithStyles, withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Typography from '@material-ui/core/Typography';\nimport {\n  Link,\n  TableContainer,\n  Table,\n  Paper,\n  TableRow,\n  TableCell,\n  TableHead,\n  TableBody,\n  Box,\n  Divider,\n  Snackbar,\n} from '@material-ui/core';\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\nimport { surveyLink } from '../surveyLink.json';\nimport MandelbrotMapsLogo from '../../img/logo-192.png';\n\n// for evaluating build time\nimport preval from 'preval.macro';\nimport clientDetect from '../../dist/clientDetect';\nimport { InfoDialogProps } from '../../common/info';\n\nconst dateTimeStamp = preval`module.exports = new Date();`;\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      margin: 0,\n      padding: theme.spacing(2),\n      display: 'flex',\n      flexDirection: 'row',\n      // align: \"middle\",\n    },\n    image: {\n      marginTop: 'auto',\n      marginBottom: 'auto',\n      marginRight: 8,\n      height: 50,\n    },\n    closeButton: {\n      // position: 'absolute',\n      // right: theme.spacing(1),\n      // top: theme.spacing(1),\n      marginLeft: 'auto',\n      color: theme.palette.grey[500],\n    },\n  });\n\nexport interface DialogTitleProps extends PropsWithChildren<WithStyles<typeof styles>> {\n  onClose: () => void;\n  id: string;\n}\n\n// https://material-ui.com/guides/typescript/#usage-of-withstyles\nconst DialogTitle = withStyles(styles)(\n  ({ children, classes, onClose, ...other }: DialogTitleProps) => {\n    return (\n      <MuiDialogTitle disableTypography className={classes.root} {...other}>\n        <img\n          src={MandelbrotMapsLogo}\n          alt=\"Mandelbrot Maps logo\"\n          className={classes.image}\n        />\n        <Typography\n          variant=\"h1\"\n          style={{ fontSize: 24, marginTop: 'auto', marginBottom: 'auto' }}\n        >\n          {children}\n        </Typography>\n        {onClose ? (\n          <IconButton\n            aria-label=\"close\"\n            className={classes.closeButton}\n            onClick={onClose}\n          >\n            <CloseIcon />\n          </IconButton>\n        ) : null}\n      </MuiDialogTitle>\n    );\n  },\n);\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\nfunction Alert(props: AlertProps) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nexport default function InfoDialog(props: InfoDialogProps): JSX.Element {\n  const [open, setOpen] = props.ctrl;\n  const [snackBarOpen, setSnackBarOpen] = useState(false);\n\n  const handleClose = () => setOpen(false);\n  // const showSnackBar = () => {\n  // new Promise(() => {\n  // setSnackBarOpen(false);\n  // }).then(() => {\n  // setSnackBarOpen(true);\n  // });\n  // };\n\n  // guard against null / undefined window\n  const clientData = useMemo(() => clientDetect(window), []);\n  // const clientData = window.jscd || {};\n\n  const writeToClipboard = (data: string) => {\n    console.log(snackBarOpen);\n    try {\n      navigator.clipboard.writeText(data);\n      setSnackBarOpen(true);\n    } catch (e) {\n      window.prompt('Auto copy to clipboard failed, copy manually from below:', data);\n    }\n  };\n\n  return (\n    <Dialog\n      onClose={handleClose}\n      aria-labelledby=\"customized-dialog-title\"\n      open={open}\n      maxWidth=\"md\"\n    >\n      {/* <div style={{ maxWidth: 700 }}> */}\n      <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n        Mandelbrot Maps\n      </DialogTitle>\n      <DialogContent dividers style={{ maxWidth: 700 }}>\n        <Typography gutterBottom>\n          Mandelbrot Maps is an interactive fractal explorer built using React and WebGL.\n        </Typography>\n        <Typography gutterBottom>\n          Developed by{' '}\n          <Link href=\"https://jmaio.github.io/\" target=\"_blank\">\n            Joao Maio\n          </Link>{' '}\n          in 2019/2020 as part of an Honours Project at The University of Edinburgh, under\n          the supervision of Philip Wadler.\n        </Typography>\n        <Typography gutterBottom>\n          The project was simultaneously undertaken by Freddie Bawden, also under the\n          supervision of Philip Wadler. Freddie&apos;s version of the project is available\n          at:{' '}\n          <Link href=\"http://mmaps.freddiejbawden.com/\" target=\"_blank\">\n            mmaps.freddiejbawden.com\n          </Link>\n        </Typography>\n        <Typography gutterBottom>\n          The{' '}\n          <Link\n            href=\"https://homepages.inf.ed.ac.uk/wadler/mandelbrot-maps/index.html\"\n            target=\"_blank\"\n          >\n            original Mandelbrot Maps project\n          </Link>{' '}\n          was developed by Iain Parris in 2008 as a Java Applet.\n        </Typography>\n        <Typography gutterBottom>\n          Mandelbrot set shader code adapted from{' '}\n          <Link href=\"https://www.shadertoy.com/view/4df3Rn\">Mandelbrot - smooth</Link> by{' '}\n          <Link href=\"http://iquilezles.org/\" target=\"_blank\">\n            Inigo Quilez\n          </Link>\n          .\n        </Typography>\n        {/* <Typography>\n            &copy; Joao Maio 2020\n          </Typography> */}\n\n        <Divider style={{ marginTop: 30, marginBottom: 30 }} />\n\n        <Box style={{ display: 'flex' }}>\n          <TableContainer\n            component={Paper}\n            style={{ width: 'auto', margin: 'auto', maxWidth: 460 }}\n          >\n            <Table size=\"small\" aria-label=\"a dense table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"center\" colSpan={2} variant=\"head\">\n                    Device properties\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {Object.entries(clientData).map(([k, v]) => (\n                  <TableRow key={k}>\n                    <TableCell>{k}</TableCell>\n                    <TableCell align=\"right\" style={{ fontFamily: 'monospace' }}>\n                      {String(v)}\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Box>\n\n        <Divider style={{ marginTop: 30, marginBottom: 30 }} />\n\n        <Box style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n          <Typography variant=\"overline\" align=\"center\" style={{ margin: 'auto' }}>\n            Build:\n            {/* {console.log(new Date(dateTimeStamp).toLocaleString('en-GB', { timeZone: 'UTC' }))} */}\n          </Typography>\n          <Typography style={{ fontFamily: 'monospace' }}>{dateTimeStamp}</Typography>\n          <Typography style={{ fontFamily: 'monospace' }}>\n            {process.env.REACT_APP_GIT_SHA}\n          </Typography>\n        </Box>\n      </DialogContent>\n\n      <DialogActions>\n        <Button\n          onClick={() => {\n            writeToClipboard(JSON.stringify(clientData));\n          }}\n          color=\"primary\"\n          variant=\"outlined\"\n          startIcon={<FileCopyIcon />}\n        >\n          Copy\n        </Button>\n        <Snackbar\n          open={snackBarOpen}\n          autoHideDuration={5000}\n          // onClose={() => setSnackBarOpen(false)}\n        >\n          <Alert onClose={() => setSnackBarOpen(false)} severity=\"info\">\n            Device properties copied!\n          </Alert>\n        </Snackbar>\n        <Link\n          href={surveyLink}\n          target=\"_blank\"\n          rel=\"noopener\"\n          style={{ textDecoration: 'none' }}\n        >\n          <Button autoFocus color=\"primary\" variant=\"outlined\" startIcon={<LaunchIcon />}>\n            Feedback\n          </Button>\n        </Link>\n      </DialogActions>\n      {/* </div> */}\n    </Dialog>\n  );\n}\n","/* eslint-disable */\r\n/**\r\n * JavaScript Client Detection\r\n * (C) viazenetti GmbH (Christian Ludwig)\r\n */\r\nexport default function clientDetect(window) {\r\n  var unknown = '-';\r\n\r\n  // screen\r\n  var screenSize = '';\r\n  if (window.screen.width) {\r\n    var width = window.screen.width ? window.screen.width : '';\r\n    var height = window.screen.height ? window.screen.height : '';\r\n    screenSize += '' + width + ' x ' + height;\r\n  }\r\n\r\n  // browser\r\n  var nVer = navigator.appVersion;\r\n  var nAgt = navigator.userAgent;\r\n  var browser = navigator.appName;\r\n  var version = '' + parseFloat(navigator.appVersion);\r\n  var majorVersion = parseInt(navigator.appVersion, 10);\r\n  var nameOffset, verOffset, ix;\r\n\r\n  // Opera\r\n  if ((verOffset = nAgt.indexOf('Opera')) != -1) {\r\n    browser = 'Opera';\r\n    version = nAgt.substring(verOffset + 6);\r\n    if ((verOffset = nAgt.indexOf('Version')) != -1) {\r\n      version = nAgt.substring(verOffset + 8);\r\n    }\r\n  }\r\n  // Opera Next\r\n  if ((verOffset = nAgt.indexOf('OPR')) != -1) {\r\n    browser = 'Opera';\r\n    version = nAgt.substring(verOffset + 4);\r\n  }\r\n  // Edge\r\n  else if ((verOffset = nAgt.indexOf('Edge')) != -1) {\r\n    browser = 'Microsoft Edge';\r\n    version = nAgt.substring(verOffset + 5);\r\n  }\r\n  // MSIE\r\n  else if ((verOffset = nAgt.indexOf('MSIE')) != -1) {\r\n    browser = 'Microsoft Internet Explorer';\r\n    version = nAgt.substring(verOffset + 5);\r\n  }\r\n  // Chrome\r\n  else if ((verOffset = nAgt.indexOf('Chrome')) != -1) {\r\n    browser = 'Chrome';\r\n    version = nAgt.substring(verOffset + 7);\r\n  }\r\n  // Safari\r\n  else if ((verOffset = nAgt.indexOf('Safari')) != -1) {\r\n    browser = 'Safari';\r\n    version = nAgt.substring(verOffset + 7);\r\n    if ((verOffset = nAgt.indexOf('Version')) != -1) {\r\n      version = nAgt.substring(verOffset + 8);\r\n    }\r\n  }\r\n  // Firefox\r\n  else if ((verOffset = nAgt.indexOf('Firefox')) != -1) {\r\n    browser = 'Firefox';\r\n    version = nAgt.substring(verOffset + 8);\r\n  }\r\n  // MSIE 11+\r\n  else if (nAgt.indexOf('Trident/') != -1) {\r\n    browser = 'Microsoft Internet Explorer';\r\n    version = nAgt.substring(nAgt.indexOf('rv:') + 3);\r\n  }\r\n  // Other browsers\r\n  else if (\r\n    (nameOffset = nAgt.lastIndexOf(' ') + 1) < (verOffset = nAgt.lastIndexOf('/'))\r\n  ) {\r\n    browser = nAgt.substring(nameOffset, verOffset);\r\n    version = nAgt.substring(verOffset + 1);\r\n    if (browser.toLowerCase() == browser.toUpperCase()) {\r\n      browser = navigator.appName;\r\n    }\r\n  }\r\n  // trim the version string\r\n  if ((ix = version.indexOf(';')) != -1) version = version.substring(0, ix);\r\n  if ((ix = version.indexOf(' ')) != -1) version = version.substring(0, ix);\r\n  if ((ix = version.indexOf(')')) != -1) version = version.substring(0, ix);\r\n\r\n  majorVersion = parseInt('' + version, 10);\r\n  if (isNaN(majorVersion)) {\r\n    version = '' + parseFloat(navigator.appVersion);\r\n    majorVersion = parseInt(navigator.appVersion, 10);\r\n  }\r\n\r\n  // mobile version\r\n  var mobile = /Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(nVer);\r\n\r\n  // cookie\r\n  var cookieEnabled = navigator.cookieEnabled ? true : false;\r\n\r\n  if (typeof navigator.cookieEnabled == 'undefined' && !cookieEnabled) {\r\n    document.cookie = 'testcookie';\r\n    cookieEnabled = document.cookie.indexOf('testcookie') != -1 ? true : false;\r\n  }\r\n\r\n  // system\r\n  var os = unknown;\r\n  var clientStrings = [\r\n    { s: 'Windows 10', r: /(Windows 10.0|Windows NT 10.0)/ },\r\n    { s: 'Windows 8.1', r: /(Windows 8.1|Windows NT 6.3)/ },\r\n    { s: 'Windows 8', r: /(Windows 8|Windows NT 6.2)/ },\r\n    { s: 'Windows 7', r: /(Windows 7|Windows NT 6.1)/ },\r\n    { s: 'Windows Vista', r: /Windows NT 6.0/ },\r\n    { s: 'Windows Server 2003', r: /Windows NT 5.2/ },\r\n    { s: 'Windows XP', r: /(Windows NT 5.1|Windows XP)/ },\r\n    { s: 'Windows 2000', r: /(Windows NT 5.0|Windows 2000)/ },\r\n    { s: 'Windows ME', r: /(Win 9x 4.90|Windows ME)/ },\r\n    { s: 'Windows 98', r: /(Windows 98|Win98)/ },\r\n    { s: 'Windows 95', r: /(Windows 95|Win95|Windows_95)/ },\r\n    { s: 'Windows NT 4.0', r: /(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/ },\r\n    { s: 'Windows CE', r: /Windows CE/ },\r\n    { s: 'Windows 3.11', r: /Win16/ },\r\n    { s: 'Android', r: /Android/ },\r\n    { s: 'Open BSD', r: /OpenBSD/ },\r\n    { s: 'Sun OS', r: /SunOS/ },\r\n    { s: 'Chrome OS', r: /CrOS/ },\r\n    { s: 'Linux', r: /(Linux|X11(?!.*CrOS))/ },\r\n    { s: 'iOS', r: /(iPhone|iPad|iPod)/ },\r\n    { s: 'Mac OS X', r: /Mac OS X/ },\r\n    { s: 'Mac OS', r: /(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/ },\r\n    { s: 'QNX', r: /QNX/ },\r\n    { s: 'UNIX', r: /UNIX/ },\r\n    { s: 'BeOS', r: /BeOS/ },\r\n    { s: 'OS/2', r: /OS\\/2/ },\r\n    {\r\n      s: 'Search Bot',\r\n      r: /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\\/Teoma|ia_archiver)/,\r\n    },\r\n  ];\r\n  for (var id in clientStrings) {\r\n    var cs = clientStrings[id];\r\n    if (cs.r.test(nAgt)) {\r\n      os = cs.s;\r\n      break;\r\n    }\r\n  }\r\n\r\n  var osVersion = unknown;\r\n\r\n  if (/Windows/.test(os)) {\r\n    osVersion = /Windows (.*)/.exec(os)[1];\r\n    os = 'Windows';\r\n  }\r\n\r\n  switch (os) {\r\n    case 'Mac OS X':\r\n      osVersion = /Mac OS X (10[\\.\\_\\d]+)/.exec(nAgt)[1];\r\n      break;\r\n\r\n    case 'Android':\r\n      osVersion = /Android ([\\.\\_\\d]+)/.exec(nAgt)[1];\r\n      break;\r\n\r\n    case 'iOS':\r\n      osVersion = /OS (\\d+)_(\\d+)_?(\\d+)?/.exec(nVer);\r\n      osVersion = osVersion[1] + '.' + osVersion[2] + '.' + (osVersion[3] | 0);\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n\r\n  // user agent string manipulation to obtain device model\r\n  var system = nAgt.substring(nAgt.indexOf('(') + 1, nAgt.indexOf(')'));\r\n  var device = system.substring(system.lastIndexOf(';') + 1);\r\n\r\n  // use JavaScript to detect GPU used from within your browser - by cvan\r\n  // https://gist.github.com/cvan/042b2448fcecefafbb6a91469484cdf8\r\n  var canvas = document.createElement('canvas');\r\n  var gl;\r\n  var debugInfo;\r\n  var gpuVendor;\r\n  var renderer;\r\n\r\n  try {\r\n    gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\r\n    // move block here if webgl not available\r\n    // if (gl) {\r\n    debugInfo = gl.getExtension('WEBGL_debug_renderer_info');\r\n    gpuVendor = gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL);\r\n    renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);\r\n    // }\r\n  } catch (e) {\r\n    //   do nothing\r\n  }\r\n  // ----------------------------------------------------------------\r\n\r\n  //   window.jscd = {\r\n  return {\r\n    browser: browser,\r\n    browserVersion: majorVersion,\r\n    browserRelease: version,\r\n    // vendor: navigator.vendor,\r\n    device: device,\r\n    os: os,\r\n    osVersion: osVersion,\r\n    mobile: mobile,\r\n    platform: navigator.platform,\r\n    screen: screenSize,\r\n    dpr: +window.devicePixelRatio.toFixed(3),\r\n    gpu: renderer,\r\n    gpuVendor: gpuVendor,\r\n    userAgent: navigator.userAgent,\r\n    // cookies: cookieEnabled,\r\n    // flashVersion: flashVersion\r\n  };\r\n}\r\n// (this)\r\n\r\n// alert(\r\n//     'OS: ' + jscd.os +' '+ jscd.osVersion + '\\n' +\r\n//     'Browser: ' + jscd.browser +' '+ jscd.browserMajorVersion +\r\n//       ' (' + jscd.browserVersion + ')\\n' +\r\n//     'Mobile: ' + jscd.mobile + '\\n' +\r\n//     'Flash: ' + jscd.flashVersion + '\\n' +\r\n//     'Cookies: ' + jscd.cookies + '\\n' +\r\n//     'Screen Size: ' + jscd.screen + '\\n\\n' +\r\n//     'Full User Agent: ' + navigator.userAgent\r\n// );\r\n","import { XYType } from '../common/types';\n\nconst TOLERANCE = 0.001;\nconst FLOATING_POINT_TOLERANCE = 0.01;\nexport const MAX_DEPTH = 4;\n\nexport function magnitude(p: XYType): number {\n  return Math.sqrt(p[0] * p[0] + p[1] * p[1]);\n}\n\nexport const distance = (a: XYType, b: XYType) => {\n  return Math.sqrt(Math.pow(a[0] - b[0], 2) + Math.pow(a[1] - b[1], 2));\n};\n\nconst add = function (a: XYType, b: XYType): XYType {\n  return [a[0] + b[0], a[1] + b[1]];\n};\n\nconst sub = function (a: XYType, b: XYType): XYType {\n  return [a[0] - b[0], a[1] - b[1]];\n};\n\nexport const mult = function (a: XYType, b: XYType): XYType {\n  return [a[0] * b[0] - a[1] * b[1], a[0] * b[1] + a[1] * b[0]];\n};\n\nconst divide = function (x: XYType, y: XYType): XYType {\n  const d = Math.pow(y[0], 2) + Math.pow(y[1], 2);\n  return [(x[0] * y[0] + x[1] * y[1]) / d, (x[1] * y[0] - x[0] * y[1]) / d];\n};\n\nconst square = (c: XYType): XYType => {\n  return [Math.pow(c[0], 2) - Math.pow(c[1], 2), 2.0 * c[0] * c[1]];\n};\n\nconst sqrt = (c: XYType): XYType => {\n  const theta = Math.atan2(c[1], c[0]);\n  const r2 = Math.sqrt(magnitude(c));\n  return [r2 * Math.cos(theta / 2), r2 * Math.sin(theta / 2)];\n};\n\nexport function complexNumbersEqual(a: XYType, b: XYType): boolean {\n  return a[0] === b[0] && a[1] === b[1];\n}\n\nexport const preImagePositive = function (z: XYType, c: XYType): XYType {\n  return sqrt(sub(z, c));\n};\n\nexport const preImageNegative = function (z: XYType, c: XYType): XYType {\n  return mult([-1, 0], sqrt(sub(z, c)));\n};\n\nexport const orbit = function (z: XYType, c: XYType, t: number): XYType {\n  for (let i = 0; i < t; i++) {\n    z = add(square(z), c);\n  }\n  return z;\n};\n\nexport const orbitList = function (\n  z: XYType,\n  c: XYType,\n  maxIterations: number,\n): [XYType[], number, number] {\n  const points = [];\n  for (let i = 0; i < maxIterations; i++) {\n    const similar = points.findIndex((elem) => distance(elem, z) < TOLERANCE);\n    if (similar !== -1) {\n      // we've hit a cycle\n      return [points, similar, i - similar];\n    }\n    points.push(z);\n    z = add(square(z), c);\n  }\n  return [points, -1, -1];\n};\n\n/**\n * Take the derivative of f sub c with respect to z\n *\n * This value depends not on z per se., but the orbit of z.\n *\n * @param z - The point we're taking the derivative w.r.t\n * @param c - The fixed constant +c of iteration\n * @param t - How many iterations to go for\n * @returns The derivative of W at c\n */\nexport const orbitEigenvalue = function (z: XYType, c: XYType, t: number): XYType {\n  let der: XYType = [1, 0];\n  for (let i = 0; i < t; i++) {\n    der = mult([2, 0], mult(der, z));\n    z = add(square(z), c);\n  }\n\n  return der;\n};\n\n/**\n * Find the preperiod of a given point under iteration. This assumes it is preperiodic\n *\n * @param c - The point\n * @returns If it's preperiodic: the preperiod, if it's periodic: nonsense, otherwise: -1.\n */\nexport const prePeriod = (z: XYType, c: XYType): number => {\n  const olds: XYType[] = [];\n  for (let i = 0; i < 50; i++) {\n    olds.push(z);\n    const newZ: XYType = add(square(z), c);\n    const similar = olds.findIndex((elem) => distance(elem, newZ) < TOLERANCE);\n    if (similar !== -1) return similar;\n\n    z = newZ;\n  }\n  return -1;\n};\n\n/**\n * Find the period of a given point.\n *\n * @param z - The point\n * @param c - The constant of iteration\n * @returns The period, otherwise: -1.\n */\nexport const period = (z: XYType, c: XYType): number => {\n  const olds: XYType[] = [];\n  for (let i = 0; i < 50; i++) {\n    olds.push(z);\n    const newZ: XYType = add(square(z), c);\n    const similar = olds.findIndex((elem) => distance(elem, newZ) < TOLERANCE);\n    if (similar !== -1) {\n      // we've hit a cycle\n      return i - similar + 1;\n    }\n    z = newZ;\n  }\n  return -1;\n};\n\n/**\n * Subtract the first iterate in a cycle from the last.\n *\n * @param c - The point we care about. Must be periodic or preperiodic\n * @param z - The preperiod of c\n * @param l - The period of c\n * @returns The derivative of W at c\n */\nconst W = function (c: XYType, l: number, p: number) {\n  const endOfCycle = orbit(c, c, l + p);\n  const startOfCycle = orbit(c, c, l);\n\n  return sub(endOfCycle, startOfCycle);\n};\n\n/**\n * Finds the numerical derivative of a function.\n *\n * @param c - The point we are taking the derivative of\n * @returns The derivative of f at c\n */\nconst numericalDerivative = function (c: XYType, f: (c: XYType) => XYType): XYType {\n  const h = 1e-9;\n  const withoutH = f(c);\n  const withH = f(add(c, [h, 0]));\n\n  return [sub(withH, withoutH)[0] / h, sub(withH, withoutH)[1] / h];\n};\n\nexport const cycleEigenvalue = (c: XYType, l: number, p: number) => {\n  const firstIterateInCycle: XYType = orbit(c, c, l);\n  return orbitEigenvalue(firstIterateInCycle, c, p);\n};\n\n/**\n *\n * @param c - The point at the centre of the branch\n * @param l - The preperiod of c\n * @param p - The period of z\n * @returns The size of the branch\n */\nexport const magnificationRotationMandelbrot = function (\n  c: XYType,\n  l: number,\n  p: number,\n): XYType {\n  const firstIterateInCycle: XYType = orbit(c, c, l);\n  const cycleEigenvalue: XYType = orbitEigenvalue(firstIterateInCycle, c, p);\n\n  return divide(\n    numericalDerivative(c, (x: XYType) => W(x, l, p)),\n    sub(cycleEigenvalue, [1, 0]),\n  );\n};\n\n/**\n * the point where zero enters a cycle\n *\n * @param c - The point\n * @returns If it's preperiodic: the preperiod, if it's periodic: nonsense, otherwise: -1.\n */\nexport const getAlpha = (z: XYType, c: XYType): XYType => {\n  const olds: XYType[] = [];\n  for (let i = 0; i < 50; i++) {\n    olds.push(z);\n    const newZ: XYType = add(square(z), c);\n    const similar = olds.findIndex((elem) => distance(elem, newZ) < TOLERANCE);\n    if (similar !== -1) return newZ;\n\n    z = newZ;\n  }\n  return [-7, -7];\n};\n\nexport const reachAlpha = function (c: XYType, z: XYType): number {\n  const alpha = getAlpha([0, 0], c);\n  for (let i = 0; i < 50; i++) {\n    if (distance(alpha, z) < TOLERANCE) return i;\n    z = add(square(z), c);\n  }\n  return -1;\n};\n\nexport const magnificationRotationJulia = function (\n  c: XYType,\n  z: XYType,\n  q: number,\n): XYType {\n  return orbitEigenvalue(z, c, reachAlpha(c, z));\n};\n\nexport function round(value: number, precision: number): number {\n  const multiplier = Math.pow(10, precision || 0);\n  return Math.round(value * multiplier) / multiplier;\n}\n\nexport function formatComplexNumber(c: XYType): string {\n  return `${round(c[0], 3)}${c[1] >= 0 ? '+' : ''}${round(c[1], 3)}i`;\n}\n\nexport function formatAngle(angle: number): string {\n  return `${round((180 / Math.PI) * angle, 0)}`;\n}\n\nfunction findPotentialPreperiod(c: XYType): number {\n  let z: XYType = c;\n  let minNumber = 4;\n  let minp = -1;\n  for (let i = 0; i < 50; i++) {\n    const newZ: XYType = add(square(z), c);\n    const x = sub(newZ, z);\n    if (magnitude(x) < minNumber) {\n      minNumber = magnitude(x);\n      minp = i;\n    }\n    z = newZ;\n  }\n  return minp;\n}\n\nconst Wfried = function (c: XYType, l: number, p: number) {\n  const endOfCycle = orbitEigenvalue(c, c, l + p);\n  const startOfCycle = orbitEigenvalue(c, c, l);\n\n  return sub(endOfCycle, startOfCycle);\n};\n\nexport const findNearestMisiurewiczPoint = function (c: XYType): XYType {\n  const q = findPotentialPreperiod(c);\n  const p = 1;\n  const learningRate: XYType = [0.01, 0];\n  for (let i = 0; i < 1000; i++) {\n    const F = W(c, q, p);\n    const Fdash = Wfried(c, q, p);\n    c = sub(c, mult(learningRate, divide(F, Fdash)));\n  }\n  return c;\n};\n\nconst depthFirstSearch = (z: XYType, c: XYType, zs: XYType[], depth: number) => {\n  zs.push(z);\n  if (distance(z, c) > FLOATING_POINT_TOLERANCE && depth > 0) {\n    depthFirstSearch(preImagePositive(z, c), c, zs, depth - 1);\n    depthFirstSearch(preImageNegative(z, c), c, zs, depth - 1);\n  }\n  return zs;\n};\n\nexport const similarPoints = (c: PreperiodicPoint): PreperiodicPoint[] => {\n  const zs: XYType[] = [];\n\n  for (let i = c.prePeriod; i < c.prePeriod + c.period; i++) {\n    const z = orbit(c.point, c.point, i);\n    zs.push(z);\n    depthFirstSearch(mult([-1, 0], z), c.point, zs, MAX_DEPTH);\n  }\n  return zs.map((p) => new PreperiodicPoint(c.point, p));\n};\n\nconst subscripts = ['', '', '', '', '', '', '', '', '', ''];\nexport class PreperiodicPoint {\n  point: XYType;\n  c: XYType;\n  u: XYType;\n  a: XYType;\n  prePeriod: number;\n  period: number;\n  uMagnitude: number;\n  uAngle: number;\n  aMagnitude: number;\n  aAngle: number;\n\n  constructor(c: XYType, z: XYType) {\n    this.point = z;\n    this.c = c;\n\n    this.prePeriod = prePeriod(this.point, c);\n    this.period = period(this.point, c);\n\n    this.u = magnificationRotationMandelbrot(c, this.prePeriod, this.period);\n    this.uMagnitude = magnitude(this.u);\n    this.uAngle = Math.atan2(this.u[1], this.u[0]);\n\n    this.a = magnificationRotationJulia(c, this.point, this.prePeriod);\n    this.aMagnitude = magnitude(this.a);\n    this.aAngle = Math.atan2(this.a[1], this.a[0]);\n  }\n\n  toString(): string {\n    let pre = `M${this.prePeriod},${this.period}`;\n    for (let i = 0; i < 10; i++) {\n      pre = pre.replaceAll(i.toString(), subscripts[i]);\n    }\n    return pre;\n  }\n}\n","import React from 'react';\nimport { Tooltip } from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport { OrbitMarkerProps } from '../../common/info';\nimport { formatComplexNumber } from '../tansTheoremUtils';\nimport { animated } from 'react-spring';\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\nimport { XYType } from '../../common/types';\nconst BUTTON_SIZE = 30;\nconst THREE_BUTTON_SIZE_OVER_4 = (3 * BUTTON_SIZE) / 4;\n\n//https://stackoverflow.com/questions/10756313/javascript-jquery-map-a-range-of-numbers-to-another-range-of-numbers\nconst scale = (\n  num: number,\n  in_min: number,\n  in_max: number,\n  out_min: number,\n  out_max: number,\n): number => {\n  return ((num - in_min) * (out_max - out_min)) / (in_max - in_min) + out_min;\n};\n\nexport const colorByPreperiod = (prePeriod: number, highestPreperiod: number): string => {\n  const redness = Math.round(scale(prePeriod, 0, highestPreperiod, 25, 255)).toString(16);\n  return `#E6${redness}00`;\n};\n\nexport const pointWithinBoundingBox = (\n  p: XYType,\n  boxCentre: XYType,\n  boxWidth: number,\n  boxHeight: number,\n  angleRelativeToBox: number,\n): boolean => {\n  const distanceX = p[0] - boxCentre[0];\n  const distanceY = p[1] - boxCentre[1];\n\n  const horizontalDistance: number = Math.abs(\n    distanceX * Math.cos(angleRelativeToBox) - distanceY * Math.sin(angleRelativeToBox),\n  );\n  const verticalDistance: number = Math.abs(\n    distanceX * Math.sin(angleRelativeToBox) + distanceY * Math.cos(angleRelativeToBox),\n  );\n\n  return horizontalDistance < boxWidth && verticalDistance < boxHeight;\n};\n\nexport const complexToScreenCoordinate = (\n  x: number,\n  y: number,\n  angle: number,\n  zoom: number,\n  boxWidth: number,\n  boxHeight: number,\n  c: XYType,\n): XYType => {\n  const distanceX = c[0] - x;\n  const distanceY = c[1] - y;\n  return [\n    (boxHeight / 2) *\n      ((distanceX * Math.cos(angle) - distanceY * Math.sin(angle)) * zoom + boxWidth),\n    (boxHeight / 2) *\n      ((distanceX * Math.sin(angle) + distanceY * Math.cos(angle)) * zoom + 1),\n  ];\n};\n\nconst OrbitMarker = (props: OrbitMarkerProps): JSX.Element => {\n  const [{ z }] = props.mandelbrotControl.zoomCtrl;\n  const [{ theta }] = props.mandelbrotControl.rotCtrl;\n\n  const ASPECT_RATIO = props.mapWidth / props.mapHeight;\n\n  return (\n    <animated.div\n      style={{\n        zIndex: 100,\n        position: 'absolute',\n        left: props.mandelbrotControl.xyCtrl[0].xy.interpolate(\n          // @ts-expect-error: Function call broken in TS, waiting till react-spring v9 to fix\n          (x, y) => {\n            return (\n              complexToScreenCoordinate(\n                x,\n                y,\n                -theta.getValue(),\n                z.getValue(),\n                ASPECT_RATIO,\n                props.mapHeight,\n                props.iterate,\n              )[0] - THREE_BUTTON_SIZE_OVER_4\n            );\n          },\n        ),\n        bottom: props.mandelbrotControl.xyCtrl[0].xy.interpolate(\n          // @ts-expect-error: Function call broken in TS, waiting till react-spring v9 to fix\n          (x, y) => {\n            return (\n              complexToScreenCoordinate(\n                x,\n                y,\n                -theta.getValue(),\n                z.getValue(),\n                ASPECT_RATIO,\n                props.mapHeight,\n                props.iterate,\n              )[1] - THREE_BUTTON_SIZE_OVER_4\n            );\n          },\n        ),\n      }}\n    >\n      <Tooltip title={`${formatComplexNumber(props.iterate)}`} placement=\"top\">\n        <IconButton style={{ color: props.color }}>\n          <FiberManualRecordIcon style={{ width: BUTTON_SIZE, height: BUTTON_SIZE }} />\n        </IconButton>\n      </Tooltip>\n    </animated.div>\n  );\n};\n\nexport default OrbitMarker;\n","import React from 'react';\nimport { Tooltip } from '@material-ui/core';\nimport RoomIcon from '@material-ui/icons/Room';\nimport IconButton from '@material-ui/core/IconButton';\nimport { MisiurewiczPointMarkerProps } from '../../common/info';\nimport { distance, PreperiodicPoint } from '../tansTheoremUtils';\nimport { animated } from 'react-spring';\nimport { AnimationStatus } from './MisiurewiczModeFragment';\nimport {\n  pointWithinBoundingBox as withinBoundingBox,\n  complexToScreenCoordinate,\n} from './OrbitMarker';\nimport { XYType } from '../../common/types';\nconst BUTTON_SIZE = 40;\nconst BUTTON_OFFSET_Y = BUTTON_SIZE / 4;\nconst BUTTON_OFFSET_X = (3 * BUTTON_SIZE) / 4;\n\nexport const handleJuliaSelection = (\n  focusedPointJulia: PreperiodicPoint,\n  setFocusedPointJulia: React.Dispatch<React.SetStateAction<PreperiodicPoint>>,\n): void => {\n  setFocusedPointJulia(focusedPointJulia);\n};\n\nexport const handleMandelbrotSelection = (\n  focusedPointMandelbrot: PreperiodicPoint,\n  setFocusedPointMandelbrot: React.Dispatch<React.SetStateAction<PreperiodicPoint>>,\n  focusedPointJulia: PreperiodicPoint,\n  setFocusedPointJulia: React.Dispatch<React.SetStateAction<PreperiodicPoint>>,\n): void => {\n  setFocusedPointMandelbrot(focusedPointMandelbrot);\n  setFocusedPointJulia(\n    new PreperiodicPoint(focusedPointMandelbrot.point, focusedPointJulia.point),\n  );\n};\n\nexport const animationNotTakingPlace = (animationState: AnimationStatus): boolean => {\n  return (\n    animationState === AnimationStatus.NO_ANIMATION ||\n    animationState === AnimationStatus.SELECT_JULIA_POINT ||\n    animationState === AnimationStatus.SHOW_ORBIT\n  );\n};\n\nconst MisiurewiczPointMarker = (props: MisiurewiczPointMarkerProps): JSX.Element => {\n  const [{ z }] = props.mandelbrotControl.zoomCtrl;\n  const [{ theta }] = props.mandelbrotControl.rotCtrl;\n\n  const ASPECT_RATIO = props.mapWidth / props.mapHeight;\n\n  return (\n    <animated.div\n      style={{\n        zIndex: 100,\n        position: 'absolute',\n        visibility: props.mandelbrotControl.xyCtrl[0].xy.interpolate(\n          // @ts-expect-error: Function call broken in TS, waiting till react-spring v9 to fix\n          (x, y) => {\n            const centre: XYType = [x, y];\n            if (\n              z.getValue() >= props.show_threshold &&\n              withinBoundingBox(\n                props.m.point,\n                centre,\n                ASPECT_RATIO / z.getValue(),\n                1 / z.getValue(),\n                -theta.getValue(),\n              )\n            ) {\n              return 'visible';\n            } else {\n              return 'hidden';\n            }\n          },\n        ),\n        left: props.mandelbrotControl.xyCtrl[0].xy.interpolate(\n          // @ts-expect-error: Function call broken in TS, waiting till react-spring v9 to fix\n          (x, y) => {\n            return (\n              complexToScreenCoordinate(\n                x,\n                y,\n                -theta.getValue(),\n                z.getValue(),\n                ASPECT_RATIO,\n                props.mapHeight,\n                props.m.point,\n              )[0] +\n              props.offsetX -\n              BUTTON_OFFSET_X\n            );\n          },\n        ),\n        bottom: props.mandelbrotControl.xyCtrl[0].xy.interpolate(\n          // @ts-expect-error: Function call broken in TS, waiting till react-spring v9 to fix\n          (x, y) => {\n            return (\n              complexToScreenCoordinate(\n                x,\n                y,\n                -theta.getValue(),\n                z.getValue(),\n                ASPECT_RATIO,\n                props.mapHeight,\n                props.m.point,\n              )[1] +\n              props.offsetY -\n              BUTTON_OFFSET_Y\n            );\n          },\n        ),\n      }}\n    >\n      <Tooltip title={`${props.m.toString()}`} placement=\"top\">\n        <IconButton\n          style={{\n            color:\n              distance(props.m.point, props.focusedPointMandelbrot.point) < 0.01\n                ? '#FF5588'\n                : '#00FFFF',\n          }}\n          onClick={() => {\n            handleMandelbrotSelection(\n              props.m,\n              props.setFocusedPointMandelbrot,\n              props.m,\n              props.setFocusedPointJulia,\n            );\n          }}\n        >\n          <RoomIcon style={{ width: BUTTON_SIZE, height: BUTTON_SIZE }} />\n        </IconButton>\n      </Tooltip>\n    </animated.div>\n  );\n};\n\nexport default MisiurewiczPointMarker;\n","import { Card, Typography, IconButton, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CompareIcon from '@material-ui/icons/Compare';\nimport CachedIcon from '@material-ui/icons/Cached';\nimport React from 'react';\nimport { formatComplexNumber } from '../tansTheoremUtils';\nimport { warpToPoint } from '../../common/utils';\nimport { MisiurewiczInfoCardProps } from '../../common/info';\nimport { AnimationStatus } from './MisiurewiczModeFragment';\n\nconst useStyles = makeStyles(() => ({\n  iconButtonLabel: {\n    width: 120,\n    display: 'flex',\n    flexDirection: 'column',\n    marginBottom: 10,\n  },\n}));\n\nconst MisiurewiczPointInfoCard = (props: MisiurewiczInfoCardProps): JSX.Element => {\n  const classes = useStyles();\n\n  return (\n    <Card\n      style={{\n        width: 'auto',\n        zIndex: 1300,\n        position: 'relative',\n        padding: 8,\n        display: 'flex',\n        flexDirection: 'column',\n      }}\n    >\n      <Typography component=\"span\" variant=\"h6\">\n        {formatComplexNumber(props.focusedPoint.point)}\n      </Typography>\n      <Divider style={{ marginTop: 8, marginBottom: 8 }}></Divider>\n      <IconButton\n        size=\"small\"\n        style={{ marginBottom: 8 }}\n        classes={{ label: classes.iconButtonLabel }}\n        onClick={() => props.setAnimationState(AnimationStatus.SHOW_ORBIT)}\n      >\n        <CachedIcon />\n        Show orbit\n      </IconButton>\n      <IconButton\n        size=\"small\"\n        classes={{ label: classes.iconButtonLabel }}\n        onClick={() => {\n          warpToPoint(props.mandelbrot, {\n            xy: props.focusedPoint.point,\n            z: props.focusedPoint.uMagnitude,\n            theta: 0,\n          });\n          warpToPoint(props.julia, {\n            xy: [0, 0],\n            z: 0.5,\n            theta: 0,\n          });\n          props.setAnimationState(AnimationStatus.SELECT_JULIA_POINT);\n        }}\n      >\n        <CompareIcon />\n        Compare Mandelbrot and Julia set\n      </IconButton>\n    </Card>\n  );\n};\n\nexport default MisiurewiczPointInfoCard;\n","import { Select } from '@material-ui/core';\nimport React from 'react';\nimport { InfoCardProps } from '../../common/info';\nimport { XYType } from '../../common/types';\nimport { warpToPoint } from '../../common/utils';\nimport { formatComplexNumber, PreperiodicPoint } from '../tansTheoremUtils';\nimport { MISIUREWICZ_POINTS, parsePoint } from './MisiurewiczModeFragment';\nimport { handleMandelbrotSelection } from './MisiurewiczPointMarker';\n\nconst MisiurewiczPointsList = (props: InfoCardProps): JSX.Element => {\n  const handleMandelbrotPointSelection = (\n    event: React.ChangeEvent<{ value: unknown }>,\n  ) => {\n    const chosenPoint: XYType = parsePoint(event.target.value as string);\n\n    const chosenMisiurewicz = new PreperiodicPoint(chosenPoint, chosenPoint);\n\n    handleMandelbrotSelection(\n      chosenMisiurewicz,\n      props.setFocusedPoint,\n      chosenMisiurewicz,\n      props.setFocusedPointJulia,\n    );\n    warpToPoint(props.mandelbrot, {\n      xy: chosenMisiurewicz.point,\n      z: chosenMisiurewicz.uMagnitude,\n      theta: 0,\n    });\n  };\n\n  return (\n    <Select\n      native\n      value={props.focusedPoint.point}\n      onChange={handleMandelbrotPointSelection}\n      inputProps={{\n        name: 'mandelbrot',\n        id: 'select-multiple-native',\n      }}\n    >\n      {MISIUREWICZ_POINTS.map((m) => (\n        <option key={m.point.toString()} value={m.point.toString()}>\n          {m.toString()} = {formatComplexNumber(m.point)}\n        </option>\n      ))}\n    </Select>\n  );\n};\n\nexport default MisiurewiczPointsList;\n","import { Card, Grow, InputLabel } from '@material-ui/core';\nimport React from 'react';\nimport { InfoCardProps } from '../../common/info';\nimport MisiurewiczPointsList from './MisiurewiczPointsList';\n\nconst Searchbar = (props: InfoCardProps): JSX.Element => {\n  return (\n    <Grow in={props.show}>\n      <Card\n        style={{\n          padding: 8,\n          backgroundColor: 'DeepSkyBlue',\n        }}\n      >\n        <InputLabel\n          htmlFor=\"select-native\"\n          style={{\n            color: 'white',\n          }}\n        >\n          Misiurewicz points\n        </InputLabel>\n\n        <MisiurewiczPointsList\n          show={props.show}\n          shadeDomains={props.shadeDomains}\n          mandelbrot={props.mandelbrot}\n          julia={props.julia}\n          animationState={props.animationState}\n          setAnimationState={props.setAnimationState}\n          focusedPoint={props.focusedPoint}\n          setFocusedPoint={props.setFocusedPoint}\n          focusedPointJulia={props.focusedPointJulia}\n          setFocusedPointJulia={props.setFocusedPointJulia}\n        ></MisiurewiczPointsList>\n      </Card>\n    </Grow>\n  );\n};\n\nexport default Searchbar;\n","import { Card, Grow } from '@material-ui/core';\nimport React from 'react';\nimport { InfoCardProps } from '../../common/info';\nimport MisiurewiczPointInfoCard from './MisiurewiczPointInfoCard';\nimport Searchbar from './Searchbar';\n\nconst PointsInfoCard = (props: InfoCardProps): JSX.Element => {\n  return (\n    <Grow in={props.show}>\n      <Card\n        style={{\n          width: 'auto',\n          zIndex: 1300,\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          display: 'flex',\n          flexDirection: 'column',\n          flexShrink: 1,\n        }}\n      >\n        <Searchbar\n          show={props.show}\n          shadeDomains={props.shadeDomains}\n          mandelbrot={props.mandelbrot}\n          julia={props.julia}\n          animationState={props.animationState}\n          setAnimationState={props.setAnimationState}\n          focusedPoint={props.focusedPoint}\n          setFocusedPoint={props.setFocusedPoint}\n          focusedPointJulia={props.focusedPointJulia}\n          setFocusedPointJulia={props.setFocusedPointJulia}\n        ></Searchbar>\n        <MisiurewiczPointInfoCard\n          show={props.show}\n          mandelbrot={props.mandelbrot}\n          julia={props.julia}\n          animationState={props.animationState}\n          setAnimationState={props.setAnimationState}\n          focusedPoint={props.focusedPoint}\n          setFocusedPoint={props.setFocusedPoint}\n          focusedPointJulia={props.focusedPointJulia}\n          setFocusedPointJulia={props.setFocusedPointJulia}\n        ></MisiurewiczPointInfoCard>\n      </Card>\n    </Grow>\n  );\n};\n\nexport default PointsInfoCard;\n","import { Card, Stepper, StepLabel, Step, Button, IconButton } from '@material-ui/core';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport React from 'react';\nimport {\n  formatAngle,\n  formatComplexNumber,\n  PreperiodicPoint,\n  round,\n} from '../tansTheoremUtils';\nimport { warpToPoint } from '../../common/utils';\nimport { MisiurewiczInfoCardProps } from '../../common/info';\nimport { AnimationStatus } from './MisiurewiczModeFragment';\nimport { ThetaType, ZoomType } from '../../common/types';\nimport ArrowBackwardIcon from '@material-ui/icons/ArrowBack';\n\nfunction getSteps(c: PreperiodicPoint, cj: PreperiodicPoint) {\n  return [\n    ['Translate Mandelbrot', `to ${formatComplexNumber(c.point)}`],\n    ['Translate Julia', `to ${formatComplexNumber(cj.point)}`],\n    ['Zoom Mandelbrot', `by ${round(c.uMagnitude, 1)}x`],\n    ['Zoom Julia', `by ${round(cj.aMagnitude, 1)}x`],\n    ['Rotate Mandelbrot', `by ${formatAngle(c.uAngle)}`],\n    ['Rotate Julia', `by ${formatAngle(cj.aAngle)}`],\n  ];\n}\n\nconst INITIAL_ZOOM = 1;\n\nconst SimilarityAnimationCard = (props: MisiurewiczInfoCardProps): JSX.Element => {\n  const steps = getSteps(props.focusedPoint, props.focusedPointJulia);\n\n  const translateMandelbrot = () => {\n    props.setAnimationState(AnimationStatus.TRANSLATE_J);\n    warpToPoint(props.mandelbrot, {\n      xy: props.focusedPoint.point,\n      z: INITIAL_ZOOM,\n      theta: 0,\n    });\n  };\n\n  const translateJulia = () => {\n    props.setAnimationState(AnimationStatus.ZOOM_M);\n    warpToPoint(props.julia, {\n      xy: props.focusedPointJulia.point,\n      z: INITIAL_ZOOM,\n      theta: 0,\n    });\n  };\n\n  const zoomMandelbrot = () => {\n    props.setAnimationState(AnimationStatus.ZOOM_J);\n    const zoomM: ZoomType = props.focusedPoint.uMagnitude * INITIAL_ZOOM;\n\n    warpToPoint(props.mandelbrot, { xy: props.focusedPoint.point, z: zoomM, theta: 0 });\n  };\n\n  const zoomJulia = () => {\n    props.setAnimationState(AnimationStatus.ROTATE_M);\n\n    const zoomJ: ZoomType = props.focusedPointJulia.aMagnitude * INITIAL_ZOOM;\n\n    warpToPoint(props.julia, { xy: props.focusedPointJulia.point, z: zoomJ, theta: 0 });\n  };\n\n  const rotateMandelbrot = () => {\n    props.setAnimationState(AnimationStatus.ROTATE_J);\n\n    const zoomM: ZoomType = props.focusedPoint.uMagnitude * INITIAL_ZOOM;\n    const thetaM: ThetaType = -props.focusedPoint.uAngle;\n\n    warpToPoint(props.mandelbrot, {\n      xy: props.focusedPoint.point,\n      z: zoomM,\n      theta: thetaM,\n    });\n  };\n\n  const rotateJulia = () => {\n    props.setAnimationState(AnimationStatus.PLAY);\n\n    const zoomJ: ZoomType = props.focusedPointJulia.aMagnitude * INITIAL_ZOOM;\n    const thetaJ: ThetaType = -props.focusedPointJulia.aAngle;\n\n    warpToPoint(props.julia, {\n      xy: props.focusedPointJulia.point,\n      z: zoomJ,\n      theta: thetaJ,\n    });\n  };\n\n  return (\n    <Card\n      style={{\n        zIndex: 1300,\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        display: 'flex',\n        flexDirection: 'column',\n        flexShrink: 1,\n      }}\n    >\n      <IconButton\n        onClick={() => {\n          props.setAnimationState(AnimationStatus.SELECT_JULIA_POINT);\n          warpToPoint(props.mandelbrot, {\n            xy: props.focusedPoint.point,\n            z: props.focusedPoint.uMagnitude,\n            theta: 0,\n          });\n          warpToPoint(props.julia, {\n            xy: [0, 0],\n            z: 0.5,\n            theta: 0,\n          });\n        }}\n      >\n        <ArrowBackwardIcon />\n      </IconButton>\n      <Stepper activeStep={props.animationState.valueOf()} orientation=\"vertical\">\n        {steps.map((label) => {\n          const stepProps: { completed?: boolean } = {};\n          const labelProps: { optional?: React.ReactNode } = {};\n          labelProps.optional = label[1];\n          return (\n            <Step key={label[0]} {...stepProps}>\n              <StepLabel {...labelProps}>{label[0]}</StepLabel>\n            </Step>\n          );\n        })}\n      </Stepper>\n      <Button\n        fullWidth\n        variant=\"contained\"\n        onClick={() => {\n          switch (props.animationState) {\n            case AnimationStatus.TRANSLATE_M:\n              translateMandelbrot();\n              break;\n            case AnimationStatus.TRANSLATE_J:\n              translateJulia();\n              break;\n            case AnimationStatus.ZOOM_M:\n              zoomMandelbrot();\n              break;\n            case AnimationStatus.ZOOM_J:\n              zoomJulia();\n              break;\n            case AnimationStatus.ROTATE_M:\n              rotateMandelbrot();\n              break;\n            case AnimationStatus.ROTATE_J:\n              rotateJulia();\n              break;\n            default:\n              break;\n          }\n        }}\n        startIcon={<ArrowForwardIcon />}\n      >\n        {`Next`}\n      </Button>\n    </Card>\n  );\n};\n\nexport default SimilarityAnimationCard;\n","import React, { Dispatch, SetStateAction } from 'react';\nimport { MisiurewiczModeDivProps } from '../../common/info';\nimport MisiurewiczPointMarker, {\n  animationNotTakingPlace,\n} from './MisiurewiczPointMarker';\nimport { useWindowSize } from '../../common/utils';\nimport { Button } from '@material-ui/core';\nimport {\n  findNearestMisiurewiczPoint,\n  similarPoints,\n  PreperiodicPoint,\n  distance,\n} from '../tansTheoremUtils';\nimport PointsInfoCard from './PointsInfoCard';\nimport SimilarityAnimationCard from './SimilarityAnimationCard';\nimport OrbitCard from './OrbitCard';\nimport SimilarityMenu from './SimilarityMenu';\nimport PlayCard from './PlayCard';\nimport PreperiodicPointMarker from './PreperiodicPointMarker';\nimport DomainInfoCard from './DomainInfoCard';\nimport { misiurewiczPairs } from '../MPoints';\nimport { XYType } from '../../common/types';\nimport OrbitManager from './OrbitManager';\n\nexport enum AnimationStatus {\n  SHOW_ORBIT = -3,\n  NO_ANIMATION = -2,\n  SELECT_JULIA_POINT = -1,\n  TRANSLATE_M = 0,\n  TRANSLATE_J = 1,\n  ZOOM_M = 2,\n  ZOOM_J = 3,\n  ROTATE_M = 4,\n  ROTATE_J = 5,\n  PLAY = 6,\n}\n\nexport const MISIUREWICZ_POINTS: PreperiodicPoint[] = misiurewiczPairs\n  .slice(0, 25)\n  .map((p) => new PreperiodicPoint(p, p));\n\nexport const parsePoint = (s: string): XYType => {\n  const commaSeperated = s.split(',');\n  return [parseFloat(commaSeperated[0]), parseFloat(commaSeperated[1])];\n};\n\nconst MisiurewiczModeFragment = (props: MisiurewiczModeDivProps): JSX.Element => {\n  const defaultMisiurewiczPoint = new PreperiodicPoint(\n    [-0.10109636384562218, +0.9562865108091414],\n    [-0.10109636384562218, +0.9562865108091414],\n  );\n  const [focusedPointMandelbrot, setFocusedPointMandelbrot]: [\n    PreperiodicPoint,\n    Dispatch<SetStateAction<PreperiodicPoint>>,\n  ] = React.useState(defaultMisiurewiczPoint);\n  const [focusedPointJulia, setFocusedPointJulia]: [\n    PreperiodicPoint,\n    Dispatch<SetStateAction<PreperiodicPoint>>,\n  ] = React.useState(defaultMisiurewiczPoint);\n\n  const selectDomainButton = () => {\n    return (\n      <Button\n        style={{\n          position: 'absolute',\n          bottom: 0,\n          left: (size.width || 1) / 4 - 100,\n          zIndex: 1000,\n        }}\n        variant=\"contained\"\n        onClick={() => {\n          const mPoint = findNearestMisiurewiczPoint(\n            props.mandelbrot.xyCtrl[0].xy.getValue(),\n          );\n          setFocusedPointMandelbrot(new PreperiodicPoint(mPoint, mPoint));\n        }}\n      >\n        Select nearest Misiurewicz point\n      </Button>\n    );\n  };\n\n  const similarPointsJulia = similarPoints(focusedPointMandelbrot);\n\n  const size = useWindowSize();\n\n  const mapWidth =\n    (size.width || 1) < (size.height || 0) ? size.width || 1 : (size.width || 1) / 2;\n\n  const mapHeight =\n    (size.width || 1) < (size.height || 0) ? (size.height || 0) / 2 : size.height || 0;\n\n  return (\n    <>\n      {props.show && props.animationState === AnimationStatus.SHOW_ORBIT ? (\n        <OrbitManager\n          mandelbrot={props.mandelbrot}\n          mapWidth={mapWidth}\n          mapHeight={mapHeight}\n          setAnimationState={props.setAnimationState}\n        ></OrbitManager>\n      ) : null}\n      {props.show &&\n      props.animationState === AnimationStatus.NO_ANIMATION &&\n      props.shadeDomains\n        ? selectDomainButton()\n        : null}\n      {props.show &&\n      !props.shadeDomains &&\n      (props.animationState === AnimationStatus.NO_ANIMATION ||\n        props.animationState === AnimationStatus.SELECT_JULIA_POINT)\n        ? MISIUREWICZ_POINTS.map((m) => {\n            let show_threshold: number;\n            if (distance(m.point, focusedPointMandelbrot.point) < 0.01) {\n              show_threshold = 0;\n            } else {\n              show_threshold = m.uMagnitude * 0.5;\n            }\n            return (\n              <MisiurewiczPointMarker\n                key={m.point.toString()}\n                m={m}\n                mapWidth={mapWidth}\n                mapHeight={mapHeight}\n                show={props.show}\n                mandelbrotControl={props.mandelbrot}\n                animationState={props.animationState}\n                focusedPointMandelbrot={focusedPointMandelbrot}\n                setFocusedPointMandelbrot={setFocusedPointMandelbrot}\n                setFocusedPointJulia={setFocusedPointJulia}\n                offsetX={0}\n                offsetY={0}\n                show_threshold={show_threshold}\n              />\n            );\n          })\n        : null}\n      {props.show &&\n      props.shadeDomains &&\n      animationNotTakingPlace(props.animationState) ? (\n        <MisiurewiczPointMarker\n          m={focusedPointMandelbrot}\n          mapWidth={mapWidth}\n          mapHeight={mapHeight}\n          show={props.show}\n          mandelbrotControl={props.mandelbrot}\n          animationState={props.animationState}\n          focusedPointMandelbrot={focusedPointMandelbrot}\n          setFocusedPointMandelbrot={setFocusedPointMandelbrot}\n          setFocusedPointJulia={setFocusedPointJulia}\n          offsetX={0}\n          offsetY={0}\n          show_threshold={0}\n        />\n      ) : null}\n\n      {props.animationState === AnimationStatus.SELECT_JULIA_POINT\n        ? similarPointsJulia.map((m) => {\n            let show_threshold: number;\n            if (distance(m.point, focusedPointJulia.point) < 0.01) {\n              show_threshold = 0;\n            } else {\n              show_threshold = m.prePeriod / 5;\n            }\n            return (\n              <PreperiodicPointMarker\n                key={m.point.toString()}\n                preperiodicPoint={m}\n                offset={[\n                  (size.width || 1) < (size.height || 0) ? 0 : (size.width || 1) / 2,\n                  (size.width || 1) < (size.height || 0) ? (size.height || 0) / 2 : 0,\n                ]}\n                mapWidth={mapWidth}\n                mapHeight={mapHeight}\n                show={props.show}\n                viewerControl={props.julia}\n                focusedPointJulia={focusedPointJulia}\n                setFocusedPointJulia={setFocusedPointJulia}\n                show_threshold={show_threshold}\n              />\n            );\n          })\n        : null}\n\n      {props.animationState === AnimationStatus.NO_ANIMATION && !props.shadeDomains ? (\n        <PointsInfoCard\n          show={props.show}\n          shadeDomains={props.shadeDomains}\n          mandelbrot={props.mandelbrot}\n          julia={props.julia}\n          animationState={props.animationState}\n          setAnimationState={props.setAnimationState}\n          focusedPoint={focusedPointMandelbrot}\n          setFocusedPoint={setFocusedPointMandelbrot}\n          focusedPointJulia={focusedPointJulia}\n          setFocusedPointJulia={setFocusedPointJulia}\n        ></PointsInfoCard>\n      ) : null}\n      {props.animationState === AnimationStatus.NO_ANIMATION && props.shadeDomains ? (\n        <DomainInfoCard\n          show={props.show}\n          shadeDomains={props.shadeDomains}\n          mandelbrot={props.mandelbrot}\n          julia={props.julia}\n          animationState={props.animationState}\n          setAnimationState={props.setAnimationState}\n          focusedPoint={focusedPointMandelbrot}\n          setFocusedPoint={setFocusedPointMandelbrot}\n          focusedPointJulia={focusedPointJulia}\n          setFocusedPointJulia={setFocusedPointJulia}\n        ></DomainInfoCard>\n      ) : null}\n      {props.animationState === AnimationStatus.SELECT_JULIA_POINT ? (\n        <SimilarityMenu\n          show={props.show}\n          shadeDomains={props.shadeDomains}\n          mandelbrot={props.mandelbrot}\n          julia={props.julia}\n          animationState={props.animationState}\n          setAnimationState={props.setAnimationState}\n          focusedPoint={focusedPointMandelbrot}\n          setFocusedPoint={setFocusedPointMandelbrot}\n          focusedPointJulia={focusedPointJulia}\n          setFocusedPointJulia={setFocusedPointJulia}\n        />\n      ) : null}\n      {props.animationState === AnimationStatus.PLAY ? (\n        <PlayCard\n          mandelbrot={props.mandelbrot}\n          julia={props.julia}\n          setAnimationState={props.setAnimationState}\n          focusedPointMandelbrot={focusedPointMandelbrot}\n          focusedPointJulia={focusedPointJulia}\n        />\n      ) : null}\n      {props.animationState === AnimationStatus.TRANSLATE_M ||\n      props.animationState === AnimationStatus.TRANSLATE_J ||\n      props.animationState === AnimationStatus.ZOOM_M ||\n      props.animationState === AnimationStatus.ZOOM_J ||\n      props.animationState === AnimationStatus.ROTATE_M ||\n      props.animationState === AnimationStatus.ROTATE_J ? (\n        <SimilarityAnimationCard\n          show={props.show}\n          mandelbrot={props.mandelbrot}\n          julia={props.julia}\n          animationState={props.animationState}\n          setAnimationState={props.setAnimationState}\n          focusedPoint={focusedPointMandelbrot}\n          setFocusedPoint={setFocusedPointMandelbrot}\n          focusedPointJulia={focusedPointJulia}\n          setFocusedPointJulia={setFocusedPointJulia}\n        ></SimilarityAnimationCard>\n      ) : null}\n    </>\n  );\n};\n\nexport default MisiurewiczModeFragment;\n","import { Card, Button, Typography, IconButton, Tooltip, Select } from '@material-ui/core';\nimport InfoIcon from '@material-ui/icons/Info';\nimport React from 'react';\nimport {\n  formatComplexNumber,\n  similarPoints,\n  PreperiodicPoint,\n} from '../tansTheoremUtils';\nimport { warpToPoint } from '../../common/utils';\nimport { InfoCardProps } from '../../common/info';\nimport {\n  AnimationStatus,\n  MISIUREWICZ_POINTS,\n  parsePoint,\n} from './MisiurewiczModeFragment';\nimport { XYType } from '../../common/types';\nimport ArrowBackwardIcon from '@material-ui/icons/ArrowBack';\nimport {\n  handleJuliaSelection,\n  handleMandelbrotSelection,\n} from './MisiurewiczPointMarker';\n\nconst SimilarityMenu = (props: InfoCardProps): JSX.Element => {\n  const backButton = (state: AnimationStatus) => {\n    return (\n      <IconButton\n        onClick={() => {\n          props.setAnimationState(state);\n        }}\n      >\n        <ArrowBackwardIcon />\n      </IconButton>\n    );\n  };\n\n  const goButton = () => {\n    return (\n      <Button\n        variant=\"contained\"\n        style={{\n          float: 'right',\n        }}\n        onClick={() => {\n          props.setAnimationState(AnimationStatus.TRANSLATE_M);\n        }}\n      >\n        GO\n      </Button>\n    );\n  };\n  const similarPointsJulia = similarPoints(props.focusedPoint);\n\n  const handleMandelbrotPointSelection = (\n    event: React.ChangeEvent<{ value: unknown }>,\n  ) => {\n    const chosenPoint: XYType = parsePoint(event.target.value as string);\n\n    const chosenMisiurewicz = new PreperiodicPoint(chosenPoint, chosenPoint);\n\n    handleMandelbrotSelection(\n      chosenMisiurewicz,\n      props.setFocusedPoint,\n      chosenMisiurewicz,\n      props.setFocusedPointJulia,\n    );\n    warpToPoint(props.mandelbrot, {\n      xy: chosenMisiurewicz.point,\n      z: chosenMisiurewicz.uMagnitude,\n      theta: 0,\n    });\n  };\n\n  const handleJuliaSimilarSelection = (event: React.ChangeEvent<{ value: unknown }>) => {\n    const chosenPoint: XYType = parsePoint(event.target.value as string);\n\n    handleJuliaSelection(\n      new PreperiodicPoint(props.focusedPoint.point, chosenPoint),\n      props.setFocusedPointJulia,\n    );\n  };\n\n  const misiurewiczPointsList = (): JSX.Element => {\n    return (\n      <Select\n        native\n        value={props.focusedPoint.point}\n        onChange={handleMandelbrotPointSelection}\n        inputProps={{\n          name: 'mandelbrot',\n          id: 'select-multiple-native',\n        }}\n      >\n        {MISIUREWICZ_POINTS.map((m) => (\n          <option key={m.point.toString()} value={m.point.toString()}>\n            {m.toString()} = {formatComplexNumber(m.point)}\n          </option>\n        ))}\n      </Select>\n    );\n  };\n\n  return (\n    <Card\n      style={{\n        width: 200,\n        padding: 12,\n        zIndex: 100,\n        display: 'flex',\n        flexDirection: 'column',\n        flexShrink: 1,\n        position: 'absolute',\n        left: 0,\n        top: 0,\n      }}\n    >\n      {backButton(AnimationStatus.NO_ANIMATION)}\n      <Typography\n        style={{\n          marginBottom: 8,\n        }}\n        variant=\"h6\"\n        gutterBottom\n      >\n        Show me the similarity between...\n      </Typography>\n      {props.shadeDomains\n        ? `${formatComplexNumber(props.focusedPoint.point)}`\n        : misiurewiczPointsList()}\n      <div style={{ marginBottom: 12 }}>in the Mandelbrot set</div>\n      <Typography variant=\"h6\" component=\"h5\" gutterBottom>\n        and\n      </Typography>\n      <Select\n        native\n        value={props.focusedPointJulia.point}\n        onChange={handleJuliaSimilarSelection}\n      >\n        {similarPointsJulia.map((m) => (\n          <option key={m.point.toString()} value={m.point.toString()}>\n            {formatComplexNumber(m.point)}\n          </option>\n        ))}\n      </Select>\n      <Tooltip\n        title={`These points are all similar because they enter the same cycle as ${formatComplexNumber(\n          props.focusedPoint.point,\n        )} under iteration`}\n        placement=\"top\"\n      >\n        <InfoIcon />\n      </Tooltip>\n      <div style={{ marginBottom: 12 }}>in the Julia set</div>\n      {goButton()}\n    </Card>\n  );\n};\n\nexport default SimilarityMenu;\n","import { Card, Grid, Slider } from '@material-ui/core';\nimport React from 'react';\nimport { ZoomBarProps } from '../../common/info';\nimport { ThetaType, ZoomType } from '../../common/types';\nimport { warpToPoint } from '../../common/utils';\nimport ZoomInIcon from '@material-ui/icons/ZoomIn';\nimport ZoomOutIcon from '@material-ui/icons/ZoomOut';\nimport { magnitude, cycleEigenvalue } from '../tansTheoremUtils';\n\nconst MIN_ZOOM = 1;\nconst MAX_ZOOM = 500;\n\nconst ZoomBar = (props: ZoomBarProps): JSX.Element => {\n  const eigenvalueTheta = Math.atan2(\n    cycleEigenvalue(\n      props.focusedPoint.point,\n      props.focusedPoint.prePeriod,\n      props.focusedPoint.period,\n    )[1],\n    cycleEigenvalue(\n      props.focusedPoint.point,\n      props.focusedPoint.prePeriod,\n      props.focusedPoint.period,\n    )[0],\n  );\n\n  const handleSetMagnification = (event: any, newValue: number | number[]) => {\n    rotateAndZoom(newValue as ZoomType);\n  };\n\n  const rotateAndZoom = (mag: ZoomType) => {\n    props.setMagState(mag);\n\n    const zoomM: ZoomType = props.focusedPoint.uMagnitude * mag;\n    const zoomJ: ZoomType = props.focusedPointJulia.aMagnitude * mag;\n    const thetaM: ThetaType = -props.focusedPoint.uAngle;\n    const thetaJ: ThetaType = -props.focusedPointJulia.aAngle;\n\n    warpToPoint(props.mandelbrot, {\n      xy: props.focusedPoint.point,\n      z: zoomM,\n      theta: thetaM,\n    });\n    warpToPoint(props.julia, {\n      xy: props.focusedPointJulia.point,\n      z: zoomJ,\n      theta: thetaJ,\n    });\n  };\n\n  const generateMarks = (): {\n    value: number;\n    label: number;\n  }[] => {\n    const eigenvalueMagnitude = magnitude(\n      cycleEigenvalue(\n        props.focusedPoint.point,\n        props.focusedPoint.prePeriod,\n        props.focusedPoint.period,\n      ),\n    );\n\n    const marks: {\n      value: number;\n      label: number;\n    }[] = [];\n\n    const INITIAL_NOTCH = 1;\n    for (let i = 0; i < 1000; i++) {\n      const notch = INITIAL_NOTCH * Math.pow(eigenvalueMagnitude, i);\n      if (notch > MAX_ZOOM) break;\n\n      marks.push({\n        value: notch,\n        label: ((i * eigenvalueTheta) % (Math.PI * 2)) * (180 / Math.PI),\n      });\n    }\n\n    return marks;\n  };\n\n  const marks = generateMarks();\n\n  return (\n    <Card\n      style={{\n        zIndex: 1300,\n        display: 'flex',\n        flexDirection: 'column',\n        flexShrink: 1,\n        position: 'relative',\n        width: '10%',\n      }}\n    >\n      <Grid container direction=\"column\" alignItems=\"center\">\n        <Grid item>\n          <ZoomInIcon />\n        </Grid>\n        <Grid item xs>\n          <Slider\n            value={props.mag}\n            onChange={handleSetMagnification}\n            style={{\n              height: '60vh',\n            }}\n            min={MIN_ZOOM}\n            max={MAX_ZOOM}\n            orientation=\"vertical\"\n            aria-labelledby=\"continuous-slider\"\n            valueLabelDisplay=\"on\"\n            marks={marks}\n          />\n        </Grid>\n        <Grid item>\n          <ZoomOutIcon />\n        </Grid>\n      </Grid>\n    </Card>\n  );\n};\n\nexport default ZoomBar;\n","import { Card, IconButton, Grid, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { PlayCardProps } from '../../common/info';\nimport { warpToPoint } from '../../common/utils';\nimport { AnimationStatus } from './MisiurewiczModeFragment';\nimport ZoomBar from './ZoomBar';\nimport ArrowBackwardIcon from '@material-ui/icons/ArrowBack';\n\nconst PlayCard = (props: PlayCardProps): JSX.Element => {\n  const [mag, setMagState] = React.useState<number>(1);\n\n  return (\n    <div\n      style={{\n        zIndex: 1300,\n        position: 'absolute',\n        left: 0,\n        top: 0,\n      }}\n    >\n      <Card\n        style={{\n          zIndex: 1300,\n          position: 'relative',\n          display: 'flex',\n          flexDirection: 'column',\n          flexShrink: 1,\n        }}\n      >\n        <Grid id=\"top-row\" container spacing={4}>\n          <Grid item>\n            <IconButton\n              onClick={() => {\n                props.setAnimationState(AnimationStatus.SELECT_JULIA_POINT);\n                warpToPoint(props.mandelbrot, {\n                  xy: props.focusedPointMandelbrot.point,\n                  z: props.focusedPointMandelbrot.uMagnitude,\n                  theta: 0,\n                });\n                warpToPoint(props.julia, {\n                  xy: [0, 0],\n                  z: 0.5,\n                  theta: 0,\n                });\n              }}\n            >\n              <ArrowBackwardIcon />\n            </IconButton>\n          </Grid>\n          <Grid item>\n            <Typography component=\"span\">\n              The Mandelbrot and Julia set movement controls are now synchronised!\n            </Typography>\n          </Grid>\n        </Grid>\n        {/* <Grid id=\"bottom-row\" container spacing={8}>\n          <Grid item>\n            <Typography component=\"span\">Magnitication Mandelbrot: Mag: Julia</Typography>\n          </Grid>\n        </Grid> */}\n      </Card>\n      <ZoomBar\n        mandelbrot={props.mandelbrot}\n        julia={props.julia}\n        focusedPoint={props.focusedPointMandelbrot}\n        focusedPointJulia={props.focusedPointJulia}\n        mag={mag}\n        setMagState={setMagState}\n      />\n    </div>\n  );\n};\n\nexport default PlayCard;\n","import React from 'react';\nimport { Tooltip } from '@material-ui/core';\nimport RoomIcon from '@material-ui/icons/Room';\nimport IconButton from '@material-ui/core/IconButton';\nimport { distance, MAX_DEPTH, PreperiodicPoint } from '../tansTheoremUtils';\nimport { animated } from 'react-spring';\nimport {\n  colorByPreperiod,\n  pointWithinBoundingBox,\n  complexToScreenCoordinate,\n} from './OrbitMarker';\nimport { XYType } from '../../common/types';\nimport { PreperiodicPointMarkerProps } from '../../common/info';\nconst MARKER_SIZE = 40;\nconst BUTTON_OFFSET_X = (3 * MARKER_SIZE) / 4;\nconst BUTTON_OFFSET_Y = MARKER_SIZE / 4;\n\nexport const handleJuliaSelection = (\n  focusedPointJulia: PreperiodicPoint,\n  setFocusedPointJulia: React.Dispatch<React.SetStateAction<PreperiodicPoint>>,\n): void => {\n  setFocusedPointJulia(focusedPointJulia);\n};\n\nconst MisiurewiczPointMarker = (props: PreperiodicPointMarkerProps): JSX.Element => {\n  const [{ z }] = props.viewerControl.zoomCtrl;\n  const [{ theta }] = props.viewerControl.rotCtrl;\n\n  const ASPECT_RATIO = props.mapWidth / props.mapHeight;\n\n  return (\n    <animated.div\n      style={{\n        zIndex: 100,\n        position: 'absolute',\n        visibility: props.viewerControl.xyCtrl[0].xy.interpolate(\n          // @ts-expect-error: Function call broken in TS, waiting till react-spring v9 to fix\n          (x, y) => {\n            const centre: XYType = [x, y];\n            if (\n              props.show &&\n              z.getValue() >= props.show_threshold &&\n              pointWithinBoundingBox(\n                props.preperiodicPoint.point,\n                centre,\n                ASPECT_RATIO / z.getValue(),\n                1 / z.getValue(),\n                -theta.getValue(),\n              )\n            ) {\n              return 'visible';\n            } else {\n              return 'hidden';\n            }\n          },\n        ),\n        left: props.viewerControl.xyCtrl[0].xy.interpolate(\n          // @ts-expect-error: Function call broken in TS, waiting till react-spring v9 to fix\n          (x, y) => {\n            return (\n              complexToScreenCoordinate(\n                x,\n                y,\n                -theta.getValue(),\n                z.getValue(),\n                ASPECT_RATIO,\n                props.mapHeight,\n                props.preperiodicPoint.point,\n              )[0] +\n              props.offset[0] -\n              BUTTON_OFFSET_X\n            );\n          },\n        ),\n        bottom: props.viewerControl.xyCtrl[0].xy.interpolate(\n          // @ts-expect-error: Function call broken in TS, waiting till react-spring v9 to fix\n          (x, y) => {\n            return (\n              complexToScreenCoordinate(\n                x,\n                y,\n                -theta.getValue(),\n                z.getValue(),\n                ASPECT_RATIO,\n                props.mapHeight,\n                props.preperiodicPoint.point,\n              )[1] +\n              props.offset[1] -\n              BUTTON_OFFSET_Y\n            );\n          },\n        ),\n      }}\n    >\n      <Tooltip title={`${props.preperiodicPoint.toString()}`} placement=\"top\">\n        <IconButton\n          style={{\n            color:\n              distance(props.preperiodicPoint.point, props.focusedPointJulia.point) < 0.01\n                ? '#FF5588'\n                : colorByPreperiod(props.preperiodicPoint.prePeriod, MAX_DEPTH + 1),\n          }}\n          onClick={() => {\n            handleJuliaSelection(props.preperiodicPoint, props.setFocusedPointJulia);\n          }}\n        >\n          <RoomIcon style={{ width: MARKER_SIZE, height: MARKER_SIZE }} />\n        </IconButton>\n      </Tooltip>\n    </animated.div>\n  );\n};\n\nexport default MisiurewiczPointMarker;\n","import { Card, Grow } from '@material-ui/core';\nimport React from 'react';\nimport { InfoCardProps } from '../../common/info';\nimport MisiurewiczPointInfoCard from './MisiurewiczPointInfoCard';\n\nconst DomainInfoCard = (props: InfoCardProps): JSX.Element => {\n  return (\n    <Grow in={props.show}>\n      <Card\n        style={{\n          width: 'auto',\n          zIndex: 1300,\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          display: 'flex',\n          flexDirection: 'column',\n          flexShrink: 1,\n        }}\n      >\n        <MisiurewiczPointInfoCard\n          show={props.show}\n          mandelbrot={props.mandelbrot}\n          julia={props.julia}\n          animationState={props.animationState}\n          setAnimationState={props.setAnimationState}\n          focusedPoint={props.focusedPoint}\n          setFocusedPoint={props.setFocusedPoint}\n          focusedPointJulia={props.focusedPointJulia}\n          setFocusedPointJulia={props.setFocusedPointJulia}\n        ></MisiurewiczPointInfoCard>\n      </Card>\n    </Grow>\n  );\n};\n\nexport default DomainInfoCard;\n","import { Card, IconButton, Grid, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { AnimationStatus } from './MisiurewiczModeFragment';\nimport ArrowBackwardIcon from '@material-ui/icons/ArrowBack';\nimport { formatComplexNumber } from '../tansTheoremUtils';\nimport { OrbitCardProps } from '../../common/info';\n\nconst OrbitCard = (props: OrbitCardProps): JSX.Element => {\n  return (\n    <Card\n      style={{\n        width: 'auto',\n        zIndex: 1300,\n        padding: 8,\n        display: 'flex',\n        flexDirection: 'column',\n        position: 'absolute',\n        left: 0,\n        top: 0,\n      }}\n    >\n      <IconButton\n        onClick={() => {\n          props.setAnimationState(AnimationStatus.NO_ANIMATION);\n        }}\n      >\n        <ArrowBackwardIcon />\n      </IconButton>\n      <Typography component=\"span\" variant=\"h6\">\n        Orbit for {formatComplexNumber(props.currentPoint)}\n      </Typography>\n      {props.prePeriod !== -1 ? (\n        <>\n          <Grid id=\"top-row\" container spacing={8}>\n            <Grid item xs={4}>\n              <Typography component=\"span\" variant=\"body1\" color=\"textSecondary\">\n                Preperiod\n              </Typography>\n            </Grid>\n            <Grid item xs={4}>\n              <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">\n                {props.prePeriod}\n              </Typography>\n            </Grid>\n          </Grid>\n          <Grid id=\"bottom-row\" container spacing={8}>\n            <Grid item xs={4}>\n              <Typography component=\"span\" variant=\"body1\" color=\"textSecondary\">\n                Period\n              </Typography>\n            </Grid>\n            <Grid item xs={4}>\n              <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">\n                {props.period}\n              </Typography>\n            </Grid>\n          </Grid>\n        </>\n      ) : (\n        <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">\n          divergent\n        </Typography>\n      )}\n    </Card>\n  );\n};\n\nexport default OrbitCard;\n","import React, { Component } from 'react'; // let's also import Component\nimport { ViewerControlSprings, XYType } from '../../common/types';\nimport { orbitList } from '../tansTheoremUtils';\nimport { AnimationStatus } from './MisiurewiczModeFragment';\nimport OrbitCard from './OrbitCard';\nimport OrbitMarker, { pointWithinBoundingBox } from './OrbitMarker';\n\n// the clock's state has one field: The current time, based upon the\n// JavaScript class Date\ntype OrbitManagerState = {\n  currentPoint: XYType;\n  period: number;\n  prePeriod: number;\n  orbitPoints: JSX.Element[];\n};\n\ntype OrbitManagerProps = {\n  mandelbrot: ViewerControlSprings;\n  setAnimationState: React.Dispatch<React.SetStateAction<AnimationStatus>>;\n  mapWidth: number;\n  mapHeight: number;\n};\n\nexport class OrbitManager extends Component<OrbitManagerProps, OrbitManagerState> {\n  tick() {\n    const ASPECT_RATIO = this.props.mapWidth / this.props.mapHeight;\n    const orbitInformation = orbitList(\n      [0, 0],\n      this.props.mandelbrot.xyCtrl[0].xy.getValue(),\n      20,\n    );\n    const orbitPs = orbitInformation[0].filter((x) =>\n      pointWithinBoundingBox(\n        x,\n        this.props.mandelbrot.xyCtrl[0].xy.getValue(),\n        ASPECT_RATIO / this.props.mandelbrot.zoomCtrl[0].z.getValue(),\n        1 / this.props.mandelbrot.zoomCtrl[0].z.getValue(),\n        -this.props.mandelbrot.rotCtrl[0].theta.getValue(),\n      ),\n    );\n    this.setState({\n      currentPoint: this.props.mandelbrot.xyCtrl[0].xy.getValue(),\n      prePeriod: orbitInformation[1],\n      period: orbitInformation[2],\n      orbitPoints: [...Array(orbitPs.length).keys()].map((i) => {\n        const p = orbitPs[i];\n        const color =\n          i + 1 > orbitPs.length - orbitInformation[2] ? '#EE0000' : '#EEEE00';\n        return (\n          <OrbitMarker\n            key={p.toString()}\n            iterate={p}\n            mapWidth={this.props.mapWidth}\n            mapHeight={this.props.mapHeight}\n            show={true}\n            mandelbrotControl={this.props.mandelbrot}\n            color={color}\n          />\n        );\n      }),\n    });\n  }\n\n  UNSAFE_componentWillMount() {\n    this.tick();\n  }\n\n  componentDidMount() {\n    setInterval(() => this.tick(), 100);\n  }\n\n  // render will know everything!\n  render() {\n    return (\n      <>\n        {this.state.orbitPoints}\n        <OrbitCard\n          setAnimationState={this.props.setAnimationState}\n          currentPoint={this.state.currentPoint}\n          prePeriod={this.state.prePeriod}\n          period={this.state.period}\n        />\n      </>\n    );\n  }\n}\n\nexport default OrbitManager;\n","import { XYType } from '../common/types';\n\nexport const misiurewiczPairs: XYType[] = [\n  [-2, 0],\n  [0, -1],\n  [0, +1],\n  [-1.5436890126920764, 0],\n  [-0.22815549365396182, -1.1151425080399373],\n  [-0.22815549365396182, +1.1151425080399373],\n  [-1.2392255553895675, -0.4126021816020036],\n  [-1.2392255553895675, +0.4126021816020036],\n  [-0.1557884966871271, -1.1122171145960382],\n  [-0.1557884966871271, +1.1122171145960382],\n  [0.39501405207669454, -0.555624571005996],\n  [0.39501405207669454, +0.555624571005996],\n  [-1.8392867552141612, 0],\n  [0.41964337760708054, -0.6062907292071994],\n  [0.41964337760708054, +0.6062907292071994],\n  [-1.8929109879078192, 0],\n  [-1.296355138173036, -0.4418516057351962],\n  [-1.296355138173036, +0.4418516057351962],\n  [-0.10109636384562218, -0.9562865108091414],\n  [-0.10109636384562218, +0.9562865108091414],\n  [0.34390699597256813, -0.7006200202350049],\n  [0.34390699597256813, +0.7006200202350049],\n  [-1.767124965666683, -0.05785056142131639],\n  [-1.767124965666683, +0.05785056142131639],\n  [-1.2808713092211985, -0.4362724776010231],\n  [-1.2808713092211985, +0.4362724776010231],\n  [-0.5640978548507617, -0.6792733482929286],\n  [-0.5640978548507617, +0.6792733482929286],\n  [-0.20710448802768247, -1.1227568081628718],\n  [-0.20710448802768247, +1.1227568081628718],\n  [0.38406395671529947, -0.6668051234054845],\n  [0.38406395671529947, +0.6668051234054845],\n  [0.4351346610510234, -0.3178102314697815],\n  [0.4351346610510234, +0.3178102314697815],\n  [-1.9521336653579517, 0],\n  [-1.9246610631863352, 0],\n  [-1.2836575751682051, -0.3477246914213503],\n  [-1.2836575751682051, +0.3477246914213503],\n  [-0.607031022616088, -0.6052513812789341],\n  [-0.607031022616088, +0.6052513812789341],\n  [-0.007567415510078627, -1.030984699759986],\n  [-0.007567415510078627, +1.030984699759986],\n  [0.38183759567086417, -0.6861360377022805],\n  [0.38183759567086417, +0.6861360377022805],\n  [0.45481578189568656, -0.3249573237509671],\n  [0.45481578189568656, +0.3249573237509671],\n  [-1.962048398642179, 0],\n  [-1.6612392272360135, 0],\n  [-0.5062944581958893, -0.683991968089373],\n  [-0.5062944581958893, +0.683991968089373],\n  [-0.15248775721021454, -1.1034462393667825],\n  [-0.15248775721021454, +1.1034462393667825],\n  [0.4704260283452002, -0.34658833134002764],\n  [0.4704260283452002, +0.34658833134002764],\n  [-1.973932044595267, 0],\n  [-1.7712570233562674, -0.06616150907981451],\n  [-1.7712570233562674, +0.06616150907981451],\n  [-1.222863787129903, -0.31688226388713575],\n  [-1.222863787129903, +0.31688226388713575],\n  [-0.6367543465823902, -0.6850312970836796],\n  [-0.6367543465823902, +0.6850312970836796],\n  [-0.17589070597347686, -1.0866248318614031],\n  [-0.17589070597347686, +1.0866248318614031],\n  [-0.017187977338349692, -1.0376523437932148],\n  [-0.017187977338349692, +1.0376523437932148],\n  [0.3663629834227644, -0.5915337732614452],\n  [0.3663629834227644, +0.5915337732614452],\n  [0.4445568792550438, -0.4099331083009843],\n  [0.4445568792550438, +0.4099331083009843],\n  [-1.9413896453620454, -0.00665494483921284],\n  [-1.9413896453620454, +0.00665494483921284],\n  [-1.770173729070548, -0.06416759437354855],\n  [-1.770173729070548, +0.06416759437354855],\n  [-1.4131118166494734, -0.15107719674160736],\n  [-1.4131118166494734, +0.15107719674160736],\n  [-1.2919523699701159, -0.4407687408824407],\n  [-1.2919523699701159, +0.4407687408824407],\n  [-1.0148890714045107, -0.3624518649400988],\n  [-1.0148890714045107, +0.3624518649400988],\n  [-0.6158051329055498, -0.6872113402032831],\n  [-0.6158051329055498, +0.6872113402032831],\n  [-0.24891216455786525, -0.8748737830690724],\n  [-0.24891216455786525, +0.8748737830690724],\n  [-0.22285830588012873, -1.1199487823949261],\n  [-0.22285830588012873, +1.1199487823949261],\n  [-0.1516878236290531, -1.1048441786984542],\n  [-0.1516878236290531, +1.1048441786984542],\n  [-0.007586814893703675, -1.02964065621494],\n  [-0.007586814893703675, +1.02964065621494],\n  [0.02522417387983919, -0.8050367396217796],\n  [0.02522417387983919, +0.8050367396217796],\n  [0.36352592894766717, -0.696779152946424],\n  [0.36352592894766717, +0.696779152946424],\n  [0.41343277221688635, -0.6004177642182833],\n  [0.41343277221688635, +0.6004177642182833],\n  [0.41572259118966703, -0.1959481760264641],\n  [0.41572259118966703, +0.1959481760264641],\n  [0.46046140279833686, -0.3782828333926355],\n  [0.46046140279833686, +0.3782828333926355],\n  [-1.9868996142852748, 0],\n  [-1.9836813447305355, 0],\n  [-1.8771321579468472, 0],\n  [-1.683316982926285, 0],\n  [-1.2906531683805842, -0.41800749116970864],\n  [-1.2906531683805842, +0.41800749116970864],\n  [-1.1443658773991876, -0.3147194703714256],\n  [-1.1443658773991876, +0.3147194703714256],\n  [-0.623993500322043, -0.6644658309134412],\n  [-0.623993500322043, +0.6644658309134412],\n  [-0.2814351809809267, -0.8298963294296201],\n  [-0.2814351809809267, +0.8298963294296201],\n  [-0.1577326286920571, -1.113725156028999],\n  [-0.1577326286920571, +1.113725156028999],\n  [-0.013469734498012214, -1.0370519669887543],\n  [-0.013469734498012214, +1.0370519669887543],\n  [0.027016564508056895, -0.8469158268634644],\n  [0.027016564508056895, +0.8469158268634644],\n  [0.3592282477109197, -0.7027203192523573],\n  [0.3592282477109197, +0.7027203192523573],\n  [0.4257086423058274, -0.19464478888154116],\n  [0.4257086423058274, +0.19464478888154116],\n  [0.4652116929076013, -0.3841079297476227],\n  [0.4652116929076013, +0.3841079297476227],\n  [-1.9884290013829427, 0],\n  [-1.9810569032719492, 0],\n  [-1.7903274919996366, 0],\n  [-1.41911618645102, -0.12569543584469126],\n  [-1.41911618645102, +0.12569543584469126],\n  [-1.010330521377726, -0.37244732766410205],\n  [-1.010330521377726, +0.37244732766410205],\n  [-0.6032926349210259, -0.6933754998747746],\n  [-0.6032926349210259, +0.6933754998747746],\n  [-0.20638467176342343, -1.1224837456193297],\n  [-0.20638467176342343, +1.1224837456193297],\n  [-0.1730067160920885, -1.0627522808492516],\n  [-0.1730067160920885, +1.0627522808492516],\n  [-0.027219872189942842, -0.995454534922548],\n  [-0.027219872189942842, +0.995454534922548],\n  [0.418388213468363, -0.6203360393322639],\n  [0.418388213468363, +0.6203360393322639],\n  [0.4352507004551443, -0.19747355193628705],\n  [0.4352507004551443, +0.19747355193628705],\n  [0.4656183871747615, -0.39445372332124123],\n  [0.4656183871747615, +0.39445372332124123],\n  [-1.990675930482431, 0],\n  [-1.9150472122433744, 0],\n  [-1.430357632451292, 0],\n  [-1.2555819767538634, -0.40203885926581207],\n  [-1.2555819767538634, +0.40203885926581207],\n  [-0.23843414042721506, -0.8864443998937136],\n  [-0.23843414042721506, +0.8864443998937136],\n  [-0.2046002175677313, -1.1201607107204858],\n  [-0.2046002175677313, +1.1201607107204858],\n  [0.03713367232990252, -0.8063783164917673],\n  [0.03713367232990252, +0.8063783164917673],\n  [0.38373942556504864, -0.6817392283187392],\n  [0.38373942556504864, +0.6817392283187392],\n  [0.4457836244433061, -0.2083806729388517],\n  [0.4457836244433061, +0.2083806729388517],\n  [-1.9935450866061477, 0],\n  [-1.8186201890057194, 0],\n  [-1.6975553902839495, 0],\n  [-1.9415886521114412, -0.007677765586804235],\n  [-1.9415886521114412, +0.007677765586804235],\n  [-1.4286834459581819, -0.1624971423442445],\n  [-1.4286834459581819, +0.1624971423442445],\n  [-1.2747090096154714, -0.4151757301032365],\n  [-1.2747090096154714, +0.4151757301032365],\n  [-1.0310510892690594, -0.39534440763537226],\n  [-1.0310510892690594, +0.39534440763537226],\n  [-0.5622026215229229, -0.6428171490727624],\n  [-0.5622026215229229, +0.6428171490727624],\n  [-0.3064815655169791, -0.8420998969801308],\n  [-0.3064815655169791, +0.8420998969801308],\n  [-0.20968212000867054, -1.1130838164028818],\n  [-0.20968212000867054, +1.1130838164028818],\n  [-0.15877761861293913, -1.1137793640533205],\n  [-0.15877761861293913, +1.1137793640533205],\n  [-0.016605716921468238, -1.006001828834008],\n  [-0.016605716921468238, +1.006001828834008],\n  [0.025654849207653933, -0.8733628229172444],\n  [0.025654849207653933, +0.8733628229172444],\n  [0.3698552014568447, -0.6714482514861305],\n  [0.3698552014568447, +0.6714482514861305],\n  [0.41300671798246114, -0.6241266090382939],\n  [0.41300671798246114, +0.6241266090382939],\n  [0.4379242413594624, -0.34189208433811646],\n  [0.4379242413594624, +0.34189208433811646],\n  [0.4382011356962859, -0.2505416430180912],\n  [0.4382011356962859, +0.2505416430180912],\n  [-1.9854576027168704, -0.000799257164890582],\n  [-1.9854576027168704, +0.000799257164890582],\n  [-1.9415381835400574, -0.007433837793542836],\n  [-1.9415381835400574, +0.007433837793542836],\n  [-1.8614080391446939, -0.009265404970970795],\n  [-1.8614080391446939, +0.009265404970970795],\n  [-1.7709702379798646, -0.06565556580815864],\n  [-1.7709702379798646, +0.06565556580815864],\n  [-1.6282334268538508, -0.033308697724854855],\n  [-1.6282334268538508, +0.033308697724854855],\n  [-1.4246306533663033, -0.15978244513123907],\n  [-1.4246306533663033, +0.15978244513123907],\n  [-1.2950939761321234, -0.44167295820921443],\n  [-1.2950939761321234, +0.44167295820921443],\n  [-1.288538339212554, -0.35601915792753586],\n  [-1.288538339212554, +0.35601915792753586],\n  [-1.0256508072849673, -0.3871219336360151],\n  [-1.0256508072849673, +0.3871219336360151],\n  [-0.6797526587913835, -0.473466324312337],\n  [-0.6797526587913835, +0.473466324312337],\n  [-0.6304573132506541, -0.6870393121817004],\n  [-0.6304573132506541, +0.6870393121817004],\n  [-0.5171276560204107, -0.6941191200712514],\n  [-0.5171276560204107, +0.6941191200712514],\n  [-0.2911670092922136, -0.854248509957449],\n  [-0.2911670092922136, +0.854248509957449],\n  [-0.2271762915869479, -1.1172358534756355],\n  [-0.2271762915869479, +1.1172358534756355],\n  [-0.20449600332520956, -1.1207916105551285],\n  [-0.20449600332520956, +1.1207916105551285],\n  [-0.1872312366696752, -1.0517102504204698],\n  [-0.1872312366696752, +1.0517102504204698],\n  [-0.12456860473628342, -1.0240996766324764],\n  [-0.12456860473628342, +1.0240996766324764],\n  [-0.013209560289156036, -1.0365867296434852],\n  [-0.013209560289156036, +1.0365867296434852],\n  [0.031511126825951356, -0.8553746623587384],\n  [0.031511126825951356, +0.8553746623587384],\n  [0.15945089730009604, -0.6500090338901932],\n  [0.15945089730009604, +0.6500090338901932],\n  [0.3514717544046096, -0.7031237284945724],\n  [0.3514717544046096, +0.7031237284945724],\n  [0.38268654157773113, -0.679552870196678],\n  [0.38268654157773113, +0.679552870196678],\n  [0.3892499783928356, -0.12869248652070192],\n  [0.3892499783928356, +0.12869248652070192],\n  [0.4177163781137614, -0.616992802892793],\n  [0.4177163781137614, +0.616992802892793],\n  [0.44276530343045933, -0.22660888356150122],\n  [0.44276530343045933, +0.22660888356150122],\n  [0.4577245386301414, -0.4015137920220611],\n  [0.4577245386301414, +0.4015137920220611],\n  [0.46413108156078625, -0.3433634079999592],\n  [0.46413108156078625, +0.3433634079999592],\n  [-1.9965653402885002, 0],\n  [-1.996170801086523, 0],\n  [-1.9685870478331524, 0],\n  [-1.9647833966627983, 0],\n  [-1.912751647441118, 0],\n  [-1.9012442006491679, 0],\n  [-1.8067583922170785, 0],\n  [-1.70736449900465, 0],\n  [-1.76846352453203, -0.040914125650977205],\n  [-1.76846352453203, +0.040914125650977205],\n  [-1.404345747755142, -0.11221422647182591],\n  [-1.404345747755142, +0.11221422647182591],\n  [-1.2941204762922698, -0.43544803850053637],\n  [-1.2941204762922698, +0.43544803850053637],\n  [-1.2633513083867458, -0.41901253211093203],\n  [-1.2633513083867458, +0.41901253211093203],\n  [-1.256728025410899, -0.32042658704879273],\n  [-1.256728025410899, +0.32042658704879273],\n  [-1.041195521091176, -0.36404221770701034],\n  [-1.041195521091176, +0.36404221770701034],\n  [-0.6757783094391631, -0.42782704216166956],\n  [-0.6757783094391631, +0.42782704216166956],\n  [-0.6315054706307247, -0.6795863685418551],\n  [-0.6315054706307247, +0.6795863685418551],\n  [-0.5351435947282597, -0.692131651108673],\n  [-0.5351435947282597, +0.692131651108673],\n  [-0.2980563636105694, -0.8405944203986486],\n  [-0.2980563636105694, +0.8405944203986486],\n  [-0.20733716601062566, -1.1227436547912595],\n  [-0.20733716601062566, +1.1227436547912595],\n  [-0.18056082041461258, -1.0181456698072797],\n  [-0.18056082041461258, +1.0181456698072797],\n  [-0.15846268197852958, -1.11389959083986],\n  [-0.15846268197852958, +1.11389959083986],\n  [-0.14232249078430287, -1.0515004390341782],\n  [-0.14232249078430287, +1.0515004390341782],\n  [-0.015972484034577104, -1.0380005225592457],\n  [-0.015972484034577104, +1.0380005225592457],\n  [0.002616977081938748, -1.0047653746406193],\n  [0.002616977081938748, +1.0047653746406193],\n  [0.029457036189752574, -0.8659511683868283],\n  [0.029457036189752574, +0.8659511683868283],\n  [0.1489864422555534, -0.6683229344589],\n  [0.1489864422555534, +0.6683229344589],\n  [0.34883896131034875, -0.7043492092307035],\n  [0.34883896131034875, +0.7043492092307035],\n  [0.38377361227457785, -0.6824716860913387],\n  [0.38377361227457785, +0.6824716860913387],\n  [0.39429331719098837, -0.12621582512308446],\n  [0.39429331719098837, +0.12621582512308446],\n  [0.40213283736672006, -0.5562854865691483],\n  [0.40213283736672006, +0.5562854865691483],\n  [0.4185400197612021, -0.6196817642911575],\n  [0.4185400197612021, +0.6196817642911575],\n  [0.44609308052273583, -0.22794071413239422],\n  [0.44609308052273583, +0.22794071413239422],\n  [0.4582680298031397, -0.4046693613979595],\n  [0.4582680298031397, +0.4046693613979595],\n  [0.4674563339156732, -0.3438103522018722],\n  [0.4674563339156732, +0.3438103522018722],\n  [-1.9967792781869123, 0],\n  [-1.9958919849159782, 0],\n  [-1.9706131799162094, 0],\n  [-1.9188295893892457, 0],\n  [-1.8262547394027135, 0],\n  [-1.5999985571844568, 0],\n  [-1.7715102160961114, -0.05615320129854813],\n  [-1.7715102160961114, +0.05615320129854813],\n  [-1.426106129384375, -0.1538589861002629],\n  [-1.426106129384375, +0.1538589861002629],\n  [-1.2921643166351342, -0.35131626224038365],\n  [-1.2921643166351342, +0.35131626224038365],\n  [-1.2384180114674583, -0.41713487045423603],\n  [-1.2384180114674583, +0.41713487045423603],\n  [-1.0248035954410297, -0.39000961457788674],\n  [-1.0248035954410297, +0.39000961457788674],\n  [-0.670524811969143, -0.48203873840833866],\n  [-0.670524811969143, +0.48203873840833866],\n  [-0.6272860134240613, -0.6897031583605155],\n  [-0.6272860134240613, +0.6897031583605155],\n  [-0.26689168528595825, -0.856840881613318],\n  [-0.26689168528595825, +0.856840881613318],\n  [-0.22278951913565, -1.1199789829441407],\n  [-0.22278951913565, +1.1199789829441407],\n  [-0.20353727761430107, -1.1032005799692062],\n  [-0.20353727761430107, +1.1032005799692062],\n  [-0.18982054726773584, -1.0972622407456505],\n  [-0.18982054726773584, +1.0972622407456505],\n  [-0.020276104970248593, -1.016290805769682],\n  [-0.020276104970248593, +1.016290805769682],\n  [-0.011448297242075153, -1.0231082080934817],\n  [-0.011448297242075153, +1.0231082080934817],\n  [-0.001267263104501388, -0.852538348527851],\n  [-0.001267263104501388, +0.852538348527851],\n  [0.11331038016713428, -0.6574349127670454],\n  [0.11331038016713428, +0.6574349127670454],\n  [0.3805602182443834, -0.6869779028756866],\n  [0.3805602182443834, +0.6869779028756866],\n  [0.39903770341951783, -0.1255500292330882],\n  [0.39903770341951783, +0.1255500292330882],\n  [0.4076450224720915, -0.56435505857067],\n  [0.4076450224720915, +0.56435505857067],\n  [0.41560834891987175, -0.6239407073449147],\n  [0.41560834891987175, +0.6239407073449147],\n  [0.4487520019277144, -0.23075928523387157],\n  [0.4487520019277144, +0.23075928523387157],\n  [0.4561137783838625, -0.40865817983649005],\n  [0.4561137783838625, +0.40865817983649005],\n  [-1.9971337812188001, 0],\n  [-1.9952715943086765, 0],\n  [-1.9556940451697309, 0],\n  [-1.9290219899775716, 0],\n  [-1.8720679431314904, 0],\n  [-1.8533665366323813, 0],\n  [-1.6233662970002014, -0.02262885026320972],\n  [-1.6233662970002014, +0.02262885026320972],\n  [-1.3999190501267045, -0.14737271764075732],\n  [-1.3999190501267045, +0.14737271764075732],\n  [-1.2883301456469516, -0.4177530788054405],\n  [-1.2883301456469516, +0.4177530788054405],\n  [-1.2810925236563064, -0.43521077994083035],\n  [-1.2810925236563064, +0.43521077994083035],\n  [-1.0525128042497327, -0.35627367711310676],\n  [-1.0525128042497327, +0.35627367711310676],\n  [-0.6962409686147376, -0.43875459805032613],\n  [-0.6962409686147376, +0.43875459805032613],\n  [-0.5227165394645862, -0.7038963280676214],\n  [-0.5227165394645862, +0.7038963280676214],\n  [-0.2906465509079364, -0.8586146809354838],\n  [-0.2906465509079364, +0.8586146809354838],\n  [-0.22254100884382605, -1.119978294917435],\n  [-0.22254100884382605, +1.119978294917435],\n  [-0.20679287939426275, -1.1069921932423328],\n  [-0.20679287939426275, +1.1069921932423328],\n  [-0.15990745089645497, -1.1025987927348084],\n  [-0.15990745089645497, +1.1025987927348084],\n  [-0.13496528322514648, -1.0001689950116255],\n  [-0.13496528322514648, +1.0001689950116255],\n  [0.002777752412799379, -1.0049482262191771],\n  [0.002777752412799379, +1.0049482262191771],\n  [0.03444867476109208, -0.8580867270681253],\n  [0.03444867476109208, +0.8580867270681253],\n  [0.16467975170778815, -0.6303018322724434],\n  [0.16467975170778815, +0.6303018322724434],\n  [0.3598087094703787, -0.7026286989552386],\n  [0.3598087094703787, +0.7026286989552386],\n  [0.38037734573895654, -0.6634794648529074],\n  [0.38037734573895654, +0.6634794648529074],\n  [0.40464223794589194, -0.1268314158051571],\n  [0.40464223794589194, +0.1268314158051571],\n  [0.41247352077110594, -0.6010119043584538],\n  [0.41247352077110594, +0.6010119043584538],\n  [0.4500085626759603, -0.23699241051995998],\n  [0.4500085626759603, +0.23699241051995998],\n  [0.4710928881974916, -0.35458451228960325],\n  [0.4710928881974916, +0.35458451228960325],\n  [-1.9976815022709673, 0],\n  [-1.9790044291106053, 0],\n  [-1.879839142843263, 0],\n  [-1.5894844066708969, 0],\n  [-1.7657643876525437, -0.03680291681253911],\n  [-1.7657643876525437, +0.03680291681253911],\n  [-1.28471454316253, -0.4327115725620797],\n  [-1.28471454316253, +0.4327115725620797],\n  [-1.2603629819757212, -0.35532647575698395],\n  [-1.2603629819757212, +0.35532647575698395],\n  [-0.6356170288411918, -0.49192041520386276],\n  [-0.6356170288411918, +0.49192041520386276],\n  [-0.5997883797913145, -0.6871383163620542],\n  [-0.5997883797913145, +0.6871383163620542],\n  [-0.22173898182939206, -1.1194794359087799],\n  [-0.22173898182939206, +1.1194794359087799],\n  [-0.18652697112403718, -1.0551395894579052],\n  [-0.18652697112403718, +1.0551395894579052],\n  [-0.12318974899184261, -1.021485016003132],\n  [-0.12318974899184261, +1.021485016003132],\n  [-0.007788039255478678, -1.0294903902091648],\n  [-0.007788039255478678, +1.0294903902091648],\n  [0.1655274524613969, -0.6637175284275475],\n  [0.1655274524613969, +0.6637175284275475],\n  [0.3611731294477329, -0.7013895156292487],\n  [0.3611731294477329, +0.7013895156292487],\n  [0.40335390040631347, -0.5560492870730889],\n  [0.40335390040631347, +0.5560492870730889],\n  [0.4119958597296872, -0.13287878329936956],\n  [0.4119958597296872, +0.13287878329936956],\n  [0.46644545825894035, -0.3915477505488361],\n  [0.46644545825894035, +0.3915477505488361],\n  [-1.9983913615320652, 0],\n  [-1.9585095871785123, 0],\n  [-1.920538736765777, 0],\n  [-1.9854687587441413, -0.0009227889671084679],\n  [-1.9854687587441413, +0.0009227889671084679],\n  [-1.861623254488336, -0.010718254199591392],\n  [-1.861623254488336, +0.010718254199591392],\n  [-1.7677303444380308, -0.04850211925195541],\n  [-1.7677303444380308, +0.04850211925195541],\n  [-1.6292734442048284, -0.03869400209621545],\n  [-1.6292734442048284, +0.03869400209621545],\n  [-1.3871108501407865, -0.10254200534696942],\n  [-1.3871108501407865, +0.10254200534696942],\n  [-1.2950966837360058, -0.3523826396667981],\n  [-1.2950966837360058, +0.3523826396667981],\n  [-1.2897287691165251, -0.43530721592180915],\n  [-1.2897287691165251, +0.43530721592180915],\n  [-1.2385297017651444, -0.41875850005026455],\n  [-1.2385297017651444, +0.41875850005026455],\n  [-1.0300291782894757, -0.3268445297848179],\n  [-1.0300291782894757, +0.3268445297848179],\n  [-0.7136263728169538, -0.47379461894707076],\n  [-0.7136263728169538, +0.47379461894707076],\n  [-0.6135101981012033, -0.6775773355843497],\n  [-0.6135101981012033, +0.6775773355843497],\n  [-0.530524266441857, -0.7065770817061824],\n  [-0.530524266441857, +0.7065770817061824],\n  [-0.23971619022313442, -0.8455033137002887],\n  [-0.23971619022313442, +0.8455033137002887],\n  [-0.22244025746143992, -1.1167970410716408],\n  [-0.22244025746143992, +1.1167970410716408],\n  [-0.2074202046124656, -1.1226817832266676],\n  [-0.2074202046124656, +1.1226817832266676],\n  [-0.1849514996703775, -1.0136286162957249],\n  [-0.1849514996703775, +1.0136286162957249],\n  [-0.1571359485170754, -1.1049455608350527],\n  [-0.1571359485170754, +1.1049455608350527],\n  [-0.1427563106416924, -1.0558427989502803],\n  [-0.1427563106416924, +1.0558427989502803],\n  [-0.012489256325033352, -1.029032786918613],\n  [-0.012489256325033352, +1.029032786918613],\n  [0.001642955547149909, -0.8224665300190913],\n  [0.001642955547149909, +0.8224665300190913],\n  [0.002241106093233228, -1.006987004324957],\n  [0.002241106093233228, +1.006987004324957],\n  [0.12649666120790456, -0.6917808610670618],\n  [0.12649666120790456, +0.6917808610670618],\n  [0.35812051169178866, -0.6957000873669538],\n  [0.35812051169178866, +0.6957000873669538],\n  [0.379739684568801, -0.6867748339179547],\n  [0.379739684568801, +0.6867748339179547],\n  [0.40788894723159813, -0.571030194425324],\n  [0.40788894723159813, +0.571030194425324],\n  [0.41134162547000125, -0.6073334867915189],\n  [0.41134162547000125, +0.6073334867915189],\n  [0.41148107380363835, -0.16155503876347707],\n  [0.41148107380363835, +0.16155503876347707],\n  [0.42451271905003957, -0.20753022816674532],\n  [0.42451271905003957, +0.20753022816674532],\n  [0.45673141833004816, -0.38563149707522454],\n  [0.45673141833004816, +0.38563149707522454],\n  [0.46768462947854994, -0.3575514194636913],\n  [0.46768462947854994, +0.3575514194636913],\n  [-1.9963781533181542, -0.00009848036721068987],\n  [-1.9963781533181542, +0.00009848036721068987],\n  [-1.985465959460142, -0.0008934603520346245],\n  [-1.985465959460142, +0.0008934603520346245],\n  [-1.966795327864741, -0.0009508421051139327],\n  [-1.966795327864741, +0.0009508421051139327],\n  [-1.9415758369366716, -0.007616994043549569],\n  [-1.9415758369366716, +0.007616994043549569],\n  [-1.9073520447534718, -0.0028874138771203955],\n  [-1.9073520447534718, +0.0028874138771203955],\n  [-1.8615676763370828, -0.010367005388632],\n  [-1.8615676763370828, +0.010367005388632],\n  [-1.7869263035382308, -0.01985802455484837],\n  [-1.7869263035382308, +0.01985802455484837],\n  [-1.7711809260676905, -0.06603142384135804],\n  [-1.7711809260676905, +0.06603142384135804],\n  [-1.7414279552561207, -0.025634074825373093],\n  [-1.7414279552561207, +0.025634074825373093],\n  [-1.628987656815293, -0.0373443469718137],\n  [-1.628987656815293, +0.0373443469718137],\n  [-1.4879909281088695, -0.04419848087340299],\n  [-1.4879909281088695, +0.04419848087340299],\n  [-1.427557683493302, -0.161800820750008],\n  [-1.427557683493302, +0.161800820750008],\n  [-1.2959954763343635, -0.44183687019595846],\n  [-1.2959954763343635, +0.44183687019595846],\n  [-1.2933901144403352, -0.3534447501106906],\n  [-1.2933901144403352, +0.3534447501106906],\n  [-1.2901750505792342, -0.419512442320131],\n  [-1.2901750505792342, +0.419512442320131],\n  [-1.2809919007742965, -0.4352162312139901],\n  [-1.2809919007742965, +0.4352162312139901],\n  [-1.27761390478869, -0.19495757583320933],\n  [-1.27761390478869, +0.19495757583320933],\n  [-1.2385177510588263, -0.4171016258495339],\n  [-1.2385177510588263, +0.4171016258495339],\n  [-1.1465602906859351, -0.3369815639541414],\n  [-1.1465602906859351, +0.3369815639541414],\n  [-1.0292218979346013, -0.393123646446347],\n  [-1.0292218979346013, +0.393123646446347],\n  [-0.916762524996768, -0.3070487264796476],\n  [-0.916762524996768, +0.3070487264796476],\n  [-0.7037582001894062, -0.47466291483944184],\n  [-0.7037582001894062, +0.47466291483944184],\n  [-0.6349152763510273, -0.6860935551156535],\n  [-0.6349152763510273, +0.6860935551156535],\n  [-0.6161811630097624, -0.6186645664035203],\n  [-0.6161811630097624, +0.6186645664035203],\n  [-0.6021415462117305, -0.6908697307940045],\n  [-0.6021415462117305, +0.6908697307940045],\n  [-0.525750452730708, -0.7040422122493868],\n  [-0.525750452730708, +0.7040422122493868],\n  [-0.36946615051649795, -0.6725807254598705],\n  [-0.36946615051649795, +0.6725807254598705],\n  [-0.3027068684314701, -0.8473051014277786],\n  [-0.3027068684314701, +0.8473051014277786],\n  [-0.24149025058516968, -0.8864197670730047],\n  [-0.24149025058516968, +0.8864197670730047],\n  [-0.22812793010524943, -1.1158907935306774],\n  [-0.22812793010524943, +1.1158907935306774],\n  [-0.22178869374813454, -1.1196916696280483],\n  [-0.22178869374813454, +1.1196916696280483],\n  [-0.20898229272265845, -1.1032052238822636],\n  [-0.20898229272265845, +1.1032052238822636],\n  [-0.20640758011816113, -1.1225115265021852],\n  [-0.20640758011816113, +1.1225115265021852],\n  [-0.18596137920749736, -1.099957608069932],\n  [-0.18596137920749736, +1.099957608069932],\n  [-0.1845040707395749, -1.0265376432376403],\n  [-0.1845040707395749, +1.0265376432376403],\n  [-0.1577066805177172, -1.113702157160596],\n  [-0.1577066805177172, +1.113702157160596],\n  [-0.15220116141181433, -1.1034882650293611],\n  [-0.15220116141181433, +1.1034882650293611],\n  [-0.13903616305848326, -1.0465442123094217],\n  [-0.13903616305848326, +1.0465442123094217],\n  [-0.04320077511496297, -0.9975232469208524],\n  [-0.04320077511496297, +0.9975232469208524],\n  [-0.04032771650660294, -0.9741973383509286],\n  [-0.04032771650660294, +0.9741973383509286],\n  [-0.015815923266483237, -1.037897397434423],\n  [-0.015815923266483237, +1.037897397434423],\n  [-0.0077447936515497, -1.0294836828682712],\n  [-0.0077447936515497, +1.0294836828682712],\n  [0.0025766283354844884, -1.0047617170946845],\n  [0.0025766283354844884, +1.0047617170946845],\n  [0.02976821616461716, -0.8684981102861826],\n  [0.02976821616461716, +0.8684981102861826],\n  [0.03521946449725327, -0.8073914204398679],\n  [0.03521946449725327, +0.8073914204398679],\n  [0.1410020269597626, -0.6824844906039436],\n  [0.1410020269597626, +0.6824844906039436],\n  [0.29144287989856854, -0.613067210754869],\n  [0.29144287989856854, +0.613067210754869],\n  [0.3457639262665493, -0.4992854216259669],\n  [0.3457639262665493, +0.4992854216259669],\n  [0.3460555025844437, -0.7030373653628466],\n  [0.3460555025844437, +0.7030373653628466],\n  [0.36114819214165106, -0.700522145299988],\n  [0.36114819214165106, +0.700522145299988],\n  [0.36580579699692883, -0.08884828992297437],\n  [0.36580579699692883, +0.08884828992297437],\n  [0.3810371142022507, -0.663024706815297],\n  [0.3810371142022507, +0.663024706815297],\n  [0.3819867262214486, -0.685123150983724],\n  [0.3819867262214486, +0.685123150983724],\n  [0.40707155327843725, -0.5643074614235771],\n  [0.40707155327843725, +0.5643074614235771],\n  [0.4112358450691735, -0.14427992279677734],\n  [0.4112358450691735, +0.14427992279677734],\n  [0.41610358070158654, -0.6226466954198044],\n  [0.41610358070158654, +0.6226466954198044],\n  [0.41836236867399323, -0.6058061768868032],\n  [0.41836236867399323, +0.6058061768868032],\n  [0.4407872631125345, -0.20702965375561488],\n  [0.4407872631125345, +0.20702965375561488],\n  [0.4460582225570667, -0.24159039237571797],\n  [0.4460582225570667, +0.24159039237571797],\n  [0.45188992873261413, -0.4097344870332437],\n  [0.45188992873261413, +0.4097344870332437],\n  [0.45269712420072084, -0.3260165573678977],\n  [0.45269712420072084, +0.3260165573678977],\n  [0.46483756781240476, -0.38970631730045363],\n  [0.46483756781240476, +0.38970631730045363],\n  [0.4698005033299481, -0.3519310015884775],\n  [0.4698005033299481, +0.3519310015884775],\n  [-1.9991196977354313, 0],\n  [-1.9990706695787457, 0],\n  [-1.9920344350931423, 0],\n  [-1.9915844467869424, 0],\n  [-1.9778075897622782, 0],\n  [-1.97652408842286, 0],\n  [-1.955153074687317, 0],\n  [-1.9295950104609287, 0],\n  [-1.8886045718359488, 0],\n  [-1.8806710849090953, 0],\n  [-1.8245933904125318, 0],\n  [-1.6927162244637044, 0],\n  [-1.6501505074086922, 0],\n  [-1.6056401539530598, 0],\n  [-1.7704696091885002, -0.06063724511396295],\n  [-1.7704696091885002, +0.06063724511396295],\n  [-1.7675334262150204, -0.05177986616583723],\n  [-1.7675334262150204, +0.05177986616583723],\n  [-1.4223981576514766, -0.15170213583761652],\n  [-1.4223981576514766, +0.15170213583761652],\n  [-1.3688561493421105, -0.09345352253686444],\n  [-1.3688561493421105, +0.09345352253686444],\n  [-1.2955489570318413, -0.44012211293426573],\n  [-1.2955489570318413, +0.44012211293426573],\n  [-1.287031751756387, -0.4367040672605366],\n  [-1.287031751756387, +0.4367040672605366],\n  [-1.2815652552738006, -0.4127694469265946],\n  [-1.2815652552738006, +0.4127694469265946],\n  [-1.2457728596060178, -0.41525656377514286],\n  [-1.2457728596060178, +0.41525656377514286],\n  [-1.1941957731973922, -0.3249585791953213],\n  [-1.1941957731973922, +0.3249585791953213],\n  [-1.0324446273001517, -0.3863993496335424],\n  [-1.0324446273001517, +0.3863993496335424],\n  [-0.9801328235848837, -0.29798837431825287],\n  [-0.9801328235848837, +0.29798837431825287],\n  [-0.7013590365525292, -0.4630878709410775],\n  [-0.7013590365525292, +0.4630878709410775],\n  [-0.6347328762339761, -0.6836909013739136],\n  [-0.6347328762339761, +0.6836909013739136],\n  [-0.6075073419442357, -0.6902434542698256],\n  [-0.6075073419442357, +0.6902434542698256],\n  [-0.5303987811289232, -0.7017847015396027],\n  [-0.5303987811289232, +0.7017847015396027],\n  [-0.3924833749373313, -0.6598097659697202],\n  [-0.3924833749373313, +0.6598097659697202],\n  [-0.3036621519808191, -0.8424660366474116],\n  [-0.3036621519808191, +0.8424660366474116],\n  [-0.2508164487972351, -0.8836955183436561],\n  [-0.2508164487972351, +0.8836955183436561],\n  [-0.22287465906347462, -1.1199314584072908],\n  [-0.22287465906347462, +1.1199314584072908],\n  [-0.20740348945150514, -1.1227107472170852],\n  [-0.20740348945150514, +1.1227107472170852],\n  [-0.1993988339959656, -1.0961691335268358],\n  [-0.1993988339959656, +1.0961691335268358],\n  [-0.1974592095884885, -1.1040890459583734],\n  [-0.1974592095884885, +1.1040890459583734],\n  [-0.18412391162459027, -1.0154389096074476],\n  [-0.18412391162459027, +1.0154389096074476],\n  [-0.15869961207598723, -1.1138568454529023],\n  [-0.15869961207598723, +1.1138568454529023],\n  [-0.15166164910605828, -1.105303222452904],\n  [-0.15166164910605828, +1.105303222452904],\n  [-0.1421156311044317, -1.0546833203875006],\n  [-0.1421156311044317, +1.0546833203875006],\n  [-0.06312195212620227, -1.0003526261557811],\n  [-0.06312195212620227, +1.0003526261557811],\n  [-0.021887438135820236, -0.9802991571468727],\n  [-0.021887438135820236, +0.9802991571468727],\n  [-0.016864939010649962, -1.037936651459249],\n  [-0.016864939010649962, +1.037936651459249],\n  [0.0026715617184223084, -1.0063721447937717],\n  [0.0026715617184223084, +1.0063721447937717],\n  [0.027904367596326966, -0.871538695987866],\n  [0.027904367596326966, +0.871538695987866],\n  [0.038743351428004245, -0.8138287163740752],\n  [0.038743351428004245, +0.8138287163740752],\n  [0.13655305209497642, -0.6870030101134459],\n  [0.13655305209497642, +0.6870030101134459],\n  [0.27714257560487915, -0.6197842539693253],\n  [0.27714257560487915, +0.6197842539693253],\n  [0.34488266589660205, -0.7029381816200121],\n  [0.34488266589660205, +0.7029381816200121],\n  [0.35791349088860736, -0.5036459198068465],\n  [0.35791349088860736, +0.5036459198068465],\n  [0.3609983802472942, -0.7017176565210621],\n  [0.3609983802472942, +0.7017176565210621],\n  [0.3684643236994864, -0.08664174445646818],\n  [0.3684643236994864, +0.08664174445646818],\n  [0.3835481125800587, -0.6641817814130745],\n  [0.3835481125800587, +0.6641817814130745],\n  [0.40876488677788825, -0.5654232614307712],\n  [0.40876488677788825, +0.5654232614307712],\n  [0.4131949568992119, -0.14435303438778324],\n  [0.4131949568992119, +0.14435303438778324],\n  [0.41586994379793996, -0.6237191918876812],\n  [0.41586994379793996, +0.6237191918876812],\n  [0.4423498085470508, -0.20659416529251393],\n  [0.4423498085470508, +0.20659416529251393],\n  [0.44711843896077347, -0.242837702110525],\n  [0.44711843896077347, +0.242837702110525],\n  [0.45138111380201734, -0.4111258253714812],\n  [0.45138111380201734, +0.4111258253714812],\n  [0.4659273178023451, -0.390428372078276],\n  [0.4659273178023451, +0.390428372078276],\n  [0.4707248514177082, -0.35267777556457436],\n  [0.4707248514177082, +0.35267777556457436],\n  [-1.9991480790780234, 0],\n  [-1.999038293733424, 0],\n  [-1.992294178472985, 0],\n  [-1.9912868574030393, 0],\n  [-1.9785465641525746, 0],\n  [-1.9756755559170773, 0],\n  [-1.9568004019210727, 0],\n  [-1.949954265680793, 0],\n  [-1.93262643015534, 0],\n  [-1.921510772283805, 0],\n  [-1.8749266219160168, 0],\n  [-1.8473194611008856, 0],\n  [-1.8133843615518996, 0],\n  [-1.7144130912253466, 0],\n  [-1.7712946885859575, -0.06370693640148492],\n  [-1.7712946885859575, +0.06370693640148492],\n  [-1.7645603667591474, -0.04254164624872672],\n  [-1.7645603667591474, +0.04254164624872672],\n  [-1.6295270641311743, -0.029385343768419253],\n  [-1.6295270641311743, +0.029385343768419253],\n  [-1.4857515500042446, -0.027295539197934034],\n  [-1.4857515500042446, +0.027295539197934034],\n  [-1.427914278574198, -0.16020741524670346],\n  [-1.427914278574198, +0.16020741524670346],\n  [-1.2942685142323964, -0.3521425875527559],\n  [-1.2942685142323964, +0.3521425875527559],\n  [-1.2912363073571327, -0.418047210460395],\n  [-1.2912363073571327, +0.418047210460395],\n  [-1.2813391753615635, -0.18873166938270997],\n  [-1.2813391753615635, +0.18873166938270997],\n  [-1.2808700504997372, -0.43655061756590313],\n  [-1.2808700504997372, +0.43655061756590313],\n  [-1.2384461386514494, -0.4183105119176694],\n  [-1.2384461386514494, +0.4183105119176694],\n  [-1.1474137523313819, -0.3410182656274018],\n  [-1.1474137523313819, +0.3410182656274018],\n  [-1.0290711093575047, -0.3939941377228365],\n  [-1.0290711093575047, +0.3939941377228365],\n  [-0.9127749118437058, -0.30819168633948024],\n  [-0.9127749118437058, +0.30819168633948024],\n  [-0.701661921211188, -0.47702849009742837],\n  [-0.701661921211188, +0.47702849009742837],\n  [-0.63412454000062, -0.6871317569072459],\n  [-0.63412454000062, +0.6871317569072459],\n  [-0.6154787784336445, -0.6259343574313917],\n  [-0.6154787784336445, +0.6259343574313917],\n  [-0.5988915213663525, -0.6890276420345447],\n  [-0.5988915213663525, +0.6890276420345447],\n  [-0.5224223422380303, -0.7024784789422454],\n  [-0.5224223422380303, +0.7024784789422454],\n  [-0.34815527514254313, -0.656083213391495],\n  [-0.34815527514254313, +0.656083213391495],\n  [-0.29628178101122493, -0.8496920129702993],\n  [-0.29628178101122493, +0.8496920129702993],\n  [-0.22798479604884236, -0.8676024206861417],\n  [-0.22798479604884236, +0.8676024206861417],\n  [-0.22717347806648863, -1.1172430700841265],\n  [-0.22717347806648863, +1.1172430700841265],\n  [-0.21867997369242115, -1.114340322413683],\n  [-0.21867997369242115, +1.114340322413683],\n  [-0.2161952789496721, -1.1147247469743655],\n  [-0.2161952789496721, +1.1147247469743655],\n  [-0.20446821732393164, -1.1206506403204368],\n  [-0.20446821732393164, +1.1206506403204368],\n  [-0.18393600509182392, -1.0522609150171922],\n  [-0.18393600509182392, +1.0522609150171922],\n  [-0.16628465994808564, -1.0912088505396556],\n  [-0.16628465994808564, +1.0912088505396556],\n  [-0.16176469366278146, -1.102921472376848],\n  [-0.16176469366278146, +1.102921472376848],\n  [-0.15578257244606392, -1.111819294557316],\n  [-0.15578257244606392, +1.111819294557316],\n  [-0.13060456357799055, -1.0174220188767433],\n  [-0.13060456357799055, +1.0174220188767433],\n  [-0.01551337055167012, -1.0310429713085048],\n  [-0.01551337055167012, +1.0310429713085048],\n  [-0.013261882496623597, -1.034395809916364],\n  [-0.013261882496623597, +1.034395809916364],\n  [-0.00871885444656265, -1.005171822570269],\n  [-0.00871885444656265, +1.005171822570269],\n  [-0.005636927388635479, -1.002688853952398],\n  [-0.005636927388635479, +1.002688853952398],\n  [0.02060814009638517, -0.8638624198663648],\n  [0.02060814009638517, +0.8638624198663648],\n  [0.023987778762265904, -0.8234764201672712],\n  [0.023987778762265904, +0.8234764201672712],\n  [0.12705644324865542, -0.6795168212923934],\n  [0.12705644324865542, +0.6795168212923934],\n  [0.25513992031507726, -0.6094545334438948],\n  [0.25513992031507726, +0.6094545334438948],\n  [0.3590214154670244, -0.7026427370459905],\n  [0.3590214154670244, +0.7026427370459905],\n  [0.3654840707536842, -0.5163872650580513],\n  [0.3654840707536842, +0.5163872650580513],\n  [0.370879694080394, -0.08549908327142379],\n  [0.370879694080394, +0.08549908327142379],\n  [0.37998190292984496, -0.6870148123491661],\n  [0.37998190292984496, +0.6870148123491661],\n  [0.3842880386011002, -0.6682710530773975],\n  [0.3842880386011002, +0.6682710530773975],\n  [0.4091732496859471, -0.5687107469213112],\n  [0.4091732496859471, +0.5687107469213112],\n  [0.4139734919087897, -0.6246232555000923],\n  [0.4139734919087897, +0.6246232555000923],\n  [0.4148986924940001, -0.14496649453194108],\n  [0.4148986924940001, +0.14496649453194108],\n  [0.4203017363065032, -0.6083691079917163],\n  [0.4203017363065032, +0.6083691079917163],\n  [0.4439618168160896, -0.20687163865300207],\n  [0.4439618168160896, +0.20687163865300207],\n  [0.44758856036995104, -0.24460141310282693],\n  [0.44758856036995104, +0.24460141310282693],\n  [0.4495653006287288, -0.41221708842471194],\n  [0.4495653006287288, +0.41221708842471194],\n  [0.4574132504451253, -0.3253930823414394],\n  [0.4574132504451253, +0.3253930823414394],\n  [0.4664429702710947, -0.392014787185609],\n  [0.4664429702710947, +0.392014787185609],\n  [0.47118533490085585, -0.35414983142296497],\n  [0.47118533490085585, +0.35414983142296497],\n  [-1.999198304731126, 0],\n  [-1.998971995325023, 0],\n  [-1.992752788372277, 0],\n  [-1.9798501783343891, 0],\n  [-1.9596122144918136, 0],\n  [-1.9427620110482886, 0],\n  [-1.9003683225460892, 0],\n  [-1.4964646871559084, 0],\n  [-1.8618968602117194, -0.007984258297299634],\n  [-1.8618968602117194, +0.007984258297299634],\n  [-1.7873461332551988, -0.01903803372951846],\n  [-1.7873461332551988, +0.01903803372951846],\n  [-1.740935120623127, -0.02559082666150632],\n  [-1.740935120623127, +0.02559082666150632],\n  [-1.6277399805093622, -0.03537185266425102],\n  [-1.6277399805093622, +0.03537185266425102],\n  [-1.421605744156503, -0.1593954276532224],\n  [-1.421605744156503, +0.1593954276532224],\n  [-1.2939615760091272, -0.43546173877969546],\n  [-1.2939615760091272, +0.43546173877969546],\n  [-1.291947586548389, -0.44069393798561907],\n  [-1.291947586548389, +0.44069393798561907],\n  [-1.2722317463697952, -0.35803650299015766],\n  [-1.2722317463697952, +0.35803650299015766],\n  [-1.2644334604697414, -0.41556285821252864],\n  [-1.2644334604697414, +0.41556285821252864],\n  [-1.0354138031622422, -0.3840984757180072],\n  [-1.0354138031622422, +0.3840984757180072],\n  [-0.9847308334125474, -0.31380169156335025],\n  [-0.9847308334125474, +0.31380169156335025],\n  [-0.7075411139546087, -0.46468607201778533],\n  [-0.7075411139546087, +0.46468607201778533],\n  [-0.6197329958313113, -0.6076941038665368],\n  [-0.6197329958313113, +0.6076941038665368],\n  [-0.6046999163654826, -0.6942862429828436],\n  [-0.6046999163654826, +0.6942862429828436],\n  [-0.5279970981213153, -0.7064101026171952],\n  [-0.5279970981213153, +0.7064101026171952],\n  [-0.3758395073362845, -0.677012695624099],\n  [-0.3758395073362845, +0.677012695624099],\n  [-0.3030764054313572, -0.8486806659996652],\n  [-0.3030764054313572, +0.8486806659996652],\n  [-0.2271564557879543, -1.117260590538202],\n  [-0.2271564557879543, +1.117260590538202],\n  [-0.21967703813184225, -1.1146127671102686],\n  [-0.21967703813184225, +1.1146127671102686],\n  [-0.21444902213612624, -1.1147147845402439],\n  [-0.21444902213612624, +1.1147147845402439],\n  [-0.1689871149278874, -1.0423702532716137],\n  [-0.1689871149278874, +1.0423702532716137],\n  [-0.15742592463519373, -1.109902657618114],\n  [-0.15742592463519373, +1.109902657618114],\n  [-0.1573435838282271, -1.107661391417083],\n  [-0.1573435838282271, +1.107661391417083],\n  [-0.06376879075377218, -0.9914997536264796],\n  [-0.06376879075377218, +0.9914997536264796],\n  [-0.02433847540062209, -0.9818493725513718],\n  [-0.02433847540062209, +0.9818493725513718],\n  [-0.00773471944145502, -1.0313618119960348],\n  [-0.00773471944145502, +1.0313618119960348],\n  [0.0026886626131879454, -1.006468217633317],\n  [0.0026886626131879454, +1.006468217633317],\n  [0.030263632205689648, -0.869783735012321],\n  [0.030263632205689648, +0.869783735012321],\n  [0.14428781716769554, -0.67966579626644],\n  [0.14428781716769554, +0.67966579626644],\n  [0.3488987734481062, -0.7044155323991794],\n  [0.3488987734481062, +0.7044155323991794],\n  [0.36095024131541825, -0.6606032958995853],\n  [0.36095024131541825, +0.6606032958995853],\n  [0.36365682866329047, -0.6962335528331495],\n  [0.36365682866329047, +0.6962335528331495],\n  [0.37363256928102, -0.08504535015303125],\n  [0.37363256928102, +0.08504535015303125],\n  [0.39156712856779863, -0.5640511970578226],\n  [0.39156712856779863, +0.5640511970578226],\n  [0.40500858222626374, -0.6059213596284351],\n  [0.40500858222626374, +0.6059213596284351],\n  [0.4166521307201434, -0.14653290843521466],\n  [0.4166521307201434, +0.14653290843521466],\n  [0.41790222084148015, -0.6173465481651964],\n  [0.41790222084148015, +0.6173465481651964],\n  [0.4466212083137502, -0.24753609077164965],\n  [0.4466212083137502, +0.24753609077164965],\n  [0.4603384945375034, -0.32881707721927295],\n  [0.4603384945375034, +0.32881707721927295],\n  [0.4647838436128635, -0.39518994133563684],\n  [0.4647838436128635, +0.39518994133563684],\n  [0.46974912430800797, -0.35721985163743614],\n  [0.46974912430800797, +0.35721985163743614],\n  [-1.999285319275514, 0],\n  [-1.9988190922181976, 0],\n  [-1.989253235742796, 0],\n  [-1.9821133576941452, 0],\n  [-1.9698199060488701, 0],\n  [-1.9643646905403693, 0],\n  [-1.9108466666776844, 0],\n  [-1.9023085534798632, 0],\n  [-1.8684294412619393, 0],\n  [-1.8494885388820907, 0],\n  [-1.769763657789392, -0.05527042399850651],\n  [-1.769763657789392, +0.05527042399850651],\n  [-1.7686647334730445, -0.057774377151697115],\n  [-1.7686647334730445, +0.057774377151697115],\n  [-1.6324819950102978, -0.021230722469446375],\n  [-1.6324819950102978, +0.021230722469446375],\n  [-1.4907046542208529, -0.03515540131558631],\n  [-1.4907046542208529, +0.03515540131558631],\n  [-1.2933273724330656, -0.43548675980273543],\n  [-1.2933273724330656, +0.43548675980273543],\n  [-1.2919874496168833, -0.4404045516489427],\n  [-1.2919874496168833, +0.4404045516489427],\n  [-1.2878025340040389, -0.3564729275040257],\n  [-1.2878025340040389, +0.3564729275040257],\n  [-1.27252891739412, -0.19761302263104383],\n  [-1.27252891739412, +0.19761302263104383],\n  [-1.2463053347886526, -0.41455098952872477],\n  [-1.2463053347886526, +0.41455098952872477],\n  [-1.1583437403995747, -0.3354185307258645],\n  [-1.1583437403995747, +0.3354185307258645],\n  [-0.9096111636762423, -0.3136192205103384],\n  [-0.9096111636762423, +0.3136192205103384],\n  [-0.6953227803155867, -0.4812950130224665],\n  [-0.6953227803155867, +0.4812950130224665],\n  [-0.6268209964505074, -0.689470720614263],\n  [-0.6268209964505074, +0.689470720614263],\n  [-0.6205896749036497, -0.6657707841412563],\n  [-0.6205896749036497, +0.6657707841412563],\n  [-0.5356893597077675, -0.6871903216632342],\n  [-0.5356893597077675, +0.6871903216632342],\n  [-0.4002893506878564, -0.6387059792887961],\n  [-0.4002893506878564, +0.6387059792887961],\n  [-0.24999373990403154, -0.8880621064043025],\n  [-0.24999373990403154, +0.8880621064043025],\n  [-0.22708153615420865, -1.117290882169264],\n  [-0.22708153615420865, +1.117290882169264],\n  [-0.22092351009961073, -1.115341003148648],\n  [-0.22092351009961073, +1.115341003148648],\n  [-0.20675035707848127, -1.1193359809797128],\n  [-0.20675035707848127, +1.1193359809797128],\n  [-0.18633936570341034, -1.093943657087661],\n  [-0.18633936570341034, +1.093943657087661],\n  [-0.1851681056612914, -1.026996321634607],\n  [-0.1851681056612914, +1.026996321634607],\n  [-0.15163414852042442, -1.1048909821121933],\n  [-0.15163414852042442, +1.1048909821121933],\n  [-0.13857457067054088, -1.0467444543382443],\n  [-0.13857457067054088, +1.0467444543382443],\n  [-0.0656668958309191, -0.976035220583662],\n  [-0.0656668958309191, +0.976035220583662],\n  [-0.01337313957624713, -1.0369613834346045],\n  [-0.01337313957624713, +1.0369613834346045],\n  [-0.013371174638882967, -1.0253005663958814],\n  [-0.013371174638882967, +1.0253005663958814],\n  [-0.003845337833063905, -1.0025916782813968],\n  [-0.003845337833063905, +1.0025916782813968],\n  [0.041338434550822485, -0.8159043738084379],\n  [0.041338434550822485, +0.8159043738084379],\n  [0.14123214192350295, -0.6879662452978863],\n  [0.14123214192350295, +0.6879662452978863],\n  [0.29705677781801204, -0.610428183008787],\n  [0.29705677781801204, +0.610428183008787],\n  [0.34767026582521143, -0.4955958891409985],\n  [0.34767026582521143, +0.4955958891409985],\n  [0.34912439487446023, -0.7044912918643927],\n  [0.34912439487446023, +0.7044912918643927],\n  [0.3628173831945364, -0.6945467473398266],\n  [0.3628173831945364, +0.6945467473398266],\n  [0.37726270570320836, -0.08565926252477611],\n  [0.37726270570320836, +0.08565926252477611],\n  [0.38176491276110563, -0.6793828769766662],\n  [0.38176491276110563, +0.6793828769766662],\n  [0.4093308851172029, -0.5660757725394203],\n  [0.4093308851172029, +0.5660757725394203],\n  [0.41805236498538983, -0.15048650476436493],\n  [0.41805236498538983, +0.15048650476436493],\n  [0.4203170357547033, -0.6084780066339553],\n  [0.4203170357547033, +0.6084780066339553],\n  [0.4469869039232682, -0.21329597047632687],\n  [0.4469869039232682, +0.21329597047632687],\n  [0.456589411132418, -0.40852287245839725],\n  [0.456589411132418, +0.40852287245839725],\n  [0.4637367814295424, -0.3822828061448596],\n  [0.4637367814295424, +0.3822828061448596],\n  [0.46703959845942344, -0.3438846036288607],\n  [0.46703959845942344, +0.3438846036288607],\n  [-1.999421316182887, 0],\n  [-1.994779832240973, 0],\n  [-1.9711360271157117, 0],\n  [-1.9504995048230458, 0],\n  [-1.9311263453811278, 0],\n  [-1.8992014636361358, 0],\n  [-1.8043698868373597, 0],\n  [-1.7189745334925968, 0],\n  [-1.5091717509014198, 0],\n  [-1.76977537177423, -0.06004245673176813],\n  [-1.76977537177423, +0.06004245673176813],\n  [-1.4122304676796664, -0.1443321818356067],\n  [-1.4122304676796664, +0.1443321818356067],\n  [-1.2928969455322314, -0.4396603714766521],\n  [-1.2928969455322314, +0.4396603714766521],\n  [-1.2839535192575642, -0.4207446460167148],\n  [-1.2839535192575642, +0.4207446460167148],\n  [-1.1623415998840387, -0.2923689338965861],\n  [-1.1623415998840387, +0.2923689338965861],\n  [-1.0200461822593851, -0.36748403518324746],\n  [-1.0200461822593851, +0.36748403518324746],\n  [-0.6255569430592867, -0.687681221815796],\n  [-0.6255569430592867, +0.687681221815796],\n  [-0.6106129566932587, -0.6293060267801633],\n  [-0.6106129566932587, +0.6293060267801633],\n  [-0.35118706076138795, -0.6773401246458459],\n  [-0.35118706076138795, +0.6773401246458459],\n  [-0.2872441733751101, -0.8575939124093169],\n  [-0.2872441733751101, +0.8575939124093169],\n  [-0.22677897968197844, -1.1172390163859092],\n  [-0.22677897968197844, +1.1172390163859092],\n  [-0.2091180790434681, -1.1042121744683364],\n  [-0.2091180790434681, +1.1042121744683364],\n  [-0.1852706437589704, -1.0990083425242756],\n  [-0.1852706437589704, +1.0990083425242756],\n  [-0.15584691597356404, -1.111780371577991],\n  [-0.15584691597356404, +1.111780371577991],\n  [-0.04230812091001557, -0.9978915519869463],\n  [-0.04230812091001557, +0.9978915519869463],\n  [-0.04083232794696231, -0.9728743301389775],\n  [-0.04083232794696231, +0.9728743301389775],\n  [-0.013251543240786494, -1.0364943112107146],\n  [-0.013251543240786494, +1.0364943112107146],\n  [0.03343443157379508, -0.8558285330720226],\n  [0.03343443157379508, +0.8558285330720226],\n  [0.28249230310063783, -0.623859214271141],\n  [0.28249230310063783, +0.623859214271141],\n  [0.3498461594638827, -0.7043016223285417],\n  [0.3498461594638827, +0.7043016223285417],\n  [0.36293534597247334, -0.5024452210762119],\n  [0.36293534597247334, +0.5024452210762119],\n  [0.3825482266372369, -0.08924335125562426],\n  [0.3825482266372369, +0.08924335125562426],\n  [0.38322464857489774, -0.6637704333670135],\n  [0.38322464857489774, +0.6637704333670135],\n  [0.4185095366974264, -0.6195672270596253],\n  [0.4185095366974264, +0.6195672270596253],\n  [0.4502438930218733, -0.2349683833496703],\n  [0.4502438930218733, +0.2349683833496703],\n  [0.4574733802458696, -0.4075136264742606],\n  [0.4574733802458696, +0.4075136264742606],\n  [0.45788423584845256, -0.325393544244441],\n  [0.45788423584845256, +0.325393544244441],\n  [-1.9995982370157497, 0],\n  [-1.989863772181123, 0],\n  [-1.9802055873812576, 0],\n  [-1.9478631515086564, 0],\n  [-1.93425804508536, 0],\n  [-1.875762032975969, 0],\n  [-1.8447687460482096, 0],\n  [-1.6443184654985614, 0],\n  [-1.6094791752545248, 0],\n  [-1.9963788258048842, -0.00011371257127360741],\n  [-1.9963788258048842, +0.00011371257127360741],\n  [-1.9668027797243839, -0.0010987468238905],\n  [-1.9668027797243839, +0.0010987468238905],\n  [-1.9073768267543227, -0.0033419443436629266],\n  [-1.9073768267543227, +0.0033419443436629266],\n  [-1.7885037775839983, -0.021431566752711934],\n  [-1.7885037775839983, +0.021431566752711934],\n  [-1.7702985346291844, -0.06210234216334449],\n  [-1.7702985346291844, +0.06210234216334449],\n  [-1.74006238257934, -0.02817533977921105],\n  [-1.74006238257934, +0.02817533977921105],\n  [-1.4912817508415883, -0.05003684694142526],\n  [-1.4912817508415883, +0.05003684694142526],\n  [-1.4192352121574179, -0.15135430707910227],\n  [-1.4192352121574179, +0.15135430707910227],\n  [-1.2943253507118524, -0.440220125951259],\n  [-1.2943253507118524, +0.440220125951259],\n  [-1.2914596913496748, -0.41803736895509],\n  [-1.2914596913496748, +0.41803736895509],\n  [-1.2909367244876817, -0.19958598390270274],\n  [-1.2909367244876817, +0.19958598390270274],\n  [-1.2808867803456032, -0.4366559796361308],\n  [-1.2808867803456032, +0.4366559796361308],\n  [-1.2769391594011867, -0.352619749858445],\n  [-1.2769391594011867, +0.352619749858445],\n  [-1.2471511587439268, -0.40916993845513067],\n  [-1.2471511587439268, +0.40916993845513067],\n  [-1.1494643724889997, -0.34718879490892973],\n  [-1.1494643724889997, +0.34718879490892973],\n  [-1.0276641090312117, -0.3790158897703551],\n  [-1.0276641090312117, +0.3790158897703551],\n  [-0.9184503691997246, -0.3296730136415345],\n  [-0.9184503691997246, +0.3296730136415345],\n  [-0.6702091879032537, -0.4580609752969459],\n  [-0.6702091879032537, +0.4580609752969459],\n  [-0.6291720367480353, -0.6842756320919653],\n  [-0.6291720367480353, +0.6842756320919653],\n  [-0.6246327707917375, -0.6080742607700916],\n  [-0.6246327707917375, +0.6080742607700916],\n  [-0.6054014815205986, -0.6944312672290631],\n  [-0.6054014815205986, +0.6944312672290631],\n  [-0.5233194771395405, -0.6881333022784251],\n  [-0.5233194771395405, +0.6881333022784251],\n  [-0.40033912311222336, -0.6823806189439073],\n  [-0.40033912311222336, +0.6823806189439073],\n  [-0.28852206209007186, -0.8472065402951713],\n  [-0.28852206209007186, +0.8472065402951713],\n  [-0.25370147921944153, -0.8861557491069009],\n  [-0.25370147921944153, +0.8861557491069009],\n  [-0.2266607642897199, -1.116350498812775],\n  [-0.2266607642897199, +1.116350498812775],\n  [-0.2228765385179777, -1.1199208801277096],\n  [-0.2228765385179777, +1.1199208801277096],\n  [-0.20610719310882458, -1.1202228182534961],\n  [-0.20610719310882458, +1.1202228182534961],\n  [-0.1992866570197657, -1.0952076237950779],\n  [-0.1992866570197657, +1.0952076237950779],\n  [-0.19779741418289284, -1.1047531613844974],\n  [-0.19779741418289284, +1.1047531613844974],\n  [-0.17502872743485076, -1.054325792726996],\n  [-0.17502872743485076, +1.054325792726996],\n  [-0.15714547373657795, -1.1115934185722196],\n  [-0.15714547373657795, +1.1115934185722196],\n  [-0.15176657291911427, -1.1054761969024278],\n  [-0.15176657291911427, +1.1054761969024278],\n  [-0.13777518980698952, -1.0147729534904053],\n  [-0.13777518980698952, +1.0147729534904053],\n  [-0.06769088858452256, -1.0014697094519263],\n  [-0.06769088858452256, +1.0014697094519263],\n  [-0.018084985087981762, -0.9825183226275647],\n  [-0.018084985087981762, +0.9825183226275647],\n  [-0.014557285722777504, -1.0357489203253425],\n  [-0.014557285722777504, +1.0357489203253425],\n  [-0.00789710379422423, -1.0314503037036646],\n  [-0.00789710379422423, +1.0314503037036646],\n  [-0.001369133815686742, -1.0027556603634655],\n  [-0.001369133815686742, +1.0027556603634655],\n  [0.02554819966830337, -0.8578886562911151],\n  [0.02554819966830337, +0.8578886562911151],\n  [0.04025434768721689, -0.8197234963663766],\n  [0.04025434768721689, +0.8197234963663766],\n  [0.14355621452983444, -0.6520726473108006],\n  [0.14355621452983444, +0.6520726473108006],\n  [0.24604017408753248, -0.6214842779308433],\n  [0.24604017408753248, +0.6214842779308433],\n  [0.34982273901315925, -0.7017236471431629],\n  [0.34982273901315925, +0.7017236471431629],\n  [0.3589735409851732, -0.7025232407654431],\n  [0.3589735409851732, +0.7025232407654431],\n  [0.3725562862309069, -0.5277827197217666],\n  [0.3725562862309069, +0.5277827197217666],\n  [0.3810311310277332, -0.6813579710684922],\n  [0.3810311310277332, +0.6813579710684922],\n  [0.38378442498300347, -0.6688906396643813],\n  [0.38378442498300347, +0.6688906396643813],\n  [0.3847274301749914, -0.10928329444915276],\n  [0.3847274301749914, +0.10928329444915276],\n  [0.3973918222965412, -0.13351120487187765],\n  [0.3973918222965412, +0.13351120487187765],\n  [0.39774487928480246, -0.5613664534723386],\n  [0.39774487928480246, +0.5613664534723386],\n  [0.41594192934106383, -0.618518985301798],\n  [0.41594192934106383, +0.618518985301798],\n  [0.41971475660862456, -0.609368848912476],\n  [0.41971475660862456, +0.609368848912476],\n  [0.44316898700794133, -0.2316248352867959],\n  [0.44316898700794133, +0.2316248352867959],\n  [0.44479166764934985, -0.21575954162746477],\n  [0.44479166764934985, +0.21575954162746477],\n  [0.4548466890715607, -0.40338866543683793],\n  [0.4548466890715607, +0.40338866543683793],\n  [0.4603506014395649, -0.3324636530007653],\n  [0.4603506014395649, +0.3324636530007653],\n  [0.4640380630656877, -0.39502943309399446],\n  [0.4640380630656877, +0.39502943309399446],\n  [0.4653340747035333, -0.34699996757740714],\n  [0.4653340747035333, +0.34699996757740714],\n];\n","// TODO set max iterations as parameter\n\nimport { RendererRenderValues } from '../common/render';\n\nconst newSmoothJuliaShader = ({\n  maxI = 300,\n  AA = 1,\n  B = 64,\n}: RendererRenderValues): string => `\n\n#define AA ${AA}\n#define MAXI ${maxI}\n#define B ${B.toFixed(1)}\n\n// set high float precision (lower than this may break colours on mobile)\nprecision highp float;\n\n// need to know the resolution of the canvas\nuniform vec2 resolution;\n\n// properties should be passed as uniforms\nuniform int   u_maxI;\nuniform vec2  u_xy;\nuniform vec2  u_c;\nuniform float u_zoom;\nuniform float u_theta;\nuniform vec3  u_colour;\n\nfloat julia( vec2 z, vec2 c ) {\n\n  float l = 0.0;\n  for( int i=0; i<MAXI; i++ )\n  {\n      z = vec2( z.x*z.x - z.y*z.y, 2.0*z.x*z.y ) + c;\n      if( dot(z,z)>(B*B) ) break;\n      l += 1.0;\n  }\n\n  // maxed out iterations\n  if( l>float(MAXI)-1.0 ) return 0.0;\n\n  // equivalent optimized smooth interation count\n  l = l - log2(log2(dot(z,z))) + 4.0;\n\n  return l;\n}\n\nvoid main() {    \n  // set the initial colour to black\n  vec3 col = vec3(0.0);\n\n  // anti-aliasing\n  #if AA>1\n  for( int m=0; m<AA; m++ )\n  for( int n=0; n<AA; n++ )\n  {\n      vec2 p = (2.0*(gl_FragCoord.xy + vec2(float(m), float(n)) / float(AA) ) - resolution.xy)/resolution.y;\n      float w = float(AA*m+n);\n  #else    \n      // adjust pixels to range from [-1, 1]\n      vec2 p = (2.0*gl_FragCoord.xy - resolution.xy)/resolution.y;\n  #endif\n  \n  // constant \"c\" to add, based on mandelbrot position\n  vec2 c = u_c;\n\n  float sinT = sin(u_theta);\n  float cosT = cos(u_theta);\n\n  vec2 xy = vec2( p.x*cosT - p.y*sinT, p.x*sinT + p.y*cosT );\n  // c is based on offset and grid position, z_0 = 0\n  vec2 z = u_xy + xy/u_zoom;\n\n  float l = julia(z, c);\n  // col += 0.5 + 0.5*cos( 3.0 + l*0.15 + vec3(0.0,0.6,1.0));\n  col += 0.5 + 0.5*cos( 3.0 + l*0.15 + u_colour);\n\n\n  // antialiasing\n  #if AA>1\n  }\n  col /= float(AA*AA);\n  #endif\n\n  // Output to screen\n  gl_FragColor = vec4( col, 1.0 );\n}\n`;\n\nexport default newSmoothJuliaShader;\n","import { FormControlLabelProps, SvgIcon } from '@material-ui/core';\nimport React from 'react';\nimport { RgbColor } from 'react-colorful';\nimport { defaultShadingColour } from './values';\n// https://stackoverflow.com/a/39281228/9184658\n\nexport type settingsDefinitionsType = {\n  showMinimap: boolean;\n  showCrosshair: boolean;\n  showCoordinates: boolean;\n  showMisiurewiczPoints: boolean;\n  shadeMisiurewiczDomains: boolean;\n  showFPS: boolean;\n  maxI: number;\n  useDPR: boolean;\n  useAA: boolean;\n  colour: RgbColor;\n};\n\nexport const defaultSettings = {\n  showMinimap: true,\n  showCrosshair: true,\n  showCoordinates: false,\n  showMisiurewiczPoints: false,\n  shadeMisiurewiczDomains: false,\n  maxI: 250,\n  showFPS: false,\n  useDPR: false,\n  useAA: false,\n  colour: defaultShadingColour,\n};\n\nexport type settingsWidgetType = {\n  // - settings widgets key k must be in the set\n  // - its type must be of FormControlLabelProps (for displaying in the Material UI form)\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  [k in keyof settingsDefinitionsType]: FormControlLabelProps;\n  // using \"k\" results in an error since it is not used again\n};\n\nexport type settingsGroupType = {\n  name: string;\n  icon: typeof SvgIcon;\n  widgets: {\n    // widget groups may contain any of the keys in the settingsDefinitionsType\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    [k in keyof Partial<settingsDefinitionsType>]: FormControlLabelProps;\n    // using \"k\" results in an error since it is not used again\n  };\n};\n\nexport type SettingsContextType = {\n  settings: settingsDefinitionsType;\n  setSettings: React.Dispatch<React.SetStateAction<settingsDefinitionsType>>;\n  settingsWidgets: settingsWidgetType;\n  // newSettings: {\n  //   [k in keyof settingsDefinitionsType]: [\n  //     settingsDefinitionsType[k],\n  //     React.Dispatch<React.SetStateAction<settingsDefinitionsType[k]>>,\n  //   ];\n  // };\n};\n\nexport interface SettingsMenuProps {\n  reset: () => void;\n  toggleInfo: () => void;\n}\n","import { Slider, Switch } from '@material-ui/core';\nimport ExtensionIcon from '@material-ui/icons/Extension';\nimport PhotoIcon from '@material-ui/icons/Photo';\nimport CompareIcon from '@material-ui/icons/Compare';\nimport React from 'react';\nimport { RgbColorPicker } from 'react-colorful';\nimport {\n  settingsDefinitionsType,\n  settingsGroupType,\n  settingsWidgetType,\n} from '../../common/settings';\n\nexport const settingsWidgets = (\n  settings: settingsDefinitionsType,\n): settingsWidgetType => ({\n  showMinimap: {\n    label: 'Minimap',\n    checked: settings.showMinimap,\n    control: <Switch />,\n  },\n  showCrosshair: {\n    label: 'Crosshair',\n    checked: settings.showCrosshair,\n    control: <Switch />,\n  },\n  showCoordinates: {\n    label: 'Show coordinates',\n    checked: settings.showCoordinates,\n    control: <Switch />,\n  },\n  showMisiurewiczPoints: {\n    label: 'Highlight Misiurewicz points',\n    checked: settings.showMisiurewiczPoints,\n    control: <Switch />,\n  },\n\n  shadeMisiurewiczDomains: {\n    label: 'Selection method',\n    value: settings.shadeMisiurewiczDomains,\n    labelPlacement: 'top',\n    style: {\n      marginLeft: 0,\n      marginRight: 0,\n    },\n    control: (\n      <Slider\n        step={null}\n        min={0}\n        max={1}\n        marks={[\n          { value: 0, label: 'List of points' },\n          { value: 1, label: 'Misiurewicz Domains' },\n        ]}\n      />\n    ),\n  },\n  maxI: {\n    label: 'Iterations',\n    value: settings.maxI,\n    labelPlacement: 'top',\n    style: {\n      marginLeft: 0,\n      marginRight: 0,\n    },\n    control: (\n      <Slider\n        min={10}\n        max={1000}\n        step={10}\n        valueLabelDisplay=\"auto\"\n        marks={[\n          { value: 10, label: 10 },\n          { value: 250, label: 250 },\n          { value: 500, label: 500 },\n          { value: 750, label: 750 },\n          { value: 1000, label: 1000 },\n        ]}\n      />\n    ),\n  },\n  useDPR: {\n    // https://stackoverflow.com/a/12830454/9184658\n    // // There is a downside that values like 1.5 will give \"1.50\" as the output. A fix suggested by @minitech:\n    // var numb = 1.5;\n    // numb = +numb.toFixed(2);\n    // // Note the plus sign that drops any \"extra\" zeroes at the end.\n    // // It changes the result (which is a string) into a number again (think \"0 + foo\"),\n    // // which means that it uses only as many digits as necessary.\n    label: `Use pixel ratio (${+window.devicePixelRatio.toFixed(3)})`,\n    checked: settings.useDPR,\n    control: <Switch />,\n  },\n  useAA: {\n    label: `Anti-aliasing (slow)`,\n    checked: settings.useAA,\n    control: <Switch />,\n  },\n  showFPS: {\n    label: `Show FPS`,\n    checked: settings.showFPS,\n    control: <Switch />,\n  },\n  colour: {\n    label: null,\n    style: {\n      marginTop: 14,\n      marginBottom: 10,\n      marginLeft: 0,\n      marginRight: 0,\n    },\n    control: (\n      <RgbColorPicker\n        // set the initial colour\n        color={settings.colour}\n      />\n    ),\n  },\n});\n\nexport const getSettingsWidgetsGrouping = (\n  settingsWidgets: settingsWidgetType,\n): Array<settingsGroupType> => [\n  {\n    icon: ExtensionIcon,\n    name: 'Interface',\n    widgets: {\n      showMinimap: settingsWidgets.showMinimap,\n      showCrosshair: settingsWidgets.showCrosshair,\n      showCoordinates: settingsWidgets.showCoordinates,\n    },\n  },\n  {\n    icon: PhotoIcon,\n    name: 'Graphics',\n    widgets: {\n      maxI: settingsWidgets.maxI,\n      colour: settingsWidgets.colour,\n      useDPR: settingsWidgets.useDPR,\n      useAA: settingsWidgets.useAA,\n      showFPS: settingsWidgets.showFPS,\n    },\n  },\n  {\n    icon: CompareIcon,\n    name: \"Tan's Theorem\",\n    widgets: {\n      showMisiurewiczPoints: settingsWidgets.showMisiurewiczPoints,\n      shadeMisiurewiczDomains: settingsWidgets.shadeMisiurewiczDomains,\n    },\n  },\n];\n","import React, { createContext, ReactNode, useState } from 'react';\nimport {\n  defaultSettings,\n  SettingsContextType,\n  settingsDefinitionsType,\n} from '../../common/settings';\nimport { settingsWidgets } from './SettingsDefinitions';\n\nexport const SettingsContext = createContext<SettingsContextType>({\n  // provide the context with the default values\n  settings: defaultSettings,\n  // can't set state until it's initialized\n  setSettings: () => {\n    return;\n  },\n  settingsWidgets: settingsWidgets(defaultSettings),\n});\n\n// export const useSettings = (): SettingsContextType => useContext(SettingsContext);\n\nexport const SettingsProvider = ({ children }: { children: ReactNode }): JSX.Element => {\n  // https://reactjs.org/docs/context.html#updating-context-from-a-nested-component\n  // no grouping: all settings are accessible\n  const [settings, setSettings] = useState<settingsDefinitionsType>(defaultSettings);\n\n  return (\n    <SettingsContext.Provider\n      value={{\n        settings,\n        setSettings,\n        settingsWidgets: settingsWidgets(settings),\n      }}\n    >\n      {children}\n    </SettingsContext.Provider>\n  );\n};\n\nexport default SettingsProvider;\n","import { colors, createMuiTheme } from '@material-ui/core';\n\nconst theme = createMuiTheme({\n  props: {\n    // Name of the component \n    MuiSwitch: {\n      // The default props to change\n      color: 'primary', // x, on the whole application !\n    },\n    MuiButton: {\n      variant: 'outlined',\n      style: {\n        borderRadius: 24,\n      },\n    },\n  },\n  palette: {\n    primary: {\n      main: colors.blue[700],\n    },\n    secondary: {\n      main: colors.red[700],\n    },\n    info: {\n      main: colors.blue[700],\n    },\n  },\n  shape: {\n    borderRadius: 12,\n  },\n});\n\nexport const simpleBoxShadow = '0px 2px 10px 1px rgba(0, 0, 0, 0.4)';\nexport const lightBoxShadow = '0px 0px 10px 2px rgba(255, 255, 255, 0.8)';\nexport const darkBoxShadow = '0px 0px 10px 2px rgba(0, 0, 0, 0.8)';\n\n/**\n * A box shadow comprised of two overlaid box shadows:\n * - a light box shadow (for contrasting against **dark** backgrounds)\n * - a dark box shadow (for contrasting against **light** backgrounds)\n */\nexport const contrastBoxShadow = `${lightBoxShadow}, ${darkBoxShadow}`;\n\nexport default theme;\n","export const fullVertexShader = `\r\nattribute vec4 position;\r\n\r\nvoid main() {\r\n  gl_Position = position;\r\n}\r\n`;\r\n\r\n// This \"position\" array specifies the vertex positions of the element\r\n// to be displayed by the vertex shader. It represents two triangles,\r\n// each filling half of the screen diagonally, and together filling the\r\n// full canvas space to allow the fragment shader to act on the full canvas.\r\nexport const fullscreenVertexArray = {\r\n  position: {\r\n    numComponents: 3,\r\n    data: [-1, -1, 0, 1, -1, 0, -1, 1, 0, -1, 1, 0, 1, -1, 0, 1, 1, 0],\r\n  },\r\n};\r\n","import React, { useCallback, useEffect, useRef } from 'react';\nimport { animated } from 'react-spring';\nimport * as twgl from 'twgl.js';\nimport { WebGLCanvasProps } from '../../common/render';\nimport { fullscreenVertexArray, fullVertexShader } from '../../shaders/fullVertexShader';\n\n// https://mariusschulz.com/blog/typing-destructured-object-parameters-in-typescript\n// https://stackoverflow.com/a/50294843/9184658\nconst WebGLCanvas = React.forwardRef<HTMLCanvasElement, WebGLCanvasProps>(\n  (props: WebGLCanvasProps, refAny) => {\n    // const { mini = false, ...rest } = props;\n    // props:\n    // id\n    // fragShader\n    // -- uniforms:\n    //    u_zoom\n    //    u_pos\n    //    u_maxI\n    // ref\n    // glRef\n\n    const canvasRef = refAny as React.MutableRefObject<HTMLCanvasElement>;\n\n    const gl = useRef<WebGLRenderingContext | null>();\n    const renderRequestRef = useRef<number>();\n    const bufferInfo = useRef<twgl.BufferInfo>();\n    const programInfo = useRef<twgl.ProgramInfo>();\n\n    const u = props.u;\n    const setFps = props.fps;\n\n    // have a zoom callback\n    // keeps minimaps at a fixed zoom level\n    const zoom = useCallback(() => (props.mini ? 1.0 : props.u.zoom.getValue()), [\n      props.mini,\n      props.u.zoom,\n    ]);\n\n    const dpr = props.useDPR ? window.devicePixelRatio : 1;\n\n    // canvas setup step - get webgl context\n    const setupCanvas = useCallback(() => {\n      gl.current = canvasRef.current.getContext('webgl');\n      console.debug(`WebGL canvas context created`);\n    }, [gl, canvasRef]);\n\n    useEffect(() => {\n      setupCanvas();\n\n      // https://www.khronos.org/webgl/wiki/HandlingContextLost\n      canvasRef.current.addEventListener(\n        'webglcontextlost',\n        (event) => {\n          console.error('WebGL context lost!');\n          event.preventDefault();\n          // trigger an error alert in future?\n        },\n        false,\n      );\n      canvasRef.current.addEventListener(\n        'webglcontextrestored',\n        (event) => {\n          console.error('WebGL context restored! Setting up...');\n          setupCanvas();\n        },\n        false,\n      );\n\n      // remove this context?\n      // return () => gl.current ??\n    }, [canvasRef, setupCanvas]);\n\n    const compileShader = useCallback(() => {\n      const ctx = gl.current as WebGLRenderingContext;\n      bufferInfo.current = twgl.createBufferInfoFromArrays(ctx, fullscreenVertexArray);\n      programInfo.current = twgl.createProgramInfo(ctx, [\n        fullVertexShader,\n        props.fragShader,\n      ]);\n      console.debug(`Fragment shader compiled`);\n    }, [gl, props.fragShader]);\n\n    // re-compile program if shader changes\n    useEffect(compileShader, [compileShader]);\n\n    const then = useRef(0);\n    const frames = useRef(0);\n    const elapsedTime = useRef(0);\n    // fps update interval\n    const interval = 1000;\n\n    // the main render function for WebGL\n    const render = useCallback(\n      (time) => {\n        const ctx = gl.current as WebGLRenderingContext;\n        const prog = programInfo.current as twgl.ProgramInfo;\n        const buff = bufferInfo.current as twgl.BufferInfo;\n\n        twgl.resizeCanvasToDisplaySize(canvasRef.current, dpr);\n        // scale the viewport to the canvas size\n        ctx.viewport(0, 0, canvasRef.current.width, canvasRef.current.height);\n\n        const uniforms = {\n          resolution: [canvasRef.current.width, canvasRef.current.height],\n          u_zoom: zoom(),\n          u_c: u.c === undefined ? 0 : u.c.getValue(),\n          u_xy: u.xy.getValue(),\n          u_maxI: u.maxI,\n          u_theta: u.theta.getValue(),\n          u_colour: u.colour,\n        };\n\n        ctx.useProgram(prog.program);\n        twgl.setBuffersAndAttributes(ctx, prog, buff);\n        twgl.setUniforms(prog, uniforms);\n        twgl.drawBufferInfo(ctx, buff);\n\n        // calculate fps\n        if (setFps !== undefined) {\n          frames.current++;\n          elapsedTime.current += time - then.current;\n          then.current = time;\n\n          // console.log(elapsedTime.current);\n          if (elapsedTime.current >= interval) {\n            //multiply with (1000 / elapsed) for accuracy\n            setFps((frames.current * (interval / elapsedTime.current)).toFixed(1));\n            frames.current = 0;\n            elapsedTime.current -= interval;\n\n            // document.getElementById('test').innerHTML = fps;\n          }\n        }\n\n        // The 'state' will always be the initial value here\n        renderRequestRef.current = requestAnimationFrame(render);\n      },\n      [gl, u, zoom, dpr, setFps, interval, canvasRef],\n    );\n\n    useEffect(() => {\n      renderRequestRef.current = requestAnimationFrame(render);\n      return () => cancelAnimationFrame(renderRequestRef.current as number);\n    }, [render]);\n\n    return (\n      <animated.canvas\n        className=\"renderer\"\n        ref={refAny}\n        id={props.id}\n        style={{\n          // cursor should show whether the viewer is being grabbed\n          cursor: props.dragging ? 'grabbing' : 'grab',\n          // adding style allows direct style override\n          ...props.style,\n        }}\n      />\n    );\n  },\n);\n\nWebGLCanvas.displayName = 'WebGLCanvas';\n\nexport default WebGLCanvas;\n","import { ButtonBase, Grow, makeStyles } from '@material-ui/core';\nimport React from 'react';\nimport { MinimapViewerProps } from '../../common/render';\nimport { simpleBoxShadow } from '../../theme/theme';\nimport WebGLCanvas from './WebGLCanvas';\n\nconst miniSize = 100;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    borderRadius: theme.shape.borderRadius,\n  },\n}));\n\nconst MinimapViewer = (props: MinimapViewerProps): JSX.Element => {\n  const { canvasRef, onClick, show, ...rest } = props;\n  const classes = useStyles();\n\n  return (\n    <Grow in={show}>\n      <ButtonBase\n        style={{\n          position: 'absolute',\n          // make minimap stick out through backdrop\n          zIndex: 1300,\n          margin: '0.5rem',\n          left: 0,\n          bottom: 0,\n          // cursor: 'pointer',\n          height: miniSize,\n          width: miniSize,\n          // borderRadius: borderRadius,\n          // border: \"1px solid #000\",\n          boxShadow: simpleBoxShadow,\n          overflow: 'hidden',\n          // opacity: zoom.interpolate((z) => _.clamp(z - 1, 0, 1)),\n          // display: zoom.interpolate((z) => (_.clamp(z - 1, 0, 1) === 0 ? 'none' : 'block')),\n        }}\n        onClick={onClick}\n        className={classes.root}\n      >\n        {/* <animated.div */}\n        {/* // \n      // > */}\n        <WebGLCanvas\n          id={props.id}\n          mini={true}\n          ref={canvasRef}\n          {...rest}\n          // setting border radius here stops the canvas clickable area from overflowing\n          // outside the div circle, which would make the clickable area a rectangle\n          style={{\n            // borderRadius: borderRadius,\n            // cursor should be \"pointer\" (looks clickable) if this is a minimap,\n            cursor: 'pointer',\n          }}\n        />\n        {/* </animated.div> */}\n      </ButtonBase>\n    </Grow>\n  );\n};\nexport default MinimapViewer;\n","import React, { useRef, useState } from 'react';\nimport { useGesture } from 'react-use-gesture';\nimport { JuliaRendererProps } from '../../common/render';\nimport { MandelbrotMapsWebGLUniforms } from '../../common/types';\nimport { genericTouchBind, Rgb255ColourToFloat } from '../../common/utils';\nimport newSmoothJuliaShader from '../../shaders/newSmoothJuliaShader';\nimport { SettingsContext } from '../settings/SettingsContext';\nimport MinimapViewer from './MinimapViewer';\nimport WebGLCanvas from './WebGLCanvas';\nexport default function JuliaRenderer(props: JuliaRendererProps): JSX.Element {\n  // variables to hold canvas and webgl information\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const miniCanvasRef = useRef<HTMLCanvasElement>(null);\n\n  const [{ xy }] = props.controls.xyCtrl;\n  const [{ z }, setControlZoom] = props.controls.zoomCtrl;\n  const [{ theta }] = props.controls.rotCtrl;\n  const maxI = props.maxI; // -> global\n  const AA = props.useAA ? 2 : 1;\n\n  const fragShader = newSmoothJuliaShader({\n    maxI: maxI,\n    AA: AA,\n  });\n\n  const miniFragShader = newSmoothJuliaShader({\n    maxI: maxI,\n    AA: 2,\n  });\n\n  const u: MandelbrotMapsWebGLUniforms = {\n    zoom: z,\n    xy: xy,\n    c: props.c,\n    theta: theta,\n    maxI: maxI,\n    colour: Rgb255ColourToFloat(props.colour),\n  };\n\n  const [dragging, setDragging] = useState(false);\n\n  const gtb = genericTouchBind({\n    domTarget: canvasRef,\n    controls: props.controls,\n    setDragging: setDragging,\n  });\n\n  useGesture(gtb.handlers, gtb.config);\n\n  return (\n    <SettingsContext.Consumer>\n      {({ settings }) => (\n        <div\n          className=\"renderer\"\n          style={{\n            position: 'relative',\n          }}\n        >\n          <WebGLCanvas\n            id=\"julia-canvas\"\n            fragShader={fragShader}\n            useDPR={props.useDPR}\n            u={u}\n            ref={canvasRef}\n            dragging={dragging}\n          />\n          <MinimapViewer\n            id=\"julia-minimap-canvas\"\n            fragShader={miniFragShader}\n            useDPR={settings.useDPR}\n            u={u}\n            canvasRef={miniCanvasRef}\n            onClick={() => setControlZoom({ z: 1 })}\n            show={settings.showMinimap}\n          />\n        </div>\n      )}\n    </SettingsContext.Consumer>\n  );\n}\n","// TODO set max iterations as parameter, crosshair as parameter\n\nimport { RendererRenderValues } from '../common/render';\n\nconst makeCrosshair = (stroke: number, radius: number) => ({\n  stroke,\n  radius,\n});\n\nexport const standardCrosshair = makeCrosshair(2, 100);\nexport const miniCrosshair = makeCrosshair(1, 30);\n\nexport interface MandelbrotShaderParams {\n  maxI: number;\n  /** Radial boundary */\n  B: number;\n  /** Anti-aliasing samples */\n  AA: number;\n}\n\nconst newSmoothMandelbrotShader = (\n  { maxI = 300, AA = 1, B = 64 }: RendererRenderValues,\n  showCrosshair = true,\n  crosshairShape = {\n    stroke: 2,\n    radius: 100,\n  },\n): string => {\n  return `\n// Adapted by Joao Maio/2019, based on work by inigo quilez - iq/2013\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n// See here for more information on smooth iteration count:\n// http://iquilezles.org/www/articles/mset_smooth/mset_smooth.htm\n\n#define false 0\n#define true 1\n\n// render parameters\n#define AA ${AA}\n#define MAXI ${maxI}\n#define B ${B.toFixed(1)}\n\n// crosshair parameters\n#define show_crosshair ${showCrosshair}\n#define cross_stroke ${crosshairShape.stroke.toFixed(1)}\n#define cross_radius ${crosshairShape.radius.toFixed(1)}\n\n// set high float precision (lower than this may break colours on mobile)\nprecision highp float;\n\n// need to know the resolution of the canvas\nuniform vec2 resolution;\n\n// properties should be passed as uniforms\nuniform int   u_maxI;  \nuniform vec2  u_xy;\nuniform float u_zoom;\nuniform float u_theta;\nuniform vec3  u_colour;\n\nbool crosshair( float x, float y ) {\n  float abs_x = abs(2.0*x - resolution.x);\n  float abs_y = abs(2.0*y - resolution.y);\n\n  return \n  // crosshair in centre of screen\n  (abs_x <= cross_stroke || abs_y <= cross_stroke) &&\n  // crosshair size / \"radius\"\n  (abs_x <= cross_radius && abs_y <= cross_radius);\n}\n\nfloat mandelbrot( in vec2 c ) {\n    {\n        float c2 = dot(c, c);\n        // skip computation inside M1 - http://iquilezles.org/www/articles/mset_1bulb/mset1bulb.htm\n        if( 256.0*c2*c2 - 96.0*c2 + 32.0*c.x - 3.0 < 0.0 ) return 0.0;\n        // skip computation inside M2 - http://iquilezles.org/www/articles/mset_2bulb/mset2bulb.htm\n        if( 16.0*(c2+2.0*c.x+1.0) - 1.0 < 0.0 ) return 0.0;\n    }\n\n    float l = 0.0;\n    vec2 z  = vec2(0.0);\n    for( int i=0; i<MAXI; i++ )\n    {\n        z = vec2( z.x*z.x - z.y*z.y, 2.0*z.x*z.y ) + c;\n        if( dot(z,z)>(B*B) ) break;\n        l += 1.0;\n    }\n\n    // maxed out iterations\n    if( l>float(MAXI)-1.0 ) return 0.0;\n    \n    // optimized smooth interation count\n    l = l - log2(log2(dot(z,z))) + 4.0;\n\n    return l;\n}\n\nvoid main() {    \n    // set the initial colour to black\n    vec3 col = vec3(0.0);\n\n    // anti-aliasing\n    #if AA>1\n    for( int m=0; m<AA; m++ )\n    for( int n=0; n<AA; n++ )\n    {\n        // vec2 p = (-iResolution.xy + 2.0*(fragCoord.xy+vec2(float(m),float(n))/float(AA)))/iResolution.y;\n        vec2 p = (2.0*(gl_FragCoord.xy + vec2(float(m), float(n)) / float(AA) ) - resolution.xy)/resolution.y;\n        float w = float(AA*m+n);\n    #else    \n        // adjust pixels to range from [-1, 1]\n        vec2 p = (2.0*gl_FragCoord.xy - resolution.xy)/resolution.y;\n    #endif\n\n    float sinT = sin(u_theta);\n    float cosT = cos(u_theta);\n\n    vec2 xy = vec2( p.x*cosT - p.y*sinT, p.x*sinT + p.y*cosT );\n    // c is based on offset and grid position, z_0 = 0\n    vec2 c = u_xy + xy/u_zoom;\n    \n    float l = mandelbrot(c);\n    // col += 0.5 + 0.5*cos( 3.0 + l*0.15 + vec3(0.0,0.6,1.0));\n    col += 0.5 + 0.5*cos( 3.0 + l*0.15 + u_colour);\n\n    // antialiasing\n    #if AA>1\n    }\n    col /= float(AA*AA);\n    #endif\n\n    #if show_crosshair\n    if (crosshair(gl_FragCoord.x, gl_FragCoord.y)) {\n        col = 1. - col;\n    }\n    #endif\n\n    // Output to screen\n    gl_FragColor = vec4( col, 1.0 );\n}\n    `;\n};\n\nexport default newSmoothMandelbrotShader;\n","// TODO set max iterations as parameter, crosshair as parameter\n\nconst makeCrosshair = (stroke: number, radius: number) => ({\n  stroke,\n  radius,\n});\n\nexport const standardCrosshair = makeCrosshair(2, 100);\nexport const miniCrosshair = makeCrosshair(1, 30);\n\nexport interface MandelbrotShaderParams {\n  maxI: number;\n  /** Radial boundary */\n  B: number;\n  /** Anti-aliasing samples */\n  AA: number;\n}\n\nconst misiurewiczDomainsMandelbrotShader = (\n  { maxI = 300, AA = 1, B = 64 },\n  showCrosshair = true,\n  crosshairShape = {\n    stroke: 2,\n    radius: 100,\n  },\n): string => {\n  return `\n// Adapted by Joao Maio/2019, based on work by inigo quilez - iq/2013\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n// See here for more information on smooth iteration count:\n// http://iquilezles.org/www/articles/mset_smooth/mset_smooth.htm\n\n#define false 0\n#define true 1\n\n// render parameters\n#define AA ${AA}\n#define MAXI ${maxI}\n#define B ${B.toFixed(1)}\n\n// crosshair parameters\n#define show_crosshair ${showCrosshair}\n#define cross_stroke ${crosshairShape.stroke.toFixed(1)}\n#define cross_radius ${crosshairShape.radius.toFixed(1)}\n\n// set high float precision (lower than this may break colours on mobile)\nprecision highp float;\n\n// need to know the resolution of the canvas\nuniform vec2 resolution;\n\n// properties should be passed as uniforms\nuniform int   u_maxI;  \nuniform vec2  u_xy;\nuniform float u_zoom;\nuniform float u_theta;\n\nbool crosshair( float x, float y ) {\n  float abs_x = abs(2.0*x - resolution.x);\n  float abs_y = abs(2.0*y - resolution.y);\n\n  return \n  // crosshair in centre of screen\n  (abs_x <= cross_stroke || abs_y <= cross_stroke) &&\n  // crosshair size / \"radius\"\n  (abs_x <= cross_radius && abs_y <= cross_radius);\n}\n\nfloat mandelbrot( in vec2 c ) {\n    float minMag = 999999999.0;\n    float l = 0.0;\n    int minI=0;\n    vec2 z  = vec2(0.0);\n    for( int i=0; i<MAXI; i++ )\n    {\n        vec2 z0 = z;\n        z = vec2( z.x*z.x - z.y*z.y, 2.0*z.x*z.y ) + c;\n        // check that is it preperiodic\n        if (i >= 1 && distance(z0, z) < minMag){\n          minI = i;\n          minMag = distance(z0, z);\n        }\n        if( dot(z,z)>(B*B) ) {\n          l = float(minI);\n          break;\n        }\n    }\n    \n    return l;\n}\n\nvoid main() {    \n    // set the initial colour to black\n    vec3 col = vec3(0.0);\n\n    // anti-aliasing\n    #if AA>1\n    for( int m=0; m<AA; m++ )\n    for( int n=0; n<AA; n++ )\n    {\n        // vec2 p = (-iResolution.xy + 2.0*(fragCoord.xy+vec2(float(m),float(n))/float(AA)))/iResolution.y;\n        vec2 p = (2.0*(gl_FragCoord.xy + vec2(float(m), float(n)) / float(AA) ) - resolution.xy)/resolution.y;\n        float w = float(AA*m+n);\n    #else    \n        // adjust pixels to range from [-1, 1]\n        vec2 p = (2.0*gl_FragCoord.xy - resolution.xy)/resolution.y;\n    #endif\n\n    float sinT = sin(u_theta);\n    float cosT = cos(u_theta);\n\n    vec2 xy = vec2( p.x*cosT - p.y*sinT, p.x*sinT + p.y*cosT );\n    // c is based on offset and grid position, z_0 = 0\n    vec2 c = u_xy + xy/u_zoom;\n    \n    float l = mandelbrot(c);\n    col += 0.5 + 0.5*cos( 3.0 + l*0.15 + vec3(0.0,0.6,1.0));\n\n    // antialiasing\n    #if AA>1\n    }\n    col /= float(AA*AA);\n    #endif\n\n    #if show_crosshair\n    if (crosshair(gl_FragCoord.x, gl_FragCoord.y)) {\n        col = 1. - col;\n    }\n    #endif\n\n    // Output to screen\n    gl_FragColor = vec4( col, 1.0 );\n}\n    `;\n};\n\nexport default misiurewiczDomainsMandelbrotShader;\n","import { Card, Grow } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { animated } from 'react-spring';\r\nimport { FPSCardProps } from '../../common/info';\r\n\r\nconst FPSCard = (props: FPSCardProps): JSX.Element => (\r\n  <Grow in={props.show}>\r\n    <Card\r\n      style={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        padding: '4px 12px',\r\n        margin: 6,\r\n        fontFamily: 'monospace',\r\n        borderRadius: 100,\r\n        fontSize: '1.8rem',\r\n        zIndex: 1300,\r\n        userSelect: 'none',\r\n      }}\r\n    >\r\n      <animated.div>{props.fps}</animated.div>\r\n    </Card>\r\n  </Grow>\r\n);\r\n\r\nexport default FPSCard;\r\n","import React, { useRef, useState } from 'react';\nimport { useGesture } from 'react-use-gesture';\nimport { MandelbrotRendererProps } from '../../common/render';\nimport { MandelbrotMapsWebGLUniforms } from '../../common/types';\nimport { genericTouchBind, Rgb255ColourToFloat } from '../../common/utils';\nimport newSmoothMandelbrotShader, {\n  miniCrosshair,\n  standardCrosshair,\n} from '../../shaders/newSmoothMandelbrotShader';\nimport misiurewiczDomainsMandelbrotShader from '../../shaders/misiurewiczDomainsMandelbrotShader';\nimport FPSCard from '../info/FPSCard';\nimport { SettingsContext } from '../settings/SettingsContext';\nimport MinimapViewer from './MinimapViewer';\nimport WebGLCanvas from './WebGLCanvas';\nimport { AnimationStatus } from '../tans_theorem/MisiurewiczModeFragment';\n\nexport default function MandelbrotRenderer(props: MandelbrotRendererProps): JSX.Element {\n  // variables to hold canvas and webgl information\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const miniCanvasRef = useRef<HTMLCanvasElement>(null);\n\n  // const gl = useRef<WebGLRenderingContext>(null);\n  // const miniGl = useRef<WebGLRenderingContext>(null);\n\n  // this multiplier subdivides the screen space into smaller increments\n  // to allow for velocity calculations to not immediately decay, due to the\n  // otherwise small scale that is being mapped to the screen.\n  // const screenScaleMultiplier = props.screenScaleMultiplier; // -> global\n\n  // temporary bounds to prevent excessive panning\n  // eslint-disable-next-line\n  // const radialBound = 1;\n  // const relativeRadialBound = radialBound;// / -screenScaleMultiplier;\n\n  // read incoming props\n  const [{ xy }] = props.controls.xyCtrl;\n  // const [{ theta, last_pointer_angle }, setControlRot] = props.controls.rot;\n  const [{ z }, setControlZoom] = props.controls.zoomCtrl;\n  const [{ theta }] = props.controls.rotCtrl;\n  const maxI = props.maxI; // -> global\n  const AA = props.useAA ? 2 : 1; // -> global\n\n  const fragShaderMisiurewiczDomain = misiurewiczDomainsMandelbrotShader(\n    {\n      maxI: maxI,\n      AA: AA,\n    },\n    props.showCrosshair,\n    standardCrosshair,\n  );\n  const fragShader = newSmoothMandelbrotShader(\n    {\n      maxI: maxI,\n      AA: AA,\n    },\n    props.showCrosshair,\n    standardCrosshair,\n  );\n  const miniFragShader = newSmoothMandelbrotShader(\n    {\n      maxI: maxI,\n      AA: 2,\n    },\n    props.showCrosshair,\n    miniCrosshair,\n  );\n\n  const u: MandelbrotMapsWebGLUniforms = {\n    zoom: z,\n    xy: xy,\n    theta: theta,\n    maxI: maxI,\n    colour: Rgb255ColourToFloat(props.colour), // vec3(0.0,0.6,1.0)\n    // screenScaleMultiplier: screenScaleMultiplier,\n  };\n\n  const [dragging, setDragging] = useState(false);\n\n  const gtb = genericTouchBind({\n    domTarget: canvasRef,\n    controls: props.controls,\n    // gl: gl,\n    setDragging: setDragging,\n  });\n\n  // https://use-gesture.netlify.app/docs/changelog/#breaking\n  // When adding events directly to the dom element using `domTarget`\n  // you no longer need to clean the effect yourself.\n  // const touchBind =\n  useGesture(gtb.handlers, gtb.config);\n\n  // useEffect(() => {\n  //   touchBind();\n  // }, [touchBind]);\n\n  const [fps, setFps] = useState('');\n\n  return (\n    <SettingsContext.Consumer>\n      {({ settings }) => (\n        <div\n          className=\"renderer\"\n          style={{\n            position: 'relative',\n          }}\n        >\n          <FPSCard fps={fps} show={settings.showFPS} />\n          <WebGLCanvas\n            id=\"mandelbrot\"\n            fragShader={\n              settings.showMisiurewiczPoints &&\n              settings.shadeMisiurewiczDomains &&\n              props.animationState === AnimationStatus.NO_ANIMATION\n                ? fragShaderMisiurewiczDomain\n                : fragShader\n            }\n            useDPR={settings.useDPR}\n            // touchBind={touchBind}\n            u={u}\n            ref={canvasRef}\n            // glRef={gl}\n            fps={setFps}\n            dragging={dragging}\n          />\n          <MinimapViewer\n            id=\"mandelbrot-minimap-canvas\"\n            fragShader={miniFragShader}\n            useDPR={settings.useDPR}\n            u={u}\n            canvasRef={miniCanvasRef}\n            // glRef={miniGl}\n            show={settings.showMinimap}\n            onClick={() => setControlZoom({ z: 1 })}\n          />\n        </div>\n      )}\n    </SettingsContext.Consumer>\n  );\n}\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","// https://felixgerschau.com/create-a-pwa-update-notification-with-create-react-app/\r\n\r\nimport { Button, Snackbar } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport React, { FC, useEffect } from 'react';\r\nimport * as serviceWorker from '../serviceWorker';\r\n\r\nconst ServiceWorkerWrapper: FC = () => {\r\n  const [showReload, setShowReload] = React.useState(false);\r\n  const [waitingWorker, setWaitingWorker] = React.useState<ServiceWorker | null>(null);\r\n\r\n  const onSWUpdate = (registration: ServiceWorkerRegistration) => {\r\n    console.log('Out of date version detected! Triggering snackbar.');\r\n    setShowReload(true);\r\n    setWaitingWorker(registration.waiting);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log('Registering Service Worker for update detection...');\r\n    serviceWorker.register({ onUpdate: onSWUpdate });\r\n  }, []);\r\n\r\n  const reloadPage = () => {\r\n    // optional chaining was not working here...\r\n    // https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html\r\n    waitingWorker && waitingWorker.postMessage({ type: 'SKIP_WAITING' });\r\n    setShowReload(false);\r\n    // reload(b: Boolean) is deprecated\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <Snackbar open={showReload} anchorOrigin={{ vertical: 'top', horizontal: 'center' }}>\r\n      <Alert\r\n        severity=\"info\"\r\n        action={\r\n          <Button color=\"inherit\" variant=\"outlined\" size=\"small\" onClick={reloadPage}>\r\n            Update\r\n          </Button>\r\n        }\r\n      >\r\n        A new version is available!\r\n      </Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nexport default ServiceWorkerWrapper;\r\n","import {\n  Backdrop,\n  Divider,\n  Fab,\n  FormControlLabel,\n  FormControlLabelProps,\n  FormGroup,\n  Grid,\n  makeStyles,\n  Popover,\n  Typography,\n} from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport { SvgIconComponent } from '@material-ui/icons';\nimport InfoIcon from '@material-ui/icons/Info';\nimport MyLocationIcon from '@material-ui/icons/MyLocation';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport React, { useState } from 'react';\nimport { SettingsMenuProps } from '../../common/settings';\n// react-colorful requires style imports\n// import 'react-colorful/dist/index.css';\nimport '../../css/react-colorful.css';\nimport { contrastBoxShadow } from '../../theme/theme';\nimport { SettingsContext } from './SettingsContext';\nimport { getSettingsWidgetsGrouping } from './SettingsDefinitions';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    zIndex: 2,\n  },\n  settingsButton: {\n    boxShadow: contrastBoxShadow,\n  },\n  popoverCardGrid: {\n    paddingTop: 24,\n    paddingBottom: 16,\n    paddingRight: 24,\n    paddingLeft: 24,\n  },\n  sliderControl: {\n    width: 30,\n  },\n}));\n\nconst GroupDivider = () => <Divider style={{ marginTop: 8, marginBottom: 12 }} />;\nconst GroupTitle = (props: { title: string; icon: SvgIconComponent }) => (\n  <Grid container alignItems=\"center\" justify=\"center\" spacing={1}>\n    {/* remove margin to center based only on text and not icon (not ideal) */}\n    <Grid item style={{ marginLeft: -24 }}>\n      <props.icon color=\"primary\" fontSize=\"small\" />\n    </Grid>\n    <Grid item>\n      <Typography color=\"primary\" variant=\"button\" style={{ fontSize: 14 }}>\n        {props.title}\n      </Typography>\n    </Grid>\n  </Grid>\n);\n\nexport default function SettingsMenu(props: SettingsMenuProps): JSX.Element {\n  const classes = useStyles();\n\n  const [anchorEl, setAnchorEl] = useState<EventTarget & HTMLButtonElement>();\n\n  const ResetButton = () => (\n    <Button\n      startIcon={<MyLocationIcon />}\n      color=\"secondary\"\n      aria-controls=\"reset\"\n      onClick={() => {\n        props.reset();\n      }}\n    >\n      Reset\n    </Button>\n  );\n  const AboutButton = () => (\n    <Button\n      startIcon={<InfoIcon />}\n      color=\"primary\"\n      aria-controls=\"about\"\n      onClick={() => {\n        props.toggleInfo();\n        setAnchorEl(undefined);\n      }}\n    >\n      About\n    </Button>\n  );\n\n  return (\n    <div className={classes.root}>\n      <Fab\n        aria-controls=\"menu\"\n        aria-haspopup=\"true\"\n        aria-label=\"settings\"\n        size=\"small\"\n        onClick={(e) => setAnchorEl(e.currentTarget)}\n        // style={{\n        //   boxShadow: heavyBoxShadow,\n        // }}\n        className={classes.settingsButton}\n      >\n        <SettingsIcon />\n      </Fab>\n      <Backdrop open={Boolean(anchorEl)}>\n        <Popover\n          id=\"menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={() => setAnchorEl(undefined)}\n          anchorOrigin={{\n            horizontal: 'right',\n            vertical: 'bottom',\n          }}\n          transformOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n        >\n          <Grid container direction=\"column\" className={classes.popoverCardGrid}>\n            <Grid item container alignItems=\"center\" justify=\"space-around\">\n              <Grid item>\n                <Typography variant=\"h1\" style={{ fontSize: 20 }}>\n                  Configuration\n                </Typography>\n              </Grid>\n            </Grid>\n            <SettingsContext.Consumer>\n              {({ setSettings, settingsWidgets }) =>\n                getSettingsWidgetsGrouping(settingsWidgets).map((g) => (\n                  <Grid item key={g.name}>\n                    <GroupDivider />\n                    <GroupTitle icon={g.icon} title={g.name} />\n                    <FormGroup>\n                      {Object.entries(g.widgets).map(([k, widget]) => (\n                        <FormControlLabel\n                          key={`${k}-control`}\n                          style={{ userSelect: 'none' }}\n                          {...(widget as FormControlLabelProps)}\n                          // ...e catches all event arguments\n                          onChange={(...e) => {\n                            // the value is the last element of the \"e\" array\n                            // https://stackoverflow.com/a/12099341/9184658\n                            // > using destructuring is nice too:\n                            // > const [lastItem] = arr.slice(-1)\n                            // >  diachedelic Mar 11 '19 at 6:30\n                            const [val] = e.slice(-1);\n                            console.debug(`${k} ->`, val);\n                            // TODO: updating state like this seems to be very slow\n                            // either have individual useState pairs, or use a Map?\n                            setSettings((prevState) => ({\n                              ...prevState,\n                              [k]: val,\n                            }));\n                          }}\n                        />\n                      ))}\n                    </FormGroup>\n                  </Grid>\n                ))\n              }\n            </SettingsContext.Consumer>\n\n            <GroupDivider />\n\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"space-between\"\n              alignItems=\"stretch\"\n              spacing={1}\n            >\n              <Grid item>\n                <ResetButton />\n              </Grid>\n              <Grid item>\n                <AboutButton />\n              </Grid>\n            </Grid>\n          </Grid>\n        </Popover>\n      </Backdrop>\n    </div>\n  );\n}\n","import { Grid, ThemeProvider } from '@material-ui/core';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useSpring } from 'react-spring';\nimport './App.css';\nimport {\n  currentLocation,\n  useHashLocation,\n  useHashNavigator,\n  ViewerURLManager,\n} from './common/routing';\nimport {\n  ViewerControlSprings,\n  ViewerLocation,\n  ViewerRotationControl,\n  ViewerXYControl,\n  ViewerZoomControl,\n} from './common/types';\nimport { useWindowSize, warpToPoint } from './common/utils';\nimport { springsConfigs, viewerOrigin } from './common/values';\nimport CoordinateInterface from './components/info/CoordinateInterface';\nimport InfoDialog from './components/info/InfoDialog';\nimport MisiurewiczModeFragment, {\n  AnimationStatus,\n} from './components/tans_theorem/MisiurewiczModeFragment';\nimport JuliaRenderer from './components/render/JuliaRenderer';\n// import 'typeface-roboto';\nimport MandelbrotRenderer from './components/render/MandelbrotRenderer';\nimport ServiceWorkerWrapper from './components/ServiceWorkerWrapper';\nimport SettingsProvider, { SettingsContext } from './components/settings/SettingsContext';\nimport SettingsMenu from './components/settings/SettingsMenu';\nimport theme from './theme/theme';\n\nfunction App(): JSX.Element {\n  const size = useWindowSize();\n\n  // if app is started with a hash location, assume\n  // it should be the starting position\n  // detects hash updates\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [loc, navigate] = useHashLocation();\n\n  // non-reloading hash update\n  const updateBrowserHash = useHashNavigator();\n\n  const urlManager = useMemo(() => new ViewerURLManager(), []);\n\n  // generic callback\n  const updateHash = useCallback(\n    (name: string, v: Partial<ViewerLocation>) => {\n      urlManager.updateViewer(name, v);\n      const u = urlManager.asFullHashURL();\n      // console.debug(`Updated # for ${name} => ${u}`);\n      updateBrowserHash(u);\n    },\n    [updateBrowserHash, urlManager],\n  );\n\n  // callbacks for springs to update url when animation stops\n  const updateM = (v: Partial<ViewerLocation>) => updateHash('m', v);\n  const updateJ = (v: Partial<ViewerLocation>) => updateHash('j', v);\n\n  const mandelbrotControls: ViewerControlSprings = {\n    xyCtrl: useSpring<ViewerXYControl>(() => ({\n      xy: viewerOrigin.xy,\n      config: springsConfigs.default.xy,\n      onRest: updateM,\n    })),\n\n    zoomCtrl: useSpring<ViewerZoomControl>(() => ({\n      z: viewerOrigin.z,\n      minZoom: 0.5,\n      maxZoom: 100000,\n      config: springsConfigs.default.zoom,\n      onRest: updateM,\n    })),\n\n    rotCtrl: useSpring<ViewerRotationControl>(() => ({\n      theta: viewerOrigin.theta, // all angles in rad\n      config: springsConfigs.default.rot,\n      onRest: updateM,\n    })),\n  };\n\n  const juliaControls: ViewerControlSprings = {\n    xyCtrl: useSpring<ViewerXYControl>(() => ({\n      xy: viewerOrigin.xy,\n      config: springsConfigs.default.xy,\n      onRest: updateJ,\n    })),\n\n    zoomCtrl: useSpring<ViewerZoomControl>(() => ({\n      z: viewerOrigin.z,\n      minZoom: 0.5,\n      maxZoom: 2000,\n      config: springsConfigs.default.zoom,\n      onRest: updateJ,\n    })),\n\n    rotCtrl: useSpring<ViewerRotationControl>(() => ({\n      theta: viewerOrigin.theta, // all angles in rad\n      config: springsConfigs.default.rot,\n      onRest: updateJ,\n    })),\n  };\n\n  useEffect(() => {\n    // viewer should update if user goes back / forward on the page\n    // parse current location after user change\n    urlManager.updateFromURL();\n    console.log(`Warping to requested url => ${currentLocation()}`);\n\n    // warp to the newly parsed locations\n    warpToPoint(mandelbrotControls, urlManager.vs['m'].v);\n    warpToPoint(juliaControls, urlManager.vs['j'].v);\n    // this update process should only trigger when the hash location changes\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loc]);\n\n  const reset = () => {\n    warpToPoint(mandelbrotControls, viewerOrigin);\n    warpToPoint(juliaControls, viewerOrigin);\n  };\n\n  const [showInfo, setShowInfo] = useState(false);\n\n  const toggleInfo = () => setShowInfo(!showInfo);\n\n  // const { settings } = useSettings();\n\n  const [animationState, setAnimationState] = React.useState(\n    AnimationStatus.NO_ANIMATION,\n  );\n\n  return (\n    <ThemeProvider theme={theme}>\n      <ServiceWorkerWrapper />\n      <SettingsProvider>\n        <Grid container>\n          <SettingsContext.Consumer>\n            {({ settings }) => (\n              // JSX expressions must have one parent element\n              <Grid\n                item\n                container\n                direction={\n                  (size.width || 1) < (size.height || 0) ? 'column-reverse' : 'row'\n                }\n                justify=\"center\"\n                className=\"fullSize\"\n                style={{\n                  position: 'absolute',\n                }}\n              >\n                <CoordinateInterface\n                  show={settings.showCoordinates}\n                  mandelbrot={mandelbrotControls}\n                />\n\n                <MisiurewiczModeFragment\n                  show={settings.showMisiurewiczPoints}\n                  mandelbrot={mandelbrotControls}\n                  julia={juliaControls}\n                  animationState={animationState}\n                  setAnimationState={setAnimationState}\n                  shadeDomains={settings.shadeMisiurewiczDomains}\n                />\n                <Grid item xs className=\"renderer\">\n                  <MandelbrotRenderer\n                    controls={mandelbrotControls}\n                    animationState={animationState}\n                    {...settings}\n                  />\n                </Grid>\n                <Grid item xs className=\"renderer\">\n                  <JuliaRenderer\n                    c={mandelbrotControls.xyCtrl[0].xy}\n                    controls={juliaControls}\n                    {...settings}\n                  />\n                </Grid>\n              </Grid>\n            )}\n          </SettingsContext.Consumer>\n\n          <SettingsMenu reset={() => reset()} toggleInfo={() => toggleInfo()} />\n\n          <InfoDialog ctrl={[showInfo, setShowInfo]} />\n        </Grid>\n      </SettingsProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// The default service worker is not used: it's overridden instead\n// by the ServiceWorkerWrapper (ServiceWorkerWrapper.tsx)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.register();\n"],"sourceRoot":""}